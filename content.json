[{"title":"CTTypesetterå­¦ä¹ ","date":"2017-03-02T06:56:34.000Z","path":"2017/03/02/CTTypesetterå­¦ä¹ /","text":"","tags":[]},{"title":"CTTextTab.hå­¦ä¹ ","date":"2017-03-02T06:56:09.000Z","path":"2017/03/02/CTTextTabå­¦ä¹ /","text":"ä» Text Tab Types Text Tab Constants Text Tab Creation Text Tab Accesså­¦ä¹  1.Text Tab Types1CFTypeID CTTextTabGetTypeID( void ) CT_AVAILABLE(10_5, 3_2); 2.Text Tab Constants1CT_EXPORT const CFStringRef kCTTabColumnTerminatorsAttributeName CT_AVAILABLE(10_5, 3_2); 3.Text Tab Creation12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); ///åˆ¶è¡¨ç¬¦å‰åéƒ½è¦æœ‰ç©ºæ ¼ï¼Œç”Ÿæ•ˆã€‚ NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;wenjie \\t 322.2 \\t 2.22 \\t 3.33 \\n äº¬æ™“ \\t 5.27 \\t 2.4 \\t 32.43&quot;]; NSMutableDictionary * dic=[NSMutableDictionary dictionary]; CFCharacterSetRef setRef = CFCharacterSetGetPredefined(kCFCharacterSetLowercaseLetter); [dic setObject:(__bridge id _Nonnull)(setRef) forKey:(__bridge NSString *)kCTTabColumnTerminatorsAttributeName]; CTTextTabRef textTab = CTTextTabCreate( kCTTextAlignmentLeft, 100, (__bridge CFDictionaryRef)dic); NSDictionary * dicTextTab = (__bridge NSDictionary * )CTTextTabGetOptions(textTab); NSLog(@&quot;dic textTab %@&quot;,dicTextTab); CTTextTabRef textTab1 = CTTextTabCreate( kCTTextAlignmentCenter, 100, NULL); NSMutableArray * arr= [NSMutableArray array]; UIView * view= [[UIView alloc]initWithFrame:CGRectMake(50, 0, 100, 20)]; view.backgroundColor = [UIColor redColor]; [self addSubview: view]; [arr addObject:(__bridge id)textTab]; [arr addObject:(__bridge id)textTab1]; CGFloat tab = 50; CTParagraphStyleSetting setting[2] ; setting[0].spec = kCTParagraphStyleSpecifierTabStops; setting[0].value =&amp;arr; setting[0].valueSize = sizeof(CFArrayRef); setting[1].spec = kCTParagraphStyleSpecifierDefaultTabInterval; setting[1].value =&amp;tab; setting[1].valueSize = sizeof(CGFloat); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(setting, 2); dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 40 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context); &#125; æ•ˆæœï¼š è¿™ä¸ªè™½ç„¶å½±å“åˆ¶è¡¨ç¬¦ ä½†æ˜¯æ²¡æœ‰æ˜æ˜¾çš„è§„å¾‹å¯ä»¥æŸ¥è¯¢ã€‚ 4.Text Tab Access","tags":[{"name":"CTTextTab1.","slug":"CTTextTab1","permalink":"http://yoursite.com/tags/CTTextTab1/"}]},{"title":"CTRunDelegateå­¦ä¹ ","date":"2017-03-02T06:55:56.000Z","path":"2017/03/02/CTRunDelegateå­¦ä¹ /","text":"æˆ‘ä»¬ä» Run Delegate Types Run Delegate Callbacks Run Delegate Versions Run Delegate Creation Run Delegate Access äº”ä¸ªæ–¹é¢æ¥å­¦ä¹  1.Run Delegate Types1CFTypeID CTRunDelegateGetTypeID( void ) CT_AVAILABLE(10_5, 3_2); 2.Run Delegate Callbacks12typedef void (*CTRunDelegateDeallocateCallback) ( void * refCon ); 12typedef CGFloat (*CTRunDelegateGetAscentCallback) ( void * refCon ); 12typedef CGFloat (*CTRunDelegateGetDescentCallback) ( void * refCon ); 12typedef CGFloat (*CTRunDelegateGetWidthCallback) ( void * refCon ); 12345678typedef struct&#123; CFIndex version; CTRunDelegateDeallocateCallback dealloc; CTRunDelegateGetAscentCallback getAscent; CTRunDelegateGetDescentCallback getDescent; CTRunDelegateGetWidthCallback getWidth;&#125; CTRunDelegateCallbacks; ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031void CTRunDelegateDeallocateCallbackFunction (void * refCon )&#123; &#125;CGFloat CTRunDelegateGetAscentCallbackFunction (void * refCon )&#123; return 30;&#125;CGFloat CTRunDelegateGetDescentCallbackFunction (void * refCon )&#123; return 30;&#125;CGFloat CTRunDelegateGetWidthCallbackFunction(void * refCon )&#123; return 30;&#125; CTRunDelegateDeallocateCallback deallocateCallback= CTRunDelegateDeallocateCallbackFunction; NSLog(@&quot;CTRunDelegateGetAscentCallback è·å–ascent&quot;); CTRunDelegateGetAscentCallback ascentCallback= CTRunDelegateGetAscentCallbackFunction; CTRunDelegateGetDescentCallback descentCallback = CTRunDelegateGetDescentCallbackFunction; CTRunDelegateGetWidthCallback widthCallBack = CTRunDelegateGetWidthCallbackFunction; CTRunDelegateCallbacks callBack ; callBack.version =kCTRunDelegateCurrentVersion; callBack.dealloc = deallocateCallback; callBack.getAscent = ascentCallback; callBack.getDescent = descentCallback; callBack.getWidth = widthCallBack; 3.Run Delegate Versions1234enum &#123; kCTRunDelegateVersion1 = 1, kCTRunDelegateCurrentVersion = kCTRunDelegateVersion1&#125;; 4.Run Delegate Creation123CTRunDelegateRef __nullable CTRunDelegateCreate( const CTRunDelegateCallbacks* callbacks, void * __nullable refCon ) CT_AVAILABLE(10_5, 3_2); 5.Run Delegate Access12void * CTRunDelegateGetRefCon( CTRunDelegateRef runDelegate ) CT_AVAILABLE(10_5, 3_2); ä»£ç ç‰‡æ®µ123456789101112131415161718192021222324252627282930313233343536373839404142- (void)drawRect:(CGRect)rect &#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ /æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CTRunDelegateDeallocateCallback deallocateCallback= CTRunDelegateDeallocateCallbackFunction; NSLog(@&quot;CTRunDelegateGetAscentCallback è·å–ascent&quot;); CTRunDelegateGetAscentCallback ascentCallback= CTRunDelegateGetAscentCallbackFunction; CTRunDelegateGetDescentCallback descentCallback = CTRunDelegateGetDescentCallbackFunction; CTRunDelegateGetWidthCallback widthCallBack = CTRunDelegateGetWidthCallbackFunction; CTRunDelegateCallbacks callBack ; callBack.version =kCTRunDelegateCurrentVersion; callBack.dealloc = deallocateCallback; callBack.getAscent = ascentCallback; callBack.getDescent = descentCallback; callBack.getWidth = widthCallBack; CTRunDelegateRef delegate= CTRunDelegateCreate(&amp;callBack, NULL); NSDictionary * dic =[NSDictionary dictionaryWithObject:(__bridge id)delegate forKey:(__bridge NSString * )kCTRunDelegateAttributeName]; unichar placeHolder = 0xFFFC;///å ä½ç¬¦ NSString * placeHolderStr = [NSString stringWithCharacters:&amp;placeHolder length:1]; NSAttributedString * att = [[NSAttributedString alloc]initWithString:placeHolderStr attributes:dic]; [mabstring insertAttributedString:att atIndex:3 ]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context); CGPathRelease(Path); CFRelease(framesetter);&#125; æ•ˆæœ","tags":[{"name":"CTRunDelegate","slug":"CTRunDelegate","permalink":"http://yoursite.com/tags/CTRunDelegate/"}]},{"title":"CTRubyAnnotationå­¦ä¹ ","date":"2017-03-02T06:55:46.000Z","path":"2017/03/02/CTRubyAnnotationå­¦ä¹ /","text":"","tags":[]},{"title":"CTParagraphStyle.hå­¦ä¹ ","date":"2017-03-02T06:55:33.000Z","path":"2017/03/02/CTParagraphStyleå­¦ä¹ /","text":"ä» Paragraph Style Types Paragraph Style Values Paragraph Style Creation Paragraph Style Access å››ä¸ªæ–¹é¢æ¥å­¦ä¹  CTParagraphStyle æ ·å¼ 1.Paragraph Style Types12CFTypeID CTParagraphStyleGetTypeID( void ) CT_AVAILABLE(10_5, 3_2);è·å–CTParagraphStyle ID 2.Paragraph Style Values123456789101112131415typedef CF_ENUM(uint8_t, CTTextAlignment) &#123; kCTTextAlignmentLeft CT_ENUM_AVAILABLE(10_8, 6_0) = 0, kCTTextAlignmentRight CT_ENUM_AVAILABLE(10_8, 6_0) = 1, kCTTextAlignmentCenter CT_ENUM_AVAILABLE(10_8, 6_0) = 2, kCTTextAlignmentJustified CT_ENUM_AVAILABLE(10_8, 6_0) = 3, kCTTextAlignmentNatural CT_ENUM_AVAILABLE(10_8, 6_0) = 4, kCTLeftTextAlignment CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTTextAlignmentLeft, kCTRightTextAlignment CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTTextAlignmentRight, kCTCenterTextAlignment CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTTextAlignmentCenter, kCTJustifiedTextAlignment CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTTextAlignmentJustified, kCTNaturalTextAlignment CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTTextAlignmentNatural&#125;;æ–‡æœ¬å¯¹é½ 1234567891011typedef CF_ENUM(uint8_t, CTLineBreakMode) &#123; kCTLineBreakByWordWrapping = 0, kCTLineBreakByCharWrapping = 1, kCTLineBreakByClipping = 2, kCTLineBreakByTruncatingHead = 3, kCTLineBreakByTruncatingTail = 4, kCTLineBreakByTruncatingMiddle = 5&#125;;æ–‡æœ¬break mode 123456typedef CF_ENUM(int8_t, CTWritingDirection) &#123; kCTWritingDirectionNatural = -1, kCTWritingDirectionLeftToRight = 0, kCTWritingDirectionRightToLeft = 1&#125;;ä¹¦å†™æ–¹å‘ 123456789101112131415161718192021222324typedef CF_ENUM(uint32_t, CTParagraphStyleSpecifier) &#123; kCTParagraphStyleSpecifierAlignment = 0, kCTParagraphStyleSpecifierFirstLineHeadIndent = 1, kCTParagraphStyleSpecifierHeadIndent = 2, kCTParagraphStyleSpecifierTailIndent = 3, kCTParagraphStyleSpecifierTabStops = 4, kCTParagraphStyleSpecifierDefaultTabInterval = 5, kCTParagraphStyleSpecifierLineBreakMode = 6, kCTParagraphStyleSpecifierLineHeightMultiple = 7, kCTParagraphStyleSpecifierMaximumLineHeight = 8, kCTParagraphStyleSpecifierMinimumLineHeight = 9, kCTParagraphStyleSpecifierLineSpacing CT_ENUM_DEPRECATED(10_5, 10_8, 3_2, 6_0) = 10, kCTParagraphStyleSpecifierParagraphSpacing = 11, kCTParagraphStyleSpecifierParagraphSpacingBefore = 12, kCTParagraphStyleSpecifierBaseWritingDirection = 13, kCTParagraphStyleSpecifierMaximumLineSpacing = 14, kCTParagraphStyleSpecifierMinimumLineSpacing = 15, kCTParagraphStyleSpecifierLineSpacingAdjustment = 16, kCTParagraphStyleSpecifierLineBoundsOptions = 17, kCTParagraphStyleSpecifierCount&#125;;æ®µè½å¯ä»¥ä¿®æ”¹çš„éƒ¨åˆ† é’ˆå¯¹Specifier æ‰€å¯¹åº”çš„è¡¨æ ¼ key value default è§£é‡Š kCTParagraphStyleSpecifierAlignment CTTextAlignment kCTTextAlignmentNatural æ–‡æœ¬å¯¹é½ kCTParagraphStyleSpecifierFirstLineHeadIndent CGFloat 0.0 é¦–è¡Œç¼©è¿› kCTParagraphStyleSpecifierHeadIndent CGFloat 0.0 é™¤äº†é¦–è¡Œéƒ½ç¼©è¿› kCTParagraphStyleSpecifierTailIndent CGFloat 0.0 ç›¸å½“æ–‡æœ¬å®½åº¦ kCTParagraphStyleSpecifierTabStops CFArray of CTTextTabRef 12 left-aligned tabs, spaced by 28.0 points kCTParagraphStyleSpecifierDefaultTabInterval CGFloat 0.0 kCTParagraphStyleSpecifierLineBreakMode CTLineBreakMode kCTLineBreakByWordWrapping æ¢è¡Œæ¨¡å¼ kCTParagraphStyleSpecifierLineHeightMultiple CGFloat 0.0 ä¸çŸ¥é“æ‚ç”¨ kCTParagraphStyleSpecifierMaximumLineHeight CGFloat 0.0 æœ€å¤§è¡Œé«˜ kCTParagraphStyleSpecifierMinimumLineHeight CGFloat 0.0 æœ€å°è¡Œé«˜ kCTParagraphStyleSpecifierLineSpacing CGFloat 0.0 Deprecated åºŸå¼ƒäº† kCTParagraphStyleSpecifierParagraphSpacing CGFloat 0.0 æ®µé—´è· kCTParagraphStyleSpecifierParagraphSpacingBefore CGFloat 0.0 æ®µå‰è·ç¦» kCTParagraphStyleSpecifierBaseWritingDirection CTWritingDirection kCTWritingDirectionNatural æ–¹å‘ï¼ˆå¥‡æ€ªï¼‰ kCTParagraphStyleSpecifierMaximumLineSpacing CGFloat 0.0 è¡Œæœ€å¤§é—´éš” kCTParagraphStyleSpecifierMinimumLineSpacing CGFloat 0.0 è¡Œæœ€å°é—´éš” kCTParagraphStyleSpecifierLineSpacingAdjustment CGFloat 0.0 åºŸå¼ƒ kCTParagraphStyleSpecifierLineBoundsOptions CTLineBoundsOptions 0 ä¸ä¼šç”¨ ä¸‹é¢æ˜¯æ¯ä¸ªSpecifier å¯¹åº”çš„ æ•ˆæœ kCTParagraphStyleSpecifierAlignment 123456789101112131415161718192021222324252627282930ä»£ç ï¼š-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ /æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CTTextAlignment alignment = kCTTextAlignmentRight; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierAlignment; setting.value = &amp;alignment; setting.valueSize = sizeof(alignment); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; ç»“æœï¼š kCTParagraphStyleSpecifierFirstLineHeadIndent 1234567891011121314151617181920212223242526272829-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CGFloat FirstLineHeadIndent =50;; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierFirstLineHeadIndent; setting.value = &amp;FirstLineHeadIndent; setting.valueSize = sizeof(FirstLineHeadIndent); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; ç»“æœï¼š æ¯ä¸ªæ®µè½çš„é¦–è¡Œ ç¼©è¿› kCTParagraphStyleSpecifierHeadIndent 12345678910111213141516171819202122232425ä»£ç ï¼š-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CGFloat HeadIndent =50;; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierHeadIndent; setting.value = &amp;HeadIndent; setting.valueSize = sizeof(HeadIndent); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; ç»“æœï¼šé™¤äº†é¦–è¡Œéƒ½ç¼©è¿› 123456789typedef struct CTParagraphStyleSetting&#123; CTParagraphStyleSpecifier spec; size_t valueSize; const void * value;&#125; CTParagraphStyleSetting;æ®µè½æ¯é¡¹è®¾ç½®éƒ½è¦é€šè¿‡è¿™ä¸ªç»“æ„ä½“æ¥å®ç° kCTParagraphStyleSpecifierTailIndent 12345678910111213141516171819202122232425ä»£ç ï¼š-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CGFloat TailIndent =150;; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierTailIndent; setting.value = &amp;TailIndent; setting.valueSize = sizeof(TailIndent); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; ç»“æœï¼šç›¸å½“äºæ–‡æœ¬ çš„å®½åº¦ kCTParagraphStyleSpecifierMaximumLineHeightæœ€å°è¡Œé—´è· 1234567891011121314151617181920212223242526ä»£ç -(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸helloworld okä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸ æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚&quot;]; CGFloat LineHeightMultiple =7;; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierMaximumLineHeight; setting.value = &amp;LineHeightMultiple; setting.valueSize = sizeof(LineHeightMultiple); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 40 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; ç»“æœï¼š kCTParagraphStyleSpecifierMinimumLineHeight 123456789101112131415161718192021222324252627ä»£ç -(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸helloworld okä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸ æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚&quot;]; CGFloat LineHeightMultiple =30;; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierMinimumLineHeight; setting.value = &amp;LineHeightMultiple; setting.valueSize = sizeof(LineHeightMultiple); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 40 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; ç»“æœ kCTParagraphStyleSpecifierParagraphSpacing æ®µé—´éš” 1234567891011121314151617181920212223242526ä»£ç ï¼š-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸helloworld okä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸ \\n æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚&quot;]; CGFloat LineHeightMultiple =30;; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierParagraphSpacing; setting.value = &amp;LineHeightMultiple; setting.valueSize = sizeof(LineHeightMultiple); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 40 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; ç»“æœï¼š kCTParagraphStyleSpecifierParagraphSpacingBefore è¿™ä¸ªæ²¡çœ‹å‡ºå•¥ï¼Œæ®µå¼€å§‹éƒ¨åˆ†é—´è·ã€‚æ’é™¤ç¬¬ä¸€æ®µï¼Ÿ kCTParagraphStyleSpecifierBaseWritingDirection åŸºæœ¬ä¹¦å†™æ–¹å‘ kCTParagraphStyleSpecifierMinimumLineSpacing æœ€å°è¡Œé—´è· 12345678910111213141516171819202122232425-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸helloworld okä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸ \\n æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§\\nã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚&quot;]; CGFloat LineHeightMultiple =20;; CTWritingDirection dir = kCTWritingDirectionRightToLeft; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierMinimumLineSpacing; setting.value = &amp;LineHeightMultiple; setting.valueSize = sizeof(LineHeightMultiple); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 40 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; æ•ˆæœï¼š â€‹ 3.Paragraph Style Creation123456789101112131415161718192021222324252627282930313233CTParagraphStyleRef CTParagraphStyleCreate( const CTParagraphStyleSetting * __nullable settings, size_t settingCount ) CT_AVAILABLE(10_5, 3_2);åˆ›å»ºä¸€ä¸ªæ®µè½ã€‚ ç”¨æ³•-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ /æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CTTextAlignment alignment = kCTTextAlignmentRight; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierAlignment; setting.value = &amp;alignment; setting.valueSize = sizeof(alignment); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; ç»“æœï¼š kCTParagraphStyleSpecifierLineBreakMode 12345678910111213141516171819202122232425-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸helloworld okä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸ æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CGFloat TailIndent =150;; CTParagraphStyleSetting setting ; CTLineBreakMode breakMode= kCTLineBreakByWordWrapping; setting.spec = kCTParagraphStyleSpecifierLineBreakMode; setting.value = &amp;breakMode; setting.valueSize = sizeof(breakMode); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; ç»“æœï¼škCTLineBreakByWordWrapping word æ¢è¡Œ kCTLineBreakByCharWrapping char å­—ç¬¦æ¢è¡Œ 123456789101112131415161718192021222324252627ä¿®æ”¹ä»£ç  -(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸helloworld okä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸ æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸå¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CGFloat TailIndent =150;; CTParagraphStyleSetting setting ; CTLineBreakMode breakMode= kCTLineBreakByClipping; setting.spec = kCTParagraphStyleSpecifierLineBreakMode; setting.value = &amp;breakMode; setting.valueSize = sizeof(breakMode); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , self.bounds.size.height-60 ,self.bounds.size.width-10 , 60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125; kCTLineBreakByClipping å°¾éƒ¨æˆªæ–­ kCTLineBreakByTruncatingHead å¤´éƒ¨â€¦ kCTLineBreakByTruncatingTail å°¾éƒ¨ â€¦ kCTLineBreakByTruncatingMiddle ä¸­é—´ â€¦ 12345CTParagraphStyleRef CTParagraphStyleCreateCopy( CTParagraphStyleRef paragraphStyle ) CT_AVAILABLE(10_5, 3_2);è¿™ä¸ªå°±æ˜¯copy å‡ºæ¥ä¸€ä¸ª CTParagraphStyleRef 4.Paragraph Style Access1234567891011121314151617181920212223242526272829303132333435363738394041424344454647bool CTParagraphStyleGetValueForSpecifier( CTParagraphStyleRef paragraphStyle, CTParagraphStyleSpecifier spec, size_t valueBufferSize, void * valueBuffer ) CT_AVAILABLE(10_5, 3_2); è·å– paragraphStyle ä¸­ spec å¯¹åº”çš„å€¼ï¼Œ æ”¾å…¥valueBuffer ã€‚è¦æ˜¯æ”¾å…¥å¤±è´¥ï¼Œé‚£ä¹ˆè¿”å›false ä»£ç ï¼š -(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ /æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CTTextAlignment alignment = kCTTextAlignmentRight; CTParagraphStyleSetting setting ; setting.spec = kCTParagraphStyleSpecifierAlignment; setting.value = &amp;alignment; setting.valueSize = sizeof(alignment); CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(&amp;setting, 1); NSMutableDictionary * dic = [NSMutableDictionary dictionary]; [dic setObject:(__bridge id)paragraphStyle forKey:(__bridge NSString *)kCTParagraphStyleAttributeName]; [ mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; bool issuccess = CTParagraphStyleGetValueForSpecifier(paragraphStyle, kCTParagraphStyleSpecifierAlignment, sizeof(alignment), &amp;alignment); if (issuccess) &#123; NSLog(@&quot;paragraphStyle issuccess kCTParagraphStyleSpecifierAlignment&quot;); &#125; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, NULL); CTFrameDraw(frame,context);&#125;ç»“æœï¼š2017-03-02 15:38:49.533 CoreTextDemo[52027:1578356] paragraphStyle issuccess kCTParagraphStyleSpecifierAlignment","tags":[{"name":"CTParagraphStyle","slug":"CTParagraphStyle","permalink":"http://yoursite.com/tags/CTParagraphStyle/"}]},{"title":"CTGlyphInfo.hå­¦ä¹ ","date":"2017-03-02T06:07:04.000Z","path":"2017/03/02/CTGlyphInfoå­¦ä¹ /","text":"æˆ‘ä»¬ä» Glyph Info Types Glyph Info Values Glyph Info Creation Glyph Info Accesså››ä¸ªæ–¹é¢æ¥å­¦ä¹ ã€‚ è¯¥ç±»çš„å‡½æ•°å…·ä½“æ•ˆæœä¸æ˜ï¼Œä»¥åç ”ç©¶ã€‚ 1.Glyph Info Types12CFTypeID CTGlyphInfoGetTypeID( void ) CT_AVAILABLE(10_5, 3_2);è·å–ID 2.Glyph Info Values123456789101112131415typedef CF_ENUM(uint16_t, CTCharacterCollection) &#123; kCTCharacterCollectionIdentityMapping CT_ENUM_AVAILABLE(10_8, 6_0) = 0, kCTCharacterCollectionAdobeCNS1 CT_ENUM_AVAILABLE(10_8, 6_0) = 1, kCTCharacterCollectionAdobeGB1 CT_ENUM_AVAILABLE(10_8, 6_0) = 2, kCTCharacterCollectionAdobeJapan1 CT_ENUM_AVAILABLE(10_8, 6_0) = 3, kCTCharacterCollectionAdobeJapan2 CT_ENUM_AVAILABLE(10_8, 6_0) = 4, kCTCharacterCollectionAdobeKorea1 CT_ENUM_AVAILABLE(10_8, 6_0) = 5, kCTIdentityMappingCharacterCollection CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTCharacterCollectionIdentityMapping, kCTAdobeCNS1CharacterCollection CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTCharacterCollectionAdobeCNS1, kCTAdobeGB1CharacterCollection CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTCharacterCollectionAdobeGB1, kCTAdobeJapan1CharacterCollection CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTCharacterCollectionAdobeJapan1, kCTAdobeJapan2CharacterCollection CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTCharacterCollectionAdobeJapan2, kCTAdobeKorea1CharacterCollection CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTCharacterCollectionAdobeKorea1&#125;; ä¸Šé¢ä¸çŸ¥é“å¹²å˜›ç”¨çš„ 3.Glyph Info Creation12345CTGlyphInfoRef CTGlyphInfoCreateWithGlyphName( CFStringRef glyphName, CTFontRef font, CFStringRef baseString ) CT_AVAILABLE(10_5, 3_2); 1234CTGlyphInfoRef CTGlyphInfoCreateWithGlyph( CGGlyph glyph, CTFontRef font, CFStringRef baseString ) CT_AVAILABLE(10_5, 3_2); 1234CTGlyphInfoRef CTGlyphInfoCreateWithCharacterIdentifier( CGFontIndex cid, CTCharacterCollection collection, CFStringRef baseString ) CT_AVAILABLE(10_5, 3_2); 4.Glyph Info Access12CFStringRef __nullable CTGlyphInfoGetGlyphName( CTGlyphInfoRef glyphInfo ) CT_AVAILABLE(10_5, 3_2); 12CGFontIndex CTGlyphInfoGetCharacterIdentifier( CTGlyphInfoRef glyphInfo ) CT_AVAILABLE(10_5, 3_2); 12CTCharacterCollection CTGlyphInfoGetCharacterCollection( CTGlyphInfoRef glyphInfo ) CT_AVAILABLE(10_5, 3_2);","tags":[{"name":"CTGlyphInfo","slug":"CTGlyphInfo","permalink":"http://yoursite.com/tags/CTGlyphInfo/"}]},{"title":"CTFont.hå­¦ä¹ ","date":"2017-03-02T06:05:56.000Z","path":"2017/03/02/CTFontå­¦ä¹ /","text":"å¯Œæ–‡æœ¬ç¦»ä¸å¼€æ–‡å­—ï¼Œä¸‹é¢æˆ‘ä»¬å­¦ä¸‹å­—ä½“Font å­—ä½“å†…å®¹è¾ƒå¤šï¼Œæˆ‘ä»¬ä»ä»¥ä¸‹æ–¹é¢å­¦ä¸‹ã€‚ 1.Font Types1CFTypeID CTFontGetTypeID( void ) è·å–font CFTypeID 2.Font Constants kCTFontCopyrightNameKey ç‰ˆæƒkey kCTFontFamilyNameKey familyï¼ˆå®¶æ—ï¼‰ key kCTFontSubFamilyNameKey subfamilyï¼ˆå­å®¶æ—ï¼‰key kCTFontStyleNameKey å­—ä½“style key kCTFontUniqueNameKey ç‹¬ä¸€æ— äºŒkeyï¼ˆvalueä¸æ˜¯çœŸçš„ç‹¬ä¸€æ— äºŒï¼Œä¸åº”è¯¥å‡è®¾å”¯ä¸€ï¼‰ kCTFontFullNameKey å­—ä½“å…¨åkey kCTFontVersionNameKey å­—ä½“ç‰ˆæœ¬å·key kCTFontPostScriptNameKey å­—ä½“è¡¥å……è¯´æ˜key kCTFontTrademarkNameKey å•†æ ‡key kCTFontManufacturerNameKey åˆ¶é€ å•†key kCTFontDesignerNameKey è®¾è®¡è€…key kCTFontDescriptionNameKey å­—ä½“æè¿°key kCTFontVendorURLNameKey ä¾›åº”å•†url key kCTFontLicenseNameKey è®¸å¯è¯key kCTFontLicenseURLNameKey è®¸å¯è¯url key kCTFontSampleTextNameKey ç®€å•text key kCTFontPostScriptCIDNameKey è¡¥å……è¯´æ˜CID key è¿™äº›key æš‚æ—¶ä¸çŸ¥é“å¹²å˜›ç”¨çš„ã€‚ 3.Font Creation123456789101112131415161718192021222324252627CTFontRef CTFontCreateWithName( CFStringRef __nullable name, CGFloat size, const CGAffineTransform * __nullable matrix ) name å¿…é¡»æ˜¯postScript å­—ç¬¦ä¸² ä»£ç  -(void)createAllPostScript&#123; NSArray * postScriptArr = (__bridge NSArray *) CTFontManagerCopyAvailablePostScriptNames(); UIScrollView * view = [[UIScrollView alloc]initWithFrame:self.bounds]; view.contentSize = CGSizeMake(self.bounds.size.width, 30*postScriptArr.count); [self addSubview:view]; [postScriptArr enumerateObjectsUsingBlock:^(id _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123; NSString * strName = obj; UILabel * label = [[UILabel alloc]initWithFrame:CGRectMake(0, idx*30, self.bounds.size.width, 30)]; UIFont * font = (__bridge UIFont *)CTFontCreateWithName((__bridge CFStringRef)strName, 20, NULL); strName =(__bridge NSString *) CTFontCopyPostScriptName((__bridge CTFontRef)font); label.font = font; label.text = strName; [view addSubview:label]; &#125;]; &#125; ç»“æœï¼š 123456789101112131415161718192021222324252627282930313233343536CTFontRef CTFontCreateWithFontDescriptor( CTFontDescriptorRef descriptor, CGFloat size, const CGAffineTransform * __nullable matrix ) æ ¹æ®descriptor åˆ›å»ºå­—ä½“ size è®¾ç½®0.0 é»˜è®¤æ˜¯12.0 ä»£ç  - (instancetype)initWithFrame:(CGRect)frame&#123; self = [super initWithFrame:frame]; if (self) &#123; [self createAllPostScript]; &#125; return self;&#125;-(void)createAllPostScript&#123; NSArray * postScriptArr = (__bridge NSArray *) CTFontManagerCopyAvailablePostScriptNames(); UIScrollView * view = [[UIScrollView alloc]initWithFrame:self.bounds]; view.contentSize = CGSizeMake(self.bounds.size.width, 30*postScriptArr.count); [self addSubview:view]; [postScriptArr enumerateObjectsUsingBlock:^(id _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123; NSString * strName = obj; UILabel * label = [[UILabel alloc]initWithFrame:CGRectMake(0, idx*30, self.bounds.size.width, 30)]; CTFontDescriptorRef des = CTFontDescriptorCreateWithNameAndSize((__bridge CFStringRef)strName, 20); UIFont * font = (__bridge UIFont *)CTFontCreateWithFontDescriptor(des, 10, NULL); strName =(__bridge NSString *) CTFontCopyPostScriptName((__bridge CTFontRef)font); label.font = font; label.text = strName; [view addSubview:label]; &#125;];&#125; æ•ˆæœï¼š 1234567891011CTFontRef CTFontCreateWithNameAndOptions( CFStringRef name, CGFloat size, const CGAffineTransform * __nullable matrix, CTFontOptions options ) ä¸»è¦æ˜¯CTFontOptions æ²¡å‘ç°æœ‰å•¥åŒºåˆ«ã€‚ åŒCTFontRef CTFontCreateWithName( CFStringRef __nullable name, CGFloat size, const CGAffineTransform * __nullable matrix )å‡½æ•°æ•ˆæœä¸€æ · 1234567891011CTFontRef CTFontCreateWithFontDescriptorAndOptions( CTFontDescriptorRef descriptor, CGFloat size, const CGAffineTransform * __nullable matrix, CTFontOptions options ) æ•ˆæœåŒ CTFontRef CTFontCreateWithFontDescriptor( CTFontDescriptorRef descriptor, CGFloat size, const CGAffineTransform * __nullable matrix ) 12345CTFontRef __nullable CTFontCreateUIFontForLanguage( CTFontUIFontType uiType, CGFloat size, CFStringRef __nullable language ) è¯¥å‡½æ•°ä¸ä¼šä½¿ç”¨ language ä¸çŸ¥é“æ€ä¹ˆæ¥çš„ 123456CTFontRef CTFontCreateCopyWithAttributes( CTFontRef font, CGFloat size, const CGAffineTransform * __nullable matrix, CTFontDescriptorRef __nullable attributes ) æ ¹æ®font å’Œ attributes åˆ›å»ºä¸€ä¸ªæ–°çš„font CTFontDescriptorRef å±æ€§ä¸çŸ¥é“å’‹ç”¨ 1234567CTFontRef __nullable CTFontCreateCopyWithSymbolicTraits( CTFontRef font, CGFloat size, const CGAffineTransform * __nullable matrix, CTFontSymbolicTraits symTraitValue, CTFontSymbolicTraits symTraitMask ) æš‚æ—¶ä¸ç ”ç©¶ 123456CTFontRef __nullable CTFontCreateCopyWithFamily( CTFontRef font, CGFloat size, const CGAffineTransform * __nullable matrix, CFStringRef family ) æš‚æ—¶ä¸ç ”ç©¶ 4.Font Cascading1234CTFontRef CTFontCreateForString( CTFontRef currentFont, CFStringRef string, CFRange range ) CT_AVAILABLE(10_5, 3_2); 5.Font Accessors123456789101112131415CTFontDescriptorRef CTFontCopyFontDescriptor( CTFontRef font ) è·å–font çš„ descriptorref -(void)font&#123; UIFont * font = [UIFont systemFontOfSize:24]; CTFontDescriptorRef ref = CTFontCopyFontDescriptor((__bridge CTFontRef) font ); CFDictionaryRef attdic = CTFontDescriptorCopyAttributes(ref); NSLog(@&quot;descriptorref %@&quot;,attdic);&#125; ç»“æœï¼š 2017-03-01 16:09:30.336 CoreTextDemo[43313:1154770] descriptorref &#123; NSCTFontUIUsageAttribute = CTFontRegularUsage; NSFontSizeAttribute = 24;&#125; 1234CFTypeRef __nullable CTFontCopyAttribute( CTFontRef font, CFStringRef attribute ) è¿™ä¸ªè¯·æ±‚font çš„ attribute å±æ€§ã€‚ æš‚æ—¶ ä¸æ¸…æ¥šfontåˆ°åº•æœ‰å•¥å±æ€§ã€‚ 12345678CGFloat CTFontGetSize( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–å­—ä½“çš„å¤§å°UIFont * font = [UIFont systemFontOfSize:24]; CGFloat fontSize = CTFontGetSize( (__bridge CTFontRef) font ); NSLog(@&quot;font size %lf&quot;,fontSize); ç»“æœï¼š 2017-03-01 16:14:29.446 CoreTextDemo[43346:1159004] font size 24.000000 123456789CGAffineTransform CTFontGetMatrix( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å– transform CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CGAffineTransform transform = CTFontGetMatrix( font ); NSLog(@&quot;font transform %@&quot;,NSStringFromCGAffineTransform(transform)); ç»“æœï¼š2017-03-01 16:16:31.407 CoreTextDemo[43362:1161110] font transform [1, 0, 0, 1, 0, 0] 12345678910CTFontSymbolicTraits CTFontGetSymbolicTraits( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å– CTFontSymbolicTraitsï¼›ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CTFontSymbolicTraits symolictraits = CTFontGetSymbolicTraits(font); NSLog(@&quot;font SymbolicTraits %u&quot; , symolictraits); ç»“æœï¼š2017-03-01 16:19:06.667 CoreTextDemo[43380:1163730] font SymbolicTraits 0 12345678910111213CFDictionaryRef CTFontCopyTraits( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–ä¸€ä¸ªTraits å­—å…¸ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSDictionary * traitsDic =(__bridge NSDictionary *) CTFontCopyTraits(font); NSLog(@&quot;font traits dic %@&quot;,traitsDic);ç»“æœï¼š 2017-03-01 16:22:06.911 CoreTextDemo[43403:1166912] font traits dic &#123; NSCTFontSlantTrait = 0; NSCTFontSymbolicTrait = 16384; NSCTFontUIFontDesignTrait = NSCTFontUIFontDesignDefault; 6.Font Names123456789101112 CFStringRef CTFontCopyPostScriptName( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–postScriptName ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSString * postScriptName =(__bridge NSString *) CTFontCopyPostScriptName( font ) ; NSLog(@&quot;font name postScript %@&quot;,postScriptName); ç»“æœï¼š 2017-03-01 16:27:09.535 CoreTextDemo[43424:1171595] font name postScript .SFUIDisplay 12345678910CFStringRef CTFontCopyFamilyName( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–familyName ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSString * familyName =(__bridge NSString *) CTFontCopyFamilyName( font ); NSLog(@&quot;font name familyName %@&quot;,familyName);ç»“æœï¼š 2017-03-01 16:31:58.418 CoreTextDemo[43456:1176085] font name familyName .SF UI Display 12345678910CFStringRef CTFontCopyFullName( CTFontRef font ) CT_AVAILABLE(10_5, 3_2); è·å–fullçš„åå­— ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSString * fullName =(__bridge NSString *) CTFontCopyFullName( font ); NSLog(@&quot;font name fullName %@&quot;,fullName); ç»“æœï¼š 2017-03-01 16:34:50.587 CoreTextDemo[43474:1179511] font name fullName System Font Regular 123456789CFStringRef CTFontCopyDisplayName( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–displayNameä»£ç ï¼š NSString * displayName =(__bridge NSString *) CTFontCopyDisplayName( font ); NSLog(@&quot;font name displayName %@&quot;,displayName);ç»“æœï¼š 2017-03-01 16:37:05.363 CoreTextDemo[43491:1182119] font name displayName System Font 1234CFStringRef __nullable CTFontCopyName( CTFontRef font, CFStringRef nameKey ) CT_AVAILABLE(10_5, 3_2); æ²¡çœ‹æ‡‚å¹²å˜›çš„ 12345CFStringRef __nullable CTFontCopyLocalizedName( CTFontRef font, CFStringRef nameKey, CFStringRef __nullable * __nullable actualLanguage ) CT_AVAILABLE(10_5, 3_2);æ²¡çœ‹æ‡‚å¹²å˜›çš„ 7.Font Encoding1234567CFCharacterSetRef CTFontCopyCharacterSet( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–ä¸€ä¸ªCFCharcerSetRefä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CFCharacterSetRef ref = CTFontCopyCharacterSet( font ) ; 1234567891011CFStringEncoding CTFontGetStringEncoding( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–ç¼–ç ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CFStringEncoding encoding = CTFontGetStringEncoding(font); NSLog(@&quot;font encoding %u&quot;,(unsigned int)encoding);ç»“æœï¼š 2017-03-01 16:56:38.895 CoreTextDemo[43667:1198531] font encoding 0 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120CFArrayRef CTFontCopySupportedLanguages( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–å­—ä½“æ”¯æŒçš„è¯­è¨€ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSArray * supportLanguages = (__bridge NSArray *) CTFontCopySupportedLanguages( font ) ; NSLog(@&quot;font support languages %@&quot;,supportLanguages);ç»“æœï¼š font support languages ( wae, hsb, yo, rof, af, dav, be, zu, ca, bg, ce, da, jmc, de, ksb, br, bs, mer, cs, ga, gsw, kde, el, gd, fi, en, ksh, eo, cy, es, fo, et, eu, gl, id, fr, ig, kam, fil, vun, fy, xog, gv, hr, mgh, rwk, lb, hu, fur, ki, seh, is, kk, it, bem, nb, mg, nd, mk, nyn, asa, kw, mn, sbp, lt, ky, nl, lv, nn, ms, mt, teo, guz, om, pl, bez, os, kln, mfe, pt, sg, rm, rn, ro, sk, dsb, tg, qu, sl, luo, ebu, sn, cgg, so, sah, tk, ru, sq, sr, rw, ast, uk, sv, tr, vi, sw, kea, luy, saq) 123456789101112131415161718192021222324252627282930313233343536bool CTFontGetGlyphsForCharacters( CTFontRef font, const UniChar characters[], CGGlyph glyphs[], CFIndex count ) CT_AVAILABLE(10_5, 3_2);ç”¨æ¥åˆ¤æ–­æ˜¯å­—ç¬¦ç¼–ç æ˜¯å¦æ˜¯fongä¸­çš„ä»£ç ï¼š- (BOOL)isCharacter:(unichar*)characters supportedByFont:(UIFont *)aFont length:(NSInteger)length&#123; CGGlyph glyphs[length] ; CTFontRef ctFont = CTFontCreateWithName((CFStringRef)aFont.fontName, aFont.pointSize, NULL); BOOL ret = CTFontGetGlyphsForCharacters(ctFont, characters, glyphs, length); CFRelease(ctFont); return ret;&#125;-(void)font&#123;CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSString *characters = @&quot;a&quot;; unichar * chars = (unichar*)[characters cStringUsingEncoding:NSUTF8StringEncoding]; bool isSuccess=[self isCharacter:chars supportedByFont:[UIFont systemFontOfSize:24] length:characters.length]; if (isSuccess) &#123; NSLog(@&quot;characters success&quot;); &#125;else&#123; NSLog(@&quot;characters failure&quot;); &#125; &#125; ç»“æœï¼š 2017-03-01 17:15:34.008 CoreTextDemo[43765:1215312] characters success è¦æ˜¯ä¸º characters = @&quot;ğŸ¯&quot; ï¼› ç»“æœå°±æ˜¯ characters failure ç›®å‰å®éªŒåªæ˜¯é’ˆå¯¹ä¸€ä¸ªå­—ç¬¦å¥½ä½¿ï¼Œå¤šä¸ªä¸å¥½ä½¿ã€‚ ä¸­æ–‡å­—ä¹Ÿä¸è¡Œã€‚å…·ä½“ç”¨æ³•è¿˜è¦å†æ¢ç©¶ã€‚ 8.Font Metrics123456CGFloat CTFontGetAscent( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å– ascentCGFloat CTFontGetDescent( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–descentCGFloat CTFontGetLeading( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–leading 1unsigned CTFontGetUnitsPerEm( CTFontRef font ) CT_AVAILABLE(10_5, 3_2); 12345678CFIndex CTFontGetGlyphCount( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–å­—ä½“æ€»ä¸ªæ•°ã€‚ CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CFIndex index = CTFontGetGlyphCount(font); NSLog(@&quot;font glyph count %ld&quot;,index);ç»“æœï¼š 2017-03-01 17:45:17.390 CoreTextDemo[44046:1239054] font glyph count 2325 123456789CGRect CTFontGetBoundingBox( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–font è®¾è®¡å¤§å° CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CGRect fontRect = CTFontGetBoundingBox( font ); NSLog(@&quot;font rect %@&quot;,NSStringFromCGRect(fontRect)); ç»“æœï¼š2017-03-01 17:47:19.898 CoreTextDemo[44063:1241783] font rect &#123;&#123;-6.38671875, -6.5390625&#125;, &#123;36.43359375, 32.49609375&#125;&#125; 1234567891011CGFloat CTFontGetUnderlinePosition( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–ä¸‹åˆ’çº¿ä½ç½® CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CGFloat UnderlinePosition = CTFontGetUnderlinePosition( font ); NSLog(@&quot;font UnderlinePosition %lf&quot;,UnderlinePosition); ç»“æœï¼š2017-03-01 19:22:12.226 CoreTextDemo[47842:1272227] font UnderlinePosition -3.632812 123456789101112CGFloat CTFontGetUnderlineThickness( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–ä¸‹åˆ’çº¿åšåº¦ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CGFloat UnderlineThickness = CTFontGetUnderlineThickness(font); NSLog(@&quot;font UnderlineThickness %lf&quot;,UnderlineThickness); ç»“æœ2017-03-01 19:24:51.013 CoreTextDemo[47865:1275126] font UnderlineThickness 1.406250 1234567891011CGFloat CTFontGetSlantAngle( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–å­—ä½“çš„å€¾æ–œè§’åº¦ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CGFloat slantAngle = CTFontGetSlantAngle(font); NSLog(@&quot;font slantAngle %lf&quot;,slantAngle);ç»“æœï¼š2017-03-01 19:27:27.999 CoreTextDemo[47890:1278289] font slantAngle 0.000000 12345678910111213CGFloat CTFontGetCapHeight( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–cap é«˜åº¦ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CGFloat capHeight = CTFontGetCapHeight(font); NSLog(@&quot;font capHeight %lf&quot;,capHeight); ç»“æœï¼š2017-03-01 19:30:31.542 CoreTextDemo[49032:1283158] font capHeight 16.910156æˆ‘æ„Ÿè§‰åƒæ˜¯å¤§å†™å­—æ¯çš„é«˜åº¦ 123456789101112CGFloat CTFontGetXHeight( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);è·å–XHeight é«˜åº¦ å°å†™å­—æ¯çš„é«˜åº¦ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; CGFloat xHeight = CTFontGetXHeight(font); NSLog(@&quot;font xHeight %lf&quot;,xHeight ); ç»“æœï¼š2017-03-01 19:39:33.683 CoreTextDemo[49097:1293600] font xHeight 12.632812 9.Font Glyphs12345678910111213141516CGGlyph CTFontGetGlyphWithName( CTFontRef font, CFStringRef glyphName ) CT_AVAILABLE(10_5, 3_2); è·å–ä¸€ä¸ªå­—å½¢ ä»£ç  CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSString * str = @&quot;a&quot;; CGGlyph glyph = CTFontGetGlyphWithName(font,(__bridge CFStringRef)str); NSLog(@&quot;font glyph æŸ¥è¯¢å­—ç¬¦çš„ cgglyph %d&quot;,glyph); ç»“æœï¼š enable_private_data: 02017-03-01 19:48:52.196 CoreTextDemo[49149:1302956] font glyph æŸ¥è¯¢å­—ç¬¦çš„ cgglyph 0è¯¥å‡½æ•°ä¸ä¼šç”¨ 123456CGRect CTFontGetBoundingRectsForGlyphs( CTFontRef font, CTFontOrientation orientation, const CGGlyph glyphs[], CGRect * __nullable boundingRects, CFIndex count ) CT_AVAILABLE(10_5, 3_2); 123456CGRect CTFontGetOpticalBoundsForGlyphs( CTFontRef font, const CGGlyph glyphs[], CGRect * __nullable boundingRects, CFIndex count, CFOptionFlags options ) CT_AVAILABLE(10_8, 6_0) 123456double CTFontGetAdvancesForGlyphs( CTFontRef font, CTFontOrientation orientation, const CGGlyph glyphs[], CGSize * __nullable advances, CFIndex count ) CT_AVAILABLE(10_5, 3_2); 12345void CTFontGetVerticalTranslationsForGlyphs( CTFontRef font, const CGGlyph glyphs[], CGSize translations[], CFIndex count ) CT_AVAILABLE(10_5, 3_2); 123456CGPathRef __nullable CTFontCreatePathForGlyph( CTFontRef font, CGGlyph glyph, const CGAffineTransform * __nullable matrix ) CT_AVAILABLE(10_5, 3_2); æš‚æ—¶ä¸åšç ”ç©¶ 10.Font Variations key value è§£é‡Š kCTFontVariationAxisIdentifierKey CFNumberRef axis identifier kCTFontVariationAxisMinimumValueKey CFNumberRef minimum axis kCTFontVariationAxisMaximumValueKey CFNumberRef maximum axis kCTFontVariationAxisDefaultValueKey CFNumberRef default axis kCTFontVariationAxisNameKey CFNumberRef the localized variation axis name. 1234567891011121314151617181920CFArrayRef __nullable CTFontCopyVariationAxes( CTFontRef font ) CT_AVAILABLE(10_5, 3_2)å…·ä½“å¹²å˜›ç”¨çš„ä¸çŸ¥é“ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSArray * axisArr =(__bridge NSArray *) CTFontCopyVariationAxes(font); NSLog(@&quot;font axis Arr %@&quot;,axisArr);ç»“æœï¼š2017-03-02 10:26:35.298 CoreTextDemo[50287:1355486] font axis Arr ( &#123; NSCTVariationAxisMaximumValue = 1.9989, NSCTVariationAxisMinimumValue = 0, NSCTVariationAxisIdentifier = 2003265652, NSCTVariationAxisDefaultValue = 1, NSCTVariationAxisName = Weight, &#125;) 12345678910111213141516CFDictionaryRef __nullable CTFontCopyVariation( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSDictionary * axesdic = (__bridge NSDictionary *)CTFontCopyVariationAxes(font); NSLog(@&quot;font axes dic %@&quot;,axesdic);ç»“æœï¼š2017-03-02 10:30:01.138 CoreTextDemo[50305:1358978] font axes dic ( &#123; NSCTVariationAxisMaximumValue = 1.9989, NSCTVariationAxisMinimumValue = 0, NSCTVariationAxisIdentifier = 2003265652, NSCTVariationAxisDefaultValue = 1, NSCTVariationAxisName = Weight, &#125;) 11.Font Features key value æè¿° kCTFontOpenTypeFeatureTag CFStringRef kCTFontOpenTypeFeatureValue CFNumberRef kCTFontFeatureTypeIdentifierKey CFNumberRef kCTFontFeatureTypeNameKey CFString kCTFontFeatureTypeExclusiveKey CFBoolean kCTFontFeatureTypeSelectorsKey CFArrayRef kCTFontFeatureSelectorIdentifierKey CFNumberRef kCTFontFeatureSelectorNameKey CFStringRef kCTFontFeatureSelectorDefaultKey CFBooleanRef kCTFontFeatureSelectorSettingKey CFBooleanRef 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200CFArrayRef __nullable CTFontCopyFeatures( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSArray * fontFeatures = (__bridge NSArray *)CTFontCopyFeatures(font); NSLog(@&quot;font Features %@&quot;,fontFeatures);ç»“æœï¼š( &#123; CTFeatureTypeIdentifier = 0; CTFeatureTypeName = &quot;All Typographic Features&quot;; CTFeatureTypeNameID = &quot;-100&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorDefault = 1; CTFeatureSelectorIdentifier = 0; CTFeatureSelectorName = On; CTFeatureSelectorNameID = &quot;-101&quot;; &#125; ); &#125;, &#123; CTFeatureTypeIdentifier = 1; CTFeatureTypeName = Ligatures; CTFeatureTypeNameID = &quot;-200&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorDefault = 1; CTFeatureSelectorIdentifier = 2; CTFeatureSelectorName = &quot;Common Ligatures&quot;; CTFeatureSelectorNameID = &quot;-203&quot;; &#125; ); &#125;, &#123; CTFeatureTypeExclusive = 1; CTFeatureTypeIdentifier = 6; CTFeatureTypeName = &quot;Number Spacing&quot;; CTFeatureTypeNameID = &quot;-700&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorIdentifier = 0; CTFeatureSelectorName = &quot;Monospaced Numbers&quot;; CTFeatureSelectorNameID = &quot;-701&quot;; &#125;, &#123; CTFeatureSelectorIdentifier = 1; CTFeatureSelectorName = &quot;Proportional Numbers&quot;; CTFeatureSelectorNameID = &quot;-702&quot;; &#125;, &#123; CTFeatureSelectorDefault = 1; CTFeatureSelectorIdentifier = 4; CTFeatureSelectorName = &quot;No Change&quot;; CTFeatureSelectorNameID = &quot;-705&quot;; &#125; ); &#125;, &#123; CTFeatureTypeExclusive = 1; CTFeatureTypeIdentifier = 10; CTFeatureTypeName = &quot;Vertical Position&quot;; CTFeatureTypeNameID = &quot;-1100&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorDefault = 1; CTFeatureSelectorIdentifier = 0; CTFeatureSelectorName = &quot;Normal Vertical Position&quot;; CTFeatureSelectorNameID = &quot;-1101&quot;; &#125;, &#123; CTFeatureSelectorIdentifier = 1; CTFeatureSelectorName = &quot;Superiors/Superscripts&quot;; CTFeatureSelectorNameID = &quot;-1102&quot;; &#125;, &#123; CTFeatureSelectorIdentifier = 2; CTFeatureSelectorName = &quot;Inferiors/Subscripts&quot;; CTFeatureSelectorNameID = &quot;-1103&quot;; &#125; ); &#125;, &#123; CTFeatureTypeExclusive = 1; CTFeatureTypeIdentifier = 11; CTFeatureTypeName = &quot;Contextual Fractional Forms&quot;; CTFeatureTypeNameID = &quot;-1200&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorDefault = 1; CTFeatureSelectorIdentifier = 0; CTFeatureSelectorName = &quot;No Fractional Forms&quot;; CTFeatureSelectorNameID = &quot;-1201&quot;; &#125;, &#123; CTFeatureSelectorIdentifier = 2; CTFeatureSelectorName = Diagonal; CTFeatureSelectorNameID = &quot;-1203&quot;; &#125; ); &#125;, &#123; CTFeatureTypeIdentifier = 33; CTFeatureTypeName = &quot;Case-Sensitive Layout&quot;; CTFeatureTypeNameID = &quot;-3400&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorIdentifier = 0; CTFeatureSelectorName = &quot;Capital Forms&quot;; CTFeatureSelectorNameID = &quot;-3401&quot;; &#125; ); &#125;, &#123; CTFeatureTypeIdentifier = 35; CTFeatureTypeName = &quot;Alternative Stylistic Sets&quot;; CTFeatureTypeNameID = &quot;-3600&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorIdentifier = 2; CTFeatureSelectorName = &quot;Straight-sided six and nine&quot;; CTFeatureSelectorNameID = 256; &#125;, &#123; CTFeatureSelectorIdentifier = 4; CTFeatureSelectorName = &quot;Open four&quot;; CTFeatureSelectorNameID = 257; &#125;, &#123; CTFeatureSelectorIdentifier = 6; CTFeatureSelectorName = &quot;Vertically centered colon&quot;; CTFeatureSelectorNameID = 258; &#125;, &#123; CTFeatureSelectorIdentifier = 12; CTFeatureSelectorName = &quot;High legibility&quot;; CTFeatureSelectorNameID = 259; &#125;, &#123; CTFeatureSelectorIdentifier = 14; CTFeatureSelectorName = &quot;One storey a&quot;; CTFeatureSelectorNameID = 260; &#125; ); &#125;, &#123; CTFeatureTypeIdentifier = 36; CTFeatureTypeName = &quot;Contextual Alternates&quot;; CTFeatureTypeNameID = &quot;-3700&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorDefault = 1; CTFeatureSelectorIdentifier = 0; CTFeatureSelectorName = &quot;Contextual Alternates&quot;; CTFeatureSelectorNameID = &quot;-3701&quot;; &#125; ); &#125;, &#123; CTFeatureTypeExclusive = 1; CTFeatureTypeIdentifier = 37; CTFeatureTypeName = &quot;Lower Case&quot;; CTFeatureTypeNameID = &quot;-3800&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorDefault = 1; CTFeatureSelectorIdentifier = 0; CTFeatureSelectorName = &quot;No Change&quot;; CTFeatureSelectorNameID = &quot;-3801&quot;; &#125;, &#123; CTFeatureSelectorIdentifier = 1; CTFeatureSelectorName = &quot;Small Capitals&quot;; CTFeatureSelectorNameID = &quot;-3802&quot;; &#125; ); &#125;, &#123; CTFeatureTypeExclusive = 1; CTFeatureTypeIdentifier = 38; CTFeatureTypeName = &quot;Upper Case&quot;; CTFeatureTypeNameID = &quot;-3900&quot;; CTFeatureTypeSelectors = ( &#123; CTFeatureSelectorDefault = 1; CTFeatureSelectorIdentifier = 0; CTFeatureSelectorName = &quot;No Change&quot;; CTFeatureSelectorNameID = &quot;-3901&quot;; &#125;, &#123; CTFeatureSelectorIdentifier = 1; CTFeatureSelectorName = &quot;Small Capitals&quot;; CTFeatureSelectorNameID = &quot;-3902&quot;; &#125; ); &#125;) 123456789CFArrayRef __nullable CTFontCopyFeatureSettings( CTFontRef font ) CT_AVAILABLE(10_5, 3_2);ä»£ç ï¼š CTFontRef font =(__bridge CTFontRef) [UIFont systemFontOfSize:24]; NSArray * fontSettingsFeatre =(__bridge NSArray * ) CTFontCopyFeatureSettings(font); NSLog(@&quot;font features settings %@&quot;,fontSettingsFeatre); ç»“æœï¼š2017-03-02 10:44:46.354 CoreTextDemo[50763:1374128] font features settings (null) 12.Font Conversion12345CGFontRef CTFontCopyGraphicsFont( CTFontRef font, CTFontDescriptorRef __nullable * __nullable attributes ) CT_AVAILABLE(10_5, 3_2); è®²CTfontRef è½¬æ¢æˆCGFontRef 123456CTFontRef CTFontCreateWithGraphicsFont( CGFontRef graphicsFont, CGFloat size, const CGAffineTransform * __nullable matrix, CTFontDescriptorRef __nullable attributes ) CT_AVAILABLE(10_5, 3_2); å°†CGfontRef è½¬æ¢æˆCTFontRef 123ATSFontRef CTFontGetPlatformFont( CTFontRef font, CTFontDescriptorRef __nullable * __nullable attributes ) CT_AVAILABLE_MAC(10_5); 12345CTFontRef __nullable CTFontCreateWithPlatformFont( ATSFontRef platformFont, CGFloat size, const CGAffineTransform * __nullable matrix, CTFontDescriptorRef __nullable attributes ) CT_AVAILABLE_MAC(10_5); 12345CTFontRef CTFontCreateWithQuickdrawInstance( ConstStr255Param __nullable name, int16_t identifier, uint8_t style, CGFloat size ) CT_AVAILABLE_MAC(10_5); 13.Font Tables1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162enum &#123; kCTFontTableBASE = &apos;BASE&apos;, // Baseline kCTFontTableCFF = &apos;CFF &apos;, // PostScript font program kCTFontTableDSIG = &apos;DSIG&apos;, // Digital signature kCTFontTableEBDT = &apos;EBDT&apos;, // Embedded bitmap kCTFontTableEBLC = &apos;EBLC&apos;, // Embedded bitmap location kCTFontTableEBSC = &apos;EBSC&apos;, // Embedded bitmap scaling kCTFontTableGDEF = &apos;GDEF&apos;, // Glyph definition kCTFontTableGPOS = &apos;GPOS&apos;, // Glyph positioning kCTFontTableGSUB = &apos;GSUB&apos;, // Glyph substitution kCTFontTableJSTF = &apos;JSTF&apos;, // Justification kCTFontTableLTSH = &apos;LTSH&apos;, // Linear threshold kCTFontTableMATH = &apos;MATH&apos;, // Math kCTFontTableOS2 = &apos;OS/2&apos;, // OS/2 and Windows specific metrics kCTFontTablePCLT = &apos;PCLT&apos;, // PCL 5 data kCTFontTableVDMX = &apos;VDMX&apos;, // Vertical device metrics kCTFontTableVORG = &apos;VORG&apos;, // Vertical origin kCTFontTableZapf = &apos;Zapf&apos;, // Glyph reference kCTFontTableAcnt = &apos;acnt&apos;, // Accent attachment kCTFontTableAnkr = &apos;ankr&apos;, // Anchor points kCTFontTableAvar = &apos;avar&apos;, // Axis variation kCTFontTableBdat = &apos;bdat&apos;, // Bitmap data kCTFontTableBhed = &apos;bhed&apos;, // Bitmap font header kCTFontTableBloc = &apos;bloc&apos;, // Bitmap location kCTFontTableBsln = &apos;bsln&apos;, // Baseline kCTFontTableCmap = &apos;cmap&apos;, // Character to glyph mapping kCTFontTableCvar = &apos;cvar&apos;, // CVT variation kCTFontTableCvt = &apos;cvt &apos;, // Control value table kCTFontTableFdsc = &apos;fdsc&apos;, // Font descriptor kCTFontTableFeat = &apos;feat&apos;, // Layout feature kCTFontTableFmtx = &apos;fmtx&apos;, // Font metrics kCTFontTableFpgm = &apos;fpgm&apos;, // Font program kCTFontTableFvar = &apos;fvar&apos;, // Font variation kCTFontTableGasp = &apos;gasp&apos;, // Grid-fitting/Scan-conversion kCTFontTableGlyf = &apos;glyf&apos;, // Glyph data kCTFontTableGvar = &apos;gvar&apos;, // Glyph variation kCTFontTableHdmx = &apos;hdmx&apos;, // Horizontal device metrics kCTFontTableHead = &apos;head&apos;, // Font header kCTFontTableHhea = &apos;hhea&apos;, // Horizontal header kCTFontTableHmtx = &apos;hmtx&apos;, // Horizontal metrics kCTFontTableHsty = &apos;hsty&apos;, // Horizontal style kCTFontTableJust = &apos;just&apos;, // Justification kCTFontTableKern = &apos;kern&apos;, // Kerning kCTFontTableKerx = &apos;kerx&apos;, // Extended kerning kCTFontTableLcar = &apos;lcar&apos;, // Ligature caret kCTFontTableLtag = &apos;ltag&apos;, // Language tags kCTFontTableLoca = &apos;loca&apos;, // Index to location kCTFontTableMaxp = &apos;maxp&apos;, // Maximum profile kCTFontTableMort = &apos;mort&apos;, // Morph kCTFontTableMorx = &apos;morx&apos;, // Extended morph kCTFontTableName = &apos;name&apos;, // Naming table kCTFontTableOpbd = &apos;opbd&apos;, // Optical bounds kCTFontTablePost = &apos;post&apos;, // PostScript information kCTFontTablePrep = &apos;prep&apos;, // CVT program kCTFontTableProp = &apos;prop&apos;, // Properties kCTFontTableSbit = &apos;sbit&apos;, // Bitmap data kCTFontTableSbix = &apos;sbix&apos;, // Extended bitmap data kCTFontTableTrak = &apos;trak&apos;, // Tracking kCTFontTableVhea = &apos;vhea&apos;, // Vertical header kCTFontTableVmtx = &apos;vmtx&apos; // Vertical metrics&#125;;typedef FourCharCode CTFontTableTag; 1234typedef CF_OPTIONS(uint32_t, CTFontTableOptions) &#123; kCTFontTableOptionNoOptions CT_ENUM_AVAILABLE(10_5, 3_2) = 0, kCTFontTableOptionExcludeSynthetic CT_ENUM_DEPRECATED(10_5, 10_8, 3_2, 6_0) = (1 &lt;&lt; 0)&#125;; 12345CFArrayRef __nullable CTFontCopyAvailableTables( CTFontRef font, CTFontTableOptions options ) CT_AVAILABLE(10_5, 3_2); è¿è¡Œå´©æºƒ 1234CFDataRef __nullable CTFontCopyTable( CTFontRef font, CTFontTableTag table, CTFontTableOptions options ) CT_AVAILABLE(10_5, 3_2); 123456void CTFontDrawGlyphs( CTFontRef font, const CGGlyph glyphs[], const CGPoint positions[], size_t count, CGContextRef context ) CT_AVAILABLE(10_7, 4_2); 12345CFIndex CTFontGetLigatureCaretPositions( CTFontRef font, CGGlyph glyph, CGFloat * __nullable positions, CFIndex maxPositions ) CT_AVAILABLE(10_5, 3_2); 14.Baseline Alignment key value æè¿° kCTBaselineClassRoman CFNumberRef kCTBaselineClassIdeographicCentered CFNumberRef kCTBaselineClassIdeographicLow CFNumberRef kCTBaselineClassIdeographicHigh CFNumberRef kCTBaselineClassHanging CFNumberRef kCTBaselineClassMath CFNumberRef kCTBaselineReferenceFont CTFontRef kCTBaselineOriginalFont 1CFArrayRef __nullable CTFontCopyDefaultCascadeListForLanguages( CTFontRef font, CFArrayRef __nullable languagePrefList )","tags":[{"name":"CTFont","slug":"CTFont","permalink":"http://yoursite.com/tags/CTFont/"}]},{"title":"CTFontDescriptor.hå­¦ä¹ ","date":"2017-03-02T06:04:16.000Z","path":"2017/03/02/CTFontDescriptorå­¦ä¹ /","text":"è¯¥ç±»ä»ä»¥ä¸‹å››ä¸ªæ–¹é¢æ¥å­¦ä¹ ã€‚ 1.Descriptor Types1CFTypeID CTFontDescriptorGetTypeID( void ) CT_AVAILABLE(10_5, 3_2); 2.Descriptor Constants keâ€™y value è§£é‡Š kCTFontURLAttribute CFURLRef é€šè¿‡ descriptor è®¿é—®å­—ä½“çš„url kCTFontNameAttribute CFStringRef å…ˆä» PostScript arr ä¸­æ‰¾ï¼Œ æ²¡å‘ç°åœ¨ä» family æ•°å­—æ‰¾ï¼Œæ²¡å‘ç° ç”¨ display name ã€‚ï¼Œ å¦‚æœè¿˜æ˜¯ä»å­—ä½“åˆ—è¡¨ä¸­æ²¡æ‰¾åˆ°ï¼Œé»˜è®¤è¿”å› Helvetica å­—ä½“ kCTFontDisplayNameAttribute CFStringRef è¿™ä¸ªè¿”å›display name å¤§å¤šæ•°æ˜¯ the full nameã€‚ kCTFontFamilyNameAttribute CFStringRef è¿”å› family name kCTFontStyleNameAttribute CFStringRef è¿”å› the style name of the fontã€‚ä»£è¡¨è®¾è®¡è€…å¯¹è¯¥å­—ä½“æ ·å¼çš„æè¿°ã€‚ kCTFontTraitsAttribute CFDictionaryRef è¿”å›æ”¹å­—ä½“çš„ç‰¹æ€§ traits å­—å…¸ã€‚ kCTFontVariationAttribute CFDictionaryRef ä¸çŸ¥é“å•¥ç”¨ kCTFontSizeAttribute CFNumberRef è¿”å›å­—ä½“çš„å¤§å° kCTFontMatrixAttribute CFDataRef è¯¥dataæ˜¯ CGAffineTransformä¿¡æ¯ kCTFontCascadeListAttribute CFArrayRef çº§è”è¡¨æ ¼æ•°ç»„ï¼Œå…·ä½“å¹²å˜›çš„ä¸çŸ¥é“ã€‚çœ‹ç»“æœåœ¨è¯´ kCTFontCharacterSetAttribute CFCharacterSetRef kCTFontLanguagesAttribute CFArrayRef kCTFontBaselineAdjustAttribute CFNumberRef kCTFontMacintoshEncodingsAttribute CFNumberRef kCTFontFeaturesAttribute CFArrayRef kCTFontFeatureSettingsAttribute kCTFontFixedAdvanceAttribute CFNumberRef kCTFontOrientationAttribute CFNumberRef kCTFontFormatAttribute CFNumber kCTFontRegistrationScopeAttribute CTFontManagerScope kCTFontPriorityAttribute kCTFontEnabledAttribute kCTFontDownloadableAttribute kCTFontDownloadedAttribute 123456789typedef CF_ENUM(uint32_t, CTFontOrientation) &#123; kCTFontOrientationDefault CT_ENUM_AVAILABLE(10_8, 6_0) = 0, kCTFontOrientationHorizontal CT_ENUM_AVAILABLE(10_8, 6_0) = 1, kCTFontOrientationVertical CT_ENUM_AVAILABLE(10_8, 6_0) = 2, kCTFontDefaultOrientation CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTFontOrientationDefault, kCTFontHorizontalOrientation CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTFontOrientationHorizontal, kCTFontVerticalOrientation CT_ENUM_DEPRECATED(10_5, 10_11, 3_2, 9_0) = kCTFontOrientationVertical&#125;; 12345678typedef CF_ENUM(uint32_t, CTFontFormat) &#123; kCTFontFormatUnrecognized = 0, kCTFontFormatOpenTypePostScript = 1, kCTFontFormatOpenTypeTrueType = 2, kCTFontFormatTrueType = 3, kCTFontFormatPostScript = 4, kCTFontFormatBitmap = 5&#125;; 3.Descriptor Creation123CTFontDescriptorRef CTFontDescriptorCreateWithNameAndSize( CFStringRef name, CGFloat size ) CT_AVAILABLE(10_5, 3_2); 12CTFontDescriptorRef CTFontDescriptorCreateWithAttributes( CFDictionaryRef attributes ) CT_AVAILABLE(10_5, 3_2); 123CTFontDescriptorRef CTFontDescriptorCreateCopyWithAttributes( CTFontDescriptorRef original, CFDictionaryRef attributes ) CT_AVAILABLE(10_5, 3_2); 123CTFontDescriptorRef __nullable CTFontDescriptorCreateCopyWithFamily( CTFontDescriptorRef original, CFStringRef family ) CT_AVAILABLE(10_9, 7_0); 1234CTFontDescriptorRef __nullable CTFontDescriptorCreateCopyWithSymbolicTraits( CTFontDescriptorRef original, CTFontSymbolicTraits symTraitValue, CTFontSymbolicTraits symTraitMask ) CT_AVAILABLE(10_9, 7_0); 1234CTFontDescriptorRef CTFontDescriptorCreateCopyWithVariation( CTFontDescriptorRef original, CFNumberRef variationIdentifier, CGFloat variationValue ) CT_AVAILABLE(10_5, 3_2); 1234CTFontDescriptorRef CTFontDescriptorCreateCopyWithFeature( CTFontDescriptorRef original, CFNumberRef featureTypeIdentifier, CFNumberRef featureSelectorIdentifier ) CT_AVAILABLE(10_5, 3_2); 123CFArrayRef __nullable CTFontDescriptorCreateMatchingFontDescriptors( CTFontDescriptorRef descriptor, CFSetRef __nullable mandatoryAttributes ) CT_AVAILABLE(10_5, 3_2); 123CTFontDescriptorRef __nullable CTFontDescriptorCreateMatchingFontDescriptor( CTFontDescriptorRef descriptor, CFSetRef __nullable mandatoryAttributes ) CT_AVAILABLE(10_5, 3_2); 123456789101112131415typedef CF_ENUM(uint32_t, CTFontDescriptorMatchingState) &#123; kCTFontDescriptorMatchingDidBegin, // called once at the beginning. kCTFontDescriptorMatchingDidFinish, // called once at the end. kCTFontDescriptorMatchingWillBeginQuerying, // called once before talking to the server. Skipped if not necessary. kCTFontDescriptorMatchingStalled, // called when stalled. (e.g. while waiting for server response.) // Downloading and activating are repeated for each descriptor. kCTFontDescriptorMatchingWillBeginDownloading, // Downloading part may be skipped if all the assets are already downloaded kCTFontDescriptorMatchingDownloading, kCTFontDescriptorMatchingDidFinishDownloading, kCTFontDescriptorMatchingDidMatch, // called when font descriptor is matched. kCTFontDescriptorMatchingDidFailWithError // called when an error occurred. (may be called multiple times.)&#125;; keys for progressParameter dictionary key value kCTFontDescriptorMatchingSourceDescriptor kCTFontDescriptorMatchingDescriptors kCTFontDescriptorMatchingResult kCTFontDescriptorMatchingPercentage kCTFontDescriptorMatchingCurrentAssetSize kCTFontDescriptorMatchingTotalDownloadedSize kCTFontDescriptorMatchingTotalAssetSize kCTFontDescriptorMatchingError 1234bool CTFontDescriptorMatchFontDescriptorsWithProgressHandler( CFArrayRef descriptors, CFSetRef __nullable mandatoryAttributes, CTFontDescriptorProgressHandler progressBlock) CT_AVAILABLE(10_9, 6_0); 4.Descriptor Accessors123CFTypeRef __nullable CTFontDescriptorCopyAttribute( CTFontDescriptorRef descriptor, CFStringRef attribute ) CT_AVAILABLE(10_5, 3_2); 1234CFTypeRef __nullable CTFontDescriptorCopyLocalizedAttribute( CTFontDescriptorRef descriptor, CFStringRef attribute, CFStringRef __nullable * __nullable language ) CT_AVAILABLE(10_5, 3_2); ###","tags":[]},{"title":"CTFontCollection.hå­¦ä¹ ","date":"2017-03-02T06:03:45.000Z","path":"2017/03/02/CTFontCollectionå­¦ä¹ /","text":"1.Collection Types1CFTypeID CTFontCollectionGetTypeID( void ) 12345typedef CFComparisonResult (*CTFontCollectionSortDescriptorsCallback)( CTFontDescriptorRef first, CTFontDescriptorRef second, void *refCon ); æ’åºç”¨çš„ 2.Collection Matching Options key value è§£é‡Š kCTFontCollectionRemoveDuplicatesOption a non-zero value collectionè¿‡æ»¤ç›¸åŒçš„ duplicate font descriptors kCTFontCollectionIncludeDisabledFontsOption a non-zero value åŒ¹é…ç¦ç”¨å­—ä½“ kCTFontCollectionDisallowAutoActivationOption a non-zero value ä¸åŒ¹é…ä¸¢å¤±çš„å­—ä½“ 3.Collection Creation12CTFontCollectionRef CTFontCollectionCreateFromAvailableFonts( CFDictionaryRef __nullable options ) CT_AVAILABLE(10_5, 3_2); 123CTFontCollectionRef CTFontCollectionCreateWithFontDescriptors( CFArrayRef __nullable queryDescriptors, CFDictionaryRef __nullable options ) CT_AVAILABLE(10_5, 3_2); 1234CTFontCollectionRef CTFontCollectionCreateCopyWithFontDescriptors( CTFontCollectionRef original, CFArrayRef __nullable queryDescriptors, CFDictionaryRef __nullable options ) CT_AVAILABLE(10_5, 3_2); 123CTMutableFontCollectionRef CTFontCollectionCreateMutableCopy( CTFontCollectionRef original ) CT_AVAILABLE_MAC(10_7); macä¸“ç”¨ 4.Editing the query descriptors12345678910111213141516CFArrayRef __nullable CTFontCollectionCopyQueryDescriptors( CTFontCollectionRef collection ) CT_AVAILABLE_MAC(10_7); mac ä¸“ç”¨ void CTFontCollectionSetQueryDescriptors( CTMutableFontCollectionRef collection, CFArrayRef __nullable descriptors ) CT_AVAILABLE_MAC(10_7); mac ä¸“ç”¨ CFArrayRef __nullable CTFontCollectionCopyExclusionDescriptors( CTFontCollectionRef collection ) CT_AVAILABLE_MAC(10_7); mac ä¸“ç”¨ void CTFontCollectionSetExclusionDescriptors( CTMutableFontCollectionRef collection, CFArrayRef __nullable descriptors ) CT_AVAILABLE_MAC(10_7); mac ä¸“ç”¨ 5.Retrieving Matching Descriptors12CFArrayRef __nullable CTFontCollectionCreateMatchingFontDescriptors( CTFontCollectionRef collection ) CT_AVAILABLE(10_5, 3_2); 1234CFArrayRef __nullable CTFontCollectionCreateMatchingFontDescriptorsSortedWithCallback( CTFontCollectionRef collection, CTFontCollectionSortDescriptorsCallback __nullable sortCallback, void * __nullable refCon ) CT_AVAILABLE(10_5, 3_2); 12345678910CFArrayRef __nullable CTFontCollectionCreateMatchingFontDescriptorsWithOptions( CTFontCollectionRef collection, CFDictionaryRef __nullable options ) CT_AVAILABLE_MAC(10_7); mac ä¸“ç”¨ CFArrayRef __nullable CTFontCollectionCreateMatchingFontDescriptorsForFamily( CTFontCollectionRef collection, CFStringRef familyName, CFDictionaryRef __nullable options ) CT_AVAILABLE_MAC(10_7); mac ä¸“ç”¨ 6.Bulk attribute access12345678910111213141516171819typedef CF_OPTIONS(uint32_t, CTFontCollectionCopyOptions) &#123; kCTFontCollectionCopyDefaultOptions = 0, kCTFontCollectionCopyUnique = (1 &lt;&lt; 0), kCTFontCollectionCopyStandardSort = (1 &lt;&lt; 1)&#125; CT_AVAILABLE_MAC(10_7);mac ä¸“ç”¨CFArrayRef CTFontCollectionCopyFontAttribute( CTFontCollectionRef collection, CFStringRef attributeName, CTFontCollectionCopyOptions options ) CT_AVAILABLE_MAC(10_7); mac ä¸“ç”¨ CFArrayRef CTFontCollectionCopyFontAttributes( CTFontCollectionRef collection, CFSetRef attributeNames, CTFontCollectionCopyOptions options ) CT_AVAILABLE_MAC(10_7); mac ä¸“ç”¨","tags":[]},{"title":"CTFontTraits.hå­¦ä¹ ","date":"2017-03-02T06:03:08.000Z","path":"2017/03/02/CTFontTraitså­¦ä¹ /","text":"### è¯¥ç±»æ˜¯å­—ä½“ç‰¹å¾ï¼Œæš‚æ—¶æ²¡çœ‹api","tags":[]},{"title":"CTFontManagerError.hå­¦ä¹ ","date":"2017-03-02T06:02:15.000Z","path":"2017/03/02/CTFontManagerErrorå­¦ä¹ /","text":"### 123456789101112CT_EXPORT const CFStringRef kCTFontManagerErrorDomain CT_AVAILABLE(10_6, 3_2);CT_EXPORT const CFStringRef kCTFontManagerErrorFontURLsKey CT_AVAILABLE(10_6, 3_2);typedef CF_ENUM(CFIndex, CTFontManagerError) &#123; kCTFontManagerErrorFileNotFound = 101, kCTFontManagerErrorInsufficientPermissions = 102, kCTFontManagerErrorUnrecognizedFormat = 103, kCTFontManagerErrorInvalidFontData = 104, kCTFontManagerErrorAlreadyRegistered = 105, kCTFontManagerErrorNotRegistered = 201, kCTFontManagerErrorInUse = 202, kCTFontManagerErrorSystemRequired = 203,&#125;;","tags":[]},{"title":"CTFontManagerå­¦ä¹ ","date":"2017-03-02T06:01:23.000Z","path":"2017/03/02/CTFontManagerå­¦ä¹ /","text":"è¿™ä¸ªç±»æ˜¯å­—ä½“çš„ç®¡ç†è€… 1CTRegisterBundleFonts è¿™ä¸ªkey å¦‚æœåœ¨application bundle info dictionary è®¾ç½®ä¸ºyes ã€‚CTFontManager å°†è¯¥bundleçš„æ‰€æœ‰å­æ–‡ä»¶å¤¹çš„å­—ä½“éƒ½æ³¨å†Œã€‚ è¿ç”¨åœºæ™¯ä¸æ˜ã€‚æœ‰å¾…å­¦å®Œå›æ¥åœ¨é‡æ–°æµ‹è¯•ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553CFArrayRef CTFontManagerCopyAvailablePostScriptNames( void ) CT_AVAILABLE(10_6, 10_0); ç¿»è¯‘æ‰€æœ‰çš„postScript Names æ‰€æœ‰çš„å­—ä½“( &quot;.AlNilePUA&quot;, &quot;.AlNilePUA-Bold&quot;, &quot;.AppleColorEmojiUI&quot;, &quot;.AppleSDGothicNeoI-Bold&quot;, &quot;.AppleSDGothicNeoI-Light&quot;, &quot;.AppleSDGothicNeoI-Medium&quot;, &quot;.AppleSDGothicNeoI-Regular&quot;, &quot;.AppleSDGothicNeoI-SemiBold&quot;, &quot;.AppleSDGothicNeoI-Thin&quot;, &quot;.AppleSDGothicNeoI-UltraLight&quot;, &quot;.AppleSDGothicNeoW-Bold&quot;, &quot;.AppleSDGothicNeoW-Light&quot;, &quot;.AppleSDGothicNeoW-Medium&quot;, &quot;.AppleSDGothicNeoW-Regular&quot;, &quot;.AppleSDGothicNeoW-SemiBold&quot;, &quot;.AppleSDGothicNeoW-Thin&quot;, &quot;.AppleSDGothicNeoW-UltraLight&quot;, &quot;.DamascusPUA&quot;, &quot;.DamascusPUABold&quot;, &quot;.DamascusPUALight&quot;, &quot;.DamascusPUAMedium&quot;, &quot;.DamascusPUASemiBold&quot;, &quot;.FarahPUA&quot;, &quot;.GeezaProInterface&quot;, &quot;.GeezaProInterface-Bold&quot;, &quot;.GeezaProInterface-Light&quot;, &quot;.GeezaProPUA-Bold&quot;, &quot;.GeezaProPUA-Regular&quot;, &quot;.HelveticaLight&quot;, &quot;.HelveticaLight-Oblique&quot;, &quot;.HelveticaNeueATV&quot;, &quot;.HelveticaNeueInterface-Bold&quot;, &quot;.HelveticaNeueInterface-BoldItalic&quot;, &quot;.HelveticaNeueInterface-Heavy&quot;, &quot;.HelveticaNeueInterface-Italic&quot;, &quot;.HelveticaNeueInterface-ItalicM3&quot;, &quot;.HelveticaNeueInterface-Light&quot;, &quot;.HelveticaNeueInterface-M3&quot;, &quot;.HelveticaNeueInterface-MediumItalicP4&quot;, &quot;.HelveticaNeueInterface-MediumP4&quot;, &quot;.HelveticaNeueInterface-Regular&quot;, &quot;.HelveticaNeueInterface-Thin&quot;, &quot;.HelveticaNeueInterface-UltraLightP2&quot;, &quot;.HelveticaNeueUI&quot;, &quot;.HelveticaNeueUI-Bold&quot;, &quot;.HelveticaNeueUI-BoldItalic&quot;, &quot;.HelveticaNeueUI-Italic&quot;, &quot;.HiraKakuInterface-W1&quot;, &quot;.HiraKakuInterface-W2&quot;, &quot;.HiraKakuInterface-W3&quot;, &quot;.HiraKakuInterface-W6&quot;, &quot;.HiraKakuInterfaceWatch-W1&quot;, &quot;.HiraKakuInterfaceWatch-W2&quot;, &quot;.HiraKakuInterfaceWatch-W3&quot;, &quot;.HiraKakuInterfaceWatch-W6&quot;, &quot;.Keycaps-Keys&quot;, &quot;.Keycaps-Light&quot;, &quot;.Keycaps-Popups&quot;, &quot;.Keycaps-Thin&quot;, &quot;.KeycapsA-Keys&quot;, &quot;.KeycapsA-Popups&quot;, &quot;.KeycapsB-Keys&quot;, &quot;.KeycapsB-Popups&quot;, &quot;.KeycapsPad-Keys&quot;, &quot;.KeycapsPad-Light&quot;, &quot;.KeycapsPadA-Keys&quot;, &quot;.PhoneFallback&quot;, &quot;.PhoneKeyCaps&quot;, &quot;.PhoneKeyCapsThree&quot;, &quot;.PingFangHK-Light&quot;, &quot;.PingFangHK-Medium&quot;, &quot;.PingFangHK-Regular&quot;, &quot;.PingFangHK-Semibold&quot;, &quot;.PingFangHK-Thin&quot;, &quot;.PingFangHK-Ultralight&quot;, &quot;.PingFangSC-Light&quot;, &quot;.PingFangSC-Medium&quot;, &quot;.PingFangSC-Regular&quot;, &quot;.PingFangSC-Semibold&quot;, &quot;.PingFangSC-Thin&quot;, &quot;.PingFangSC-Ultralight&quot;, &quot;.PingFangTC-Light&quot;, &quot;.PingFangTC-Medium&quot;, &quot;.PingFangTC-Regular&quot;, &quot;.PingFangTC-Semibold&quot;, &quot;.PingFangTC-Thin&quot;, &quot;.PingFangTC-Ultralight&quot;, &quot;.SFCompactDisplay-Black&quot;, &quot;.SFCompactDisplay-Bold&quot;, &quot;.SFCompactDisplay-Heavy&quot;, &quot;.SFCompactDisplay-Light&quot;, &quot;.SFCompactDisplay-Medium&quot;, &quot;.SFCompactDisplay-Regular&quot;, &quot;.SFCompactDisplay-Semibold&quot;, &quot;.SFCompactDisplay-Thin&quot;, &quot;.SFCompactDisplay-Ultralight&quot;, &quot;.SFCompactRounded-Black&quot;, &quot;.SFCompactRounded-Bold&quot;, &quot;.SFCompactRounded-Heavy&quot;, &quot;.SFCompactRounded-Light&quot;, &quot;.SFCompactRounded-Medium&quot;, &quot;.SFCompactRounded-Regular&quot;, &quot;.SFCompactRounded-Semibold&quot;, &quot;.SFCompactRounded-Thin&quot;, &quot;.SFCompactRounded-Ultralight&quot;, &quot;.SFCompactText-Bold&quot;, &quot;.SFCompactText-BoldG1&quot;, &quot;.SFCompactText-BoldG2&quot;, &quot;.SFCompactText-BoldG3&quot;, &quot;.SFCompactText-BoldItalic&quot;, &quot;.SFCompactText-BoldItalicG1&quot;, &quot;.SFCompactText-BoldItalicG2&quot;, &quot;.SFCompactText-BoldItalicG3&quot;, &quot;.SFCompactText-Heavy&quot;, &quot;.SFCompactText-HeavyItalic&quot;, &quot;.SFCompactText-Italic&quot;, &quot;.SFCompactText-ItalicG1&quot;, &quot;.SFCompactText-ItalicG2&quot;, &quot;.SFCompactText-ItalicG3&quot;, &quot;.SFCompactText-Light&quot;, &quot;.SFCompactText-LightItalic&quot;, &quot;.SFCompactText-Medium&quot;, &quot;.SFCompactText-MediumItalic&quot;, &quot;.SFCompactText-Regular&quot;, &quot;.SFCompactText-RegularG1&quot;, &quot;.SFCompactText-RegularG2&quot;, &quot;.SFCompactText-RegularG3&quot;, &quot;.SFCompactText-Semibold&quot;, &quot;.SFCompactText-SemiboldItalic&quot;, &quot;.SFUIDisplay&quot;, &quot;.SFUIDisplay-Black&quot;, &quot;.SFUIDisplay-Bold&quot;, &quot;.SFUIDisplay-Heavy&quot;, &quot;.SFUIDisplay-Light&quot;, &quot;.SFUIDisplay-Medium&quot;, &quot;.SFUIDisplay-Semibold&quot;, &quot;.SFUIDisplay-Thin&quot;, &quot;.SFUIDisplay-Ultralight&quot;, &quot;.SFUIDisplayCondensed-Black&quot;, &quot;.SFUIDisplayCondensed-Bold&quot;, &quot;.SFUIDisplayCondensed-Heavy&quot;, &quot;.SFUIDisplayCondensed-Light&quot;, &quot;.SFUIDisplayCondensed-Medium&quot;, &quot;.SFUIDisplayCondensed-Regular&quot;, &quot;.SFUIDisplayCondensed-Semibold&quot;, &quot;.SFUIDisplayCondensed-Thin&quot;, &quot;.SFUIDisplayCondensed-Ultralight&quot;, &quot;.SFUIText&quot;, &quot;.SFUIText-Bold&quot;, &quot;.SFUIText-BoldG1&quot;, &quot;.SFUIText-BoldG2&quot;, &quot;.SFUIText-BoldG3&quot;, &quot;.SFUIText-BoldItalic&quot;, &quot;.SFUIText-BoldItalicG1&quot;, &quot;.SFUIText-BoldItalicG2&quot;, &quot;.SFUIText-BoldItalicG3&quot;, &quot;.SFUIText-Heavy&quot;, &quot;.SFUIText-HeavyItalic&quot;, &quot;.SFUIText-Italic&quot;, &quot;.SFUIText-ItalicG1&quot;, &quot;.SFUIText-ItalicG2&quot;, &quot;.SFUIText-ItalicG3&quot;, &quot;.SFUIText-Light&quot;, &quot;.SFUIText-LightItalic&quot;, &quot;.SFUIText-Medium&quot;, &quot;.SFUIText-MediumItalic&quot;, &quot;.SFUIText-RegularG1&quot;, &quot;.SFUIText-RegularG2&quot;, &quot;.SFUIText-RegularG3&quot;, &quot;.SFUIText-Semibold&quot;, &quot;.SFUIText-SemiboldItalic&quot;, &quot;.SFUITextCondensed-Bold&quot;, &quot;.SFUITextCondensed-Heavy&quot;, &quot;.SFUITextCondensed-Light&quot;, &quot;.SFUITextCondensed-Medium&quot;, &quot;.SFUITextCondensed-Regular&quot;, &quot;.SFUITextCondensed-Semibold&quot;, &quot;.SavoyeLetPlainCC&quot;, &quot;.SukhumvitSetUI-Bold&quot;, &quot;.SukhumvitSetUI-Light&quot;, &quot;.SukhumvitSetUI-Medium&quot;, AcademyEngravedLetPlain, AlNile, &quot;AlNile-Bold&quot;, AmericanTypewriter, &quot;AmericanTypewriter-Bold&quot;, &quot;AmericanTypewriter-Condensed&quot;, &quot;AmericanTypewriter-CondensedBold&quot;, &quot;AmericanTypewriter-CondensedLight&quot;, &quot;AmericanTypewriter-Light&quot;, &quot;AmericanTypewriter-Semibold&quot;, AppleColorEmoji, AppleGothic, &quot;AppleSDGothicNeo-Bold&quot;, &quot;AppleSDGothicNeo-Light&quot;, &quot;AppleSDGothicNeo-Medium&quot;, &quot;AppleSDGothicNeo-Regular&quot;, &quot;AppleSDGothicNeo-SemiBold&quot;, &quot;AppleSDGothicNeo-Thin&quot;, &quot;AppleSDGothicNeo-UltraLight&quot;, &quot;Arial-BoldItalicMT&quot;, &quot;Arial-BoldMT&quot;, &quot;Arial-ItalicMT&quot;, ArialHebrew, &quot;ArialHebrew-Bold&quot;, &quot;ArialHebrew-Light&quot;, ArialMT, ArialRoundedMTBold, &quot;Asphalt-Medium&quot;, &quot;Athelas-Bold&quot;, &quot;Athelas-BoldItalic&quot;, &quot;Athelas-Italic&quot;, &quot;Athelas-Regular&quot;, &quot;Avenir-Black&quot;, &quot;Avenir-BlackOblique&quot;, &quot;Avenir-Book&quot;, &quot;Avenir-BookOblique&quot;, &quot;Avenir-Heavy&quot;, &quot;Avenir-HeavyOblique&quot;, &quot;Avenir-Light&quot;, &quot;Avenir-LightOblique&quot;, &quot;Avenir-Medium&quot;, &quot;Avenir-MediumOblique&quot;, &quot;Avenir-Oblique&quot;, &quot;Avenir-Roman&quot;, &quot;AvenirNext-Bold&quot;, &quot;AvenirNext-BoldItalic&quot;, &quot;AvenirNext-DemiBold&quot;, &quot;AvenirNext-DemiBoldItalic&quot;, &quot;AvenirNext-Heavy&quot;, &quot;AvenirNext-HeavyItalic&quot;, &quot;AvenirNext-Italic&quot;, &quot;AvenirNext-Medium&quot;, &quot;AvenirNext-MediumItalic&quot;, &quot;AvenirNext-Regular&quot;, &quot;AvenirNext-UltraLight&quot;, &quot;AvenirNext-UltraLightItalic&quot;, &quot;AvenirNextCondensed-Bold&quot;, &quot;AvenirNextCondensed-BoldItalic&quot;, &quot;AvenirNextCondensed-DemiBold&quot;, &quot;AvenirNextCondensed-DemiBoldItalic&quot;, &quot;AvenirNextCondensed-Heavy&quot;, &quot;AvenirNextCondensed-HeavyItalic&quot;, &quot;AvenirNextCondensed-Italic&quot;, &quot;AvenirNextCondensed-Medium&quot;, &quot;AvenirNextCondensed-MediumItalic&quot;, &quot;AvenirNextCondensed-Regular&quot;, &quot;AvenirNextCondensed-UltraLight&quot;, &quot;AvenirNextCondensed-UltraLightItalic&quot;, &quot;Balega-Regular&quot;, Baskerville, &quot;Baskerville-Bold&quot;, &quot;Baskerville-BoldItalic&quot;, &quot;Baskerville-Italic&quot;, &quot;Baskerville-SemiBold&quot;, &quot;Baskerville-SemiBoldItalic&quot;, BebasNeue, BodoniOrnamentsITCTT, &quot;BodoniSvtyTwoITCTT-Bold&quot;, &quot;BodoniSvtyTwoITCTT-Book&quot;, &quot;BodoniSvtyTwoITCTT-BookIta&quot;, &quot;BodoniSvtyTwoOSITCTT-Bold&quot;, &quot;BodoniSvtyTwoOSITCTT-Book&quot;, &quot;BodoniSvtyTwoOSITCTT-BookIt&quot;, &quot;BodoniSvtyTwoSCITCTT-Book&quot;, &quot;BradleyHandITCTT-Bold&quot;, &quot;ChalkboardSE-Bold&quot;, &quot;ChalkboardSE-Light&quot;, &quot;ChalkboardSE-Regular&quot;, Chalkduster, &quot;Charter-Black&quot;, &quot;Charter-BlackItalic&quot;, &quot;Charter-Bold&quot;, &quot;Charter-BoldItalic&quot;, &quot;Charter-Italic&quot;, &quot;Charter-Roman&quot;, Cochin, &quot;Cochin-Bold&quot;, &quot;Cochin-BoldItalic&quot;, &quot;Cochin-Italic&quot;, Copperplate, &quot;Copperplate-Bold&quot;, &quot;Copperplate-Light&quot;, Courier, &quot;Courier-Bold&quot;, &quot;Courier-BoldOblique&quot;, &quot;Courier-Oblique&quot;, &quot;CourierNewPS-BoldItalicMT&quot;, &quot;CourierNewPS-BoldMT&quot;, &quot;CourierNewPS-ItalicMT&quot;, CourierNewPSMT, DBLCDTempBlack, &quot;DINAlternate-Bold&quot;, &quot;DINCondensed-Bold&quot;, Damascus, DamascusBold, DamascusLight, DamascusMedium, DamascusSemiBold, &quot;DearJoeFour-SmallSemibold&quot;, DevanagariSangamMN, &quot;DevanagariSangamMN-Bold&quot;, Didot, &quot;Didot-Bold&quot;, &quot;Didot-Italic&quot;, DiwanMishafi, &quot;Druk-HeavyItalic&quot;, EuphemiaUCAS, &quot;EuphemiaUCAS-Bold&quot;, &quot;EuphemiaUCAS-Italic&quot;, &quot;FaktSlabStencilPro-Medium&quot;, Farah, &quot;Futura-Bold&quot;, &quot;Futura-CondensedExtraBold&quot;, &quot;Futura-CondensedMedium&quot;, &quot;Futura-Medium&quot;, &quot;Futura-MediumItalic&quot;, GeezaPro, &quot;GeezaPro-Bold&quot;, Georgia, &quot;Georgia-Bold&quot;, &quot;Georgia-BoldItalic&quot;, &quot;Georgia-Italic&quot;, GillSans, &quot;GillSans-Bold&quot;, &quot;GillSans-BoldItalic&quot;, &quot;GillSans-Italic&quot;, &quot;GillSans-Light&quot;, &quot;GillSans-LightItalic&quot;, &quot;GillSans-SemiBold&quot;, &quot;GillSans-SemiBoldItalic&quot;, &quot;GillSans-UltraBold&quot;, GujaratiSangamMN, &quot;GujaratiSangamMN-Bold&quot;, GurmukhiMN, &quot;GurmukhiMN-Bold&quot;, Helvetica, &quot;Helvetica-Bold&quot;, &quot;Helvetica-BoldOblique&quot;, &quot;Helvetica-Light&quot;, &quot;Helvetica-LightOblique&quot;, &quot;Helvetica-Oblique&quot;, HelveticaLTMM, HelveticaNeue, &quot;HelveticaNeue-Bold&quot;, &quot;HelveticaNeue-BoldItalic&quot;, &quot;HelveticaNeue-CondensedBlack&quot;, &quot;HelveticaNeue-CondensedBold&quot;, &quot;HelveticaNeue-Italic&quot;, &quot;HelveticaNeue-Light&quot;, &quot;HelveticaNeue-LightItalic&quot;, &quot;HelveticaNeue-Medium&quot;, &quot;HelveticaNeue-MediumItalic&quot;, &quot;HelveticaNeue-Thin&quot;, &quot;HelveticaNeue-ThinItalic&quot;, &quot;HelveticaNeue-UltraLight&quot;, &quot;HelveticaNeue-UltraLightItalic&quot;, &quot;HiraKakuProN-W3&quot;, &quot;HiraKakuProN-W6&quot;, &quot;HiraMinProN-W3&quot;, &quot;HiraMinProN-W6&quot;, &quot;HiraginoSans-W3&quot;, &quot;HiraginoSans-W6&quot;, &quot;HoeflerText-Black&quot;, &quot;HoeflerText-BlackItalic&quot;, &quot;HoeflerText-Italic&quot;, &quot;HoeflerText-Regular&quot;, &quot;IowanOldStyle-Bold&quot;, &quot;IowanOldStyle-BoldItalic&quot;, &quot;IowanOldStyle-Italic&quot;, &quot;IowanOldStyle-Roman&quot;, &quot;JournalSansNew-Inline&quot;, Kailasa, &quot;Kailasa-Bold&quot;, KannadaSangamMN, &quot;KannadaSangamMN-Bold&quot;, KhmerSangamMN, &quot;KohinoorBangla-Light&quot;, &quot;KohinoorBangla-Regular&quot;, &quot;KohinoorBangla-Semibold&quot;, &quot;KohinoorDevanagari-Light&quot;, &quot;KohinoorDevanagari-Regular&quot;, &quot;KohinoorDevanagari-Semibold&quot;, &quot;KohinoorTelugu-Light&quot;, &quot;KohinoorTelugu-Medium&quot;, &quot;KohinoorTelugu-Regular&quot;, LaoSangamMN, LastResort, &quot;LockClock-Light&quot;, MalayalamSangamMN, &quot;MalayalamSangamMN-Bold&quot;, &quot;Marion-Bold&quot;, &quot;Marion-Italic&quot;, &quot;Marion-Regular&quot;, &quot;MarkerFelt-Thin&quot;, &quot;MarkerFelt-Wide&quot;, &quot;Menlo-Bold&quot;, &quot;Menlo-BoldItalic&quot;, &quot;Menlo-Italic&quot;, &quot;Menlo-Regular&quot;, MyanmarSangamMN, &quot;MyanmarSangamMN-Bold&quot;, &quot;Noteworthy-Bold&quot;, &quot;Noteworthy-Light&quot;, NotoSansAvestan, NotoSansBalinese, NotoSansBamum, NotoSansBatak, NotoSansBrahmi, NotoSansBuginese, NotoSansBuhid, NotoSansCarian, NotoSansCham, NotoSansCoptic, NotoSansCuneiform, NotoSansCypriot, NotoSansEgyptianHieroglyphs, NotoSansGlagolitic, NotoSansGothic, NotoSansHanunoo, NotoSansImperialAramaic, NotoSansInscriptionalPahlavi, NotoSansInscriptionalParthian, NotoSansJavanese, NotoSansKaithi, NotoSansKayahLi, NotoSansKharoshthi, NotoSansLepcha, NotoSansLimbu, NotoSansLinearB, NotoSansLisu, NotoSansLycian, NotoSansLydian, NotoSansMandaic, NotoSansMeeteiMayek, NotoSansMongolian, NotoSansNKo, NotoSansNewTaiLue, NotoSansOgham, NotoSansOlChiki, NotoSansOldItalic, NotoSansOldPersian, NotoSansOldSouthArabian, NotoSansOldTurkic, NotoSansOsmanya, NotoSansPhagsPa, NotoSansPhoenician, NotoSansRejang, NotoSansRunic, NotoSansSamaritan, NotoSansSaurashtra, NotoSansShavian, NotoSansSundanese, NotoSansSylotiNagri, NotoSansSyriacEastern, NotoSansTagalog, NotoSansTagbanwa, NotoSansTaiLe, NotoSansTaiTham, NotoSansTaiViet, NotoSansThaana, NotoSansTifinagh, NotoSansUgaritic, NotoSansVai, NotoSansYi, &quot;Optima-Bold&quot;, &quot;Optima-BoldItalic&quot;, &quot;Optima-ExtraBlack&quot;, &quot;Optima-Italic&quot;, &quot;Optima-Regular&quot;, OriyaSangamMN, &quot;OriyaSangamMN-Bold&quot;, &quot;Palatino-Bold&quot;, &quot;Palatino-BoldItalic&quot;, &quot;Palatino-Italic&quot;, &quot;Palatino-Roman&quot;, Papyrus, &quot;Papyrus-Condensed&quot;, PartyLetPlain, PhoneKeyCapsTwo, PhonepadTwo, &quot;PingFangHK-Light&quot;, &quot;PingFangHK-Medium&quot;, &quot;PingFangHK-Regular&quot;, &quot;PingFangHK-Semibold&quot;, &quot;PingFangHK-Thin&quot;, &quot;PingFangHK-Ultralight&quot;, &quot;PingFangSC-Light&quot;, &quot;PingFangSC-Medium&quot;, &quot;PingFangSC-Regular&quot;, &quot;PingFangSC-Semibold&quot;, &quot;PingFangSC-Thin&quot;, &quot;PingFangSC-Ultralight&quot;, &quot;PingFangTC-Light&quot;, &quot;PingFangTC-Medium&quot;, &quot;PingFangTC-Regular&quot;, &quot;PingFangTC-Semibold&quot;, &quot;PingFangTC-Thin&quot;, &quot;PingFangTC-Ultralight&quot;, &quot;Rockwell-Bold&quot;, SavoyeLetPlain, &quot;Scheme-Bold&quot;, Seravek, &quot;Seravek-Bold&quot;, &quot;Seravek-BoldItalic&quot;, &quot;Seravek-ExtraLight&quot;, &quot;Seravek-ExtraLightItalic&quot;, &quot;Seravek-Italic&quot;, &quot;Seravek-Light&quot;, &quot;Seravek-LightItalic&quot;, &quot;Seravek-Medium&quot;, &quot;Seravek-MediumItalic&quot;, &quot;SignPainter-HouseScriptSemibold&quot;, SinhalaSangamMN, &quot;SinhalaSangamMN-Bold&quot;, SnellRoundhand, &quot;SnellRoundhand-Black&quot;, &quot;SnellRoundhand-Bold&quot;, &quot;Superclarendon-Black&quot;, &quot;Superclarendon-BlackItalic&quot;, &quot;Superclarendon-Bold&quot;, &quot;Superclarendon-BoldItalic&quot;, &quot;Superclarendon-Italic&quot;, &quot;Superclarendon-Light&quot;, &quot;Superclarendon-LightItalic&quot;, &quot;Superclarendon-Regular&quot;, Symbol, TamilSangamMN, &quot;TamilSangamMN-Bold&quot;, &quot;TheHandSerif-Semibold&quot;, Thonburi, &quot;Thonburi-Bold&quot;, &quot;Thonburi-Light&quot;, TimesLTMM, &quot;TimesNewRomanPS-BoldItalicMT&quot;, &quot;TimesNewRomanPS-BoldMT&quot;, &quot;TimesNewRomanPS-ItalicMT&quot;, TimesNewRomanPSMT, &quot;Trebuchet-BoldItalic&quot;, TrebuchetMS, &quot;TrebuchetMS-Bold&quot;, &quot;TrebuchetMS-Italic&quot;, Verdana, &quot;Verdana-Bold&quot;, &quot;Verdana-BoldItalic&quot;, &quot;Verdana-Italic&quot;, ZapfDingbatsITC, Zapfino) count 548 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199CFArrayRef CTFontManagerCopyAvailableFontFamilyNames( void ) CT_AVAILABLE(10_6, 10_0); æ‰€æœ‰çš„ fontFamilyNameç»“æœ( &quot;.Al Nile PUA&quot;, &quot;.Apple Color Emoji UI&quot;, &quot;.Apple SD Gothic NeoI&quot;, &quot;.Apple SD Gothic NeoW&quot;, &quot;.Damascus PUA&quot;, &quot;.Farah PUA&quot;, &quot;.Geeza Pro Interface&quot;, &quot;.Geeza Pro PUA&quot;, &quot;.Helvetica Light&quot;, &quot;.Helvetica LT MM&quot;, &quot;.Helvetica Neue ATV&quot;, &quot;.Helvetica Neue Interface&quot;, &quot;.Helvetica NeueUI&quot;, &quot;.Hiragino Kaku Gothic Interface&quot;, &quot;.Hiragino Kaku Gothic InterfaceWatch&quot;, &quot;.Keycaps&quot;, &quot;.Keycaps A&quot;, &quot;.Keycaps B&quot;, &quot;.Keycaps Pad&quot;, &quot;.Keycaps Pad A&quot;, &quot;.LastResort&quot;, &quot;.Lock Clock&quot;, &quot;.PhoneFallback&quot;, &quot;.PhoneKeyCaps&quot;, &quot;.PhoneKeyCapsThree&quot;, &quot;.PhoneKeyCapsTwo&quot;, &quot;.PhonepadTwo&quot;, &quot;.PingFang HK&quot;, &quot;.PingFang SC&quot;, &quot;.PingFang TC&quot;, &quot;.Savoye LET CC.&quot;, &quot;.SF Compact Display&quot;, &quot;.SF Compact Rounded&quot;, &quot;.SF Compact Text&quot;, &quot;.SF UI Display&quot;, &quot;.SF UI Display Condensed&quot;, &quot;.SF UI Text&quot;, &quot;.SF UI Text Condensed&quot;, &quot;.Sukhumvit Set UI&quot;, &quot;.Times LT MM&quot;, &quot;Academy Engraved LET&quot;, &quot;Al Nile&quot;, &quot;American Typewriter&quot;, Arial, &quot;Arial Hebrew&quot;, &quot;Arial Rounded MT Bold&quot;, Asphalt, Athelas, Avenir, &quot;Avenir Next&quot;, &quot;Avenir Next Condensed&quot;, Balega, Baskerville, &quot;Bebas Neue&quot;, &quot;Bodoni 72&quot;, &quot;Bodoni 72 Oldstyle&quot;, &quot;Bodoni 72 Smallcaps&quot;, &quot;Bodoni Ornaments&quot;, &quot;Bradley Hand&quot;, &quot;Chalkboard SE&quot;, Chalkduster, Charter, Cochin, Copperplate, Courier, &quot;Courier New&quot;, Damascus, &quot;DB LCD Temp&quot;, &quot;Dear Joe Four&quot;, &quot;Devanagari Sangam MN&quot;, Didot, &quot;DIN Alternate&quot;, &quot;DIN Condensed&quot;, Druk, &quot;Euphemia UCAS&quot;, &quot;Fakt Slab Stencil Pro&quot;, Farah, Futura, &quot;Geeza Pro&quot;, Georgia, &quot;Gill Sans&quot;, &quot;Gujarati Sangam MN&quot;, &quot;Gurmukhi MN&quot;, Helvetica, &quot;Helvetica Neue&quot;, &quot;Hiragino Kaku Gothic ProN&quot;, &quot;Hiragino Mincho ProN&quot;, &quot;Hiragino Sans&quot;, &quot;Hoefler Text&quot;, &quot;Iowan Old Style&quot;, &quot;Journal Sans New&quot;, Kailasa, &quot;Kannada Sangam MN&quot;, &quot;Khmer Sangam MN&quot;, &quot;Kohinoor Bangla&quot;, &quot;Kohinoor Devanagari&quot;, &quot;Kohinoor Telugu&quot;, &quot;Lao Sangam MN&quot;, &quot;Malayalam Sangam MN&quot;, Marion, &quot;Marker Felt&quot;, Menlo, Mishafi, &quot;Myanmar Sangam MN&quot;, Noteworthy, &quot;Noto Sans Avestan&quot;, &quot;Noto Sans Balinese&quot;, &quot;Noto Sans Bamum&quot;, &quot;Noto Sans Batak&quot;, &quot;Noto Sans Brahmi&quot;, &quot;Noto Sans Buginese&quot;, &quot;Noto Sans Buhid&quot;, &quot;Noto Sans Carian&quot;, &quot;Noto Sans Cham&quot;, &quot;Noto Sans Coptic&quot;, &quot;Noto Sans Cuneiform&quot;, &quot;Noto Sans Cypriot&quot;, &quot;Noto Sans Egyptian Hieroglyphs&quot;, &quot;Noto Sans Glagolitic&quot;, &quot;Noto Sans Gothic&quot;, &quot;Noto Sans Hanunoo&quot;, &quot;Noto Sans Imperial Aramaic&quot;, &quot;Noto Sans Inscriptional Pahlavi&quot;, &quot;Noto Sans Inscriptional Parthian&quot;, &quot;Noto Sans Javanese&quot;, &quot;Noto Sans Kaithi&quot;, &quot;Noto Sans Kayah Li&quot;, &quot;Noto Sans Kharoshthi&quot;, &quot;Noto Sans Lepcha&quot;, &quot;Noto Sans Limbu&quot;, &quot;Noto Sans Linear B&quot;, &quot;Noto Sans Lisu&quot;, &quot;Noto Sans Lycian&quot;, &quot;Noto Sans Lydian&quot;, &quot;Noto Sans Mandaic&quot;, &quot;Noto Sans Meetei Mayek&quot;, &quot;Noto Sans Mongolian&quot;, &quot;Noto Sans New Tai Lue&quot;, &quot;Noto Sans NKo&quot;, &quot;Noto Sans Ogham&quot;, &quot;Noto Sans Ol Chiki&quot;, &quot;Noto Sans Old Italic&quot;, &quot;Noto Sans Old Persian&quot;, &quot;Noto Sans Old South Arabian&quot;, &quot;Noto Sans Old Turkic&quot;, &quot;Noto Sans Osmanya&quot;, &quot;Noto Sans Phags Pa&quot;, &quot;Noto Sans Phoenician&quot;, &quot;Noto Sans Rejang&quot;, &quot;Noto Sans Runic&quot;, &quot;Noto Sans Samaritan&quot;, &quot;Noto Sans Saurashtra&quot;, &quot;Noto Sans Shavian&quot;, &quot;Noto Sans Sundanese&quot;, &quot;Noto Sans Syloti Nagri&quot;, &quot;Noto Sans Syriac Eastern&quot;, &quot;Noto Sans Tagalog&quot;, &quot;Noto Sans Tagbanwa&quot;, &quot;Noto Sans Tai Le&quot;, &quot;Noto Sans Tai Tham&quot;, &quot;Noto Sans Tai Viet&quot;, &quot;Noto Sans Thaana&quot;, &quot;Noto Sans Tifinagh&quot;, &quot;Noto Sans Ugaritic&quot;, &quot;Noto Sans Vai&quot;, &quot;Noto Sans Yi&quot;, Optima, &quot;Oriya Sangam MN&quot;, Palatino, Papyrus, &quot;Party LET&quot;, &quot;PingFang HK&quot;, &quot;PingFang SC&quot;, &quot;PingFang TC&quot;, Rockwell, &quot;Savoye LET&quot;, Scheme, Seravek, SignPainter, &quot;Sinhala Sangam MN&quot;, &quot;Snell Roundhand&quot;, Superclarendon, Symbol, &quot;Tamil Sangam MN&quot;, &quot;The Hand Serif&quot;, Thonburi, &quot;Times New Roman&quot;, &quot;Trebuchet MS&quot;, Verdana, &quot;Zapf Dingbats&quot;, Zapfino, &quot;Apple Color Emoji&quot;, &quot;Apple SD Gothic Neo&quot;, AppleGothic) count 194 12345678CFArrayRef CTFontManagerCopyAvailableFontURLs( void ) CT_AVAILABLE_MAC(10_6); mac ä¸“ç”¨CFComparisonResult CTFontManagerCompareFontFamilyNames( const void * family1, const void * family2, void * __nullable context ) CT_AVAILABLE_MAC(10_6); macä¸“ç”¨ 123CFArrayRef __nullable CTFontManagerCreateFontDescriptorsFromURL( CFURLRef fileURL ) CT_AVAILABLE(10_6, 7_0); è¿™ä¸ªä¸ä¼šç”¨ ï¼Œä¸çŸ¥é“fileURLæ€ä¹ˆæ¥ 123CTFontDescriptorRef __nullable CTFontManagerCreateFontDescriptorFromData( CFDataRef data ) è¿™ä¸ªä¹Ÿä¸ä¼šç”¨ï¼Œä¸çŸ¥é“dataæ€ä¹ˆæ¥ 12345678typedef CF_ENUM(uint32_t, CTFontManagerScope) &#123; kCTFontManagerScopeNone = 0, kCTFontManagerScopeProcess = 1, kCTFontManagerScopeUser = 2, /* not supported in iOS */ kCTFontManagerScopeSession = 3 /* not supported in iOS */&#125;;è¿™ä¸ªæƒé™ ios kCTFontManagerScopeProcess èƒ½ç”¨ 12345bool CTFontManagerRegisterFontsForURL( CFURLRef fontURL, CTFontManagerScope scope, CFErrorRef * error ) è¿™ä¸ªfontURL ä¸çŸ¥é“æ€ä¹ˆæ¥ 12345bool CTFontManagerUnregisterFontsForURL( CFURLRef fontURL, CTFontManagerScope scope, CFErrorRef * error ) CT_AVAILABLE(10_6, 4_1); è¿™ä¸ªfontRUL ä¸çŸ¥é“æ€ä¹ˆæ¥ 123bool CTFontManagerRegisterGraphicsFont( CGFontRef font, CFErrorRef * error ) CT_AVAILABLE(10_8, 4_1); 123bool CTFontManagerUnregisterGraphicsFont( CGFontRef font, CFErrorRef * error ) CT_AVAILABLE(10_8, 4_1) 1234bool CTFontManagerRegisterFontsForURLs( CFArrayRef fontURLs, CTFontManagerScope scope, CFArrayRef __nullable * __nullable errors ) 1234bool CTFontManagerUnregisterFontsForURLs( CFArrayRef fontURLs, CTFontManagerScope scope, CFArrayRef __nullable * __nullable errors ) 1234567891011121314151617181920212223242526272829void CTFontManagerEnableFontDescriptors( CFArrayRef descriptors, bool enable ) CT_AVAILABLE_MAC(10_6); mac æœ‰æ•ˆ CTFontManagerScope CTFontManagerGetScopeForURL(CFURLRef fontURL ) CT_AVAILABLE_MAC(10_6);mac æœ‰æ•ˆbool CTFontManagerIsSupportedFont( CFURLRef fontURL ) CT_AVAILABLE_MAC(10_6)mac æœ‰æ•ˆCFRunLoopSourceRef __nullable CTFontManagerCreateFontRequestRunLoopSource( CFIndex sourceOrder, CFArrayRef (^createMatchesCallback)(CFDictionaryRef requestAttributes, pid_t requestingProcess)) CT_AVAILABLE_MAC(10_6);mac æœ‰æ•ˆCT_EXPORT const CFStringRef kCTFontManagerBundleIdentifier CT_AVAILABLE_MAC(10_6);mac bundlevoid CTFontManagerSetAutoActivationSetting( CFStringRef __nullable bundleIdentifier, CTFontManagerAutoActivationSetting setting ) CT_AVAILABLE_MAC(10_6); mac æœ‰æ•ˆCTFontManagerAutoActivationSetting CTFontManagerGetAutoActivationSetting( CFStringRef __nullable bundleIdentifier ) CT_AVAILABLE_MAC(10_6); mac æœ‰æ•ˆ 1CT_EXPORT const CFStringRef kCTFontManagerRegisteredFontsChangedNotification CT_AVAILABLE(10_6, 7_0); å­—ä½“æ³¨å†Œå˜åŒ–é€šçŸ¥ã€‚ è¯¥ç±»æ˜¯ç”¨æ¥manger å­—ä½“çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“æœ‰å•¥ç”¨ã€‚","tags":[]},{"title":"CTStringAttributes.hå­¦ä¹ ","date":"2017-03-02T05:59:54.000Z","path":"2017/03/02/CTStringAttributeså­¦ä¹ /","text":"å®Œæˆä¸°å¯Œçš„å¸ƒå±€ç¦»ä¸å¼€æ–‡æœ¬String ä¸‹é¢å­¦ä¹  å­¦ä¹ CTStringAttributes é…ç½®å¯Œæ–‡æœ¬çš„key key value æ³¨æ„äº‹é¡¹ kCTFontAttributeName CTFontRef é…ç½®å¯Œæ–‡æœ¬çš„å­—ä½“é»˜è®¤æ˜¯ Helvetica 12 kCTForegroundColorFromContextAttributeName CFBooleanRef Default is false ï¼Œå…·ä½“æƒ³æ³•ä¸æ¸…æ¥š kCTKernAttributeName CFNumberRef å­—ç¬¦ä¹‹é—´çš„é—´éš” é»˜è®¤æ˜¯ 0.0 kCTLigatureAttributeName CFNumberRef é»˜è®¤å€¼æ˜¯1 ï¼Œç”¨æ³•ä¸æ¸…æ¥š kCTForegroundColorAttributeName CGColorRef é»˜è®¤æ˜¯black ã€‚è®¾ç½®å­—ä½“é¢œè‰² kCTBackgroundColorAttributeName CGColorRef é»˜è®¤é€æ˜ï¼ŒèƒŒæ™¯é¢œè‰² kCTParagraphStyleAttributeName CTParagraphStyleRef é»˜è®¤ä¸è®¾ç½®è¯¥å±æ€§ã€‚å¯ä»¥è®¾ç½®ä¾‹å¦‚line å¯¹å¯¹é½ï¼Œå†™çš„æ–¹å‘ï¼Œtabè§„åˆ™ç­‰ã€‚ kCTStrokeWidthAttributeName CFNumberRef çº¿å®½ã€‚é»˜è®¤0.0 kCTStrokeColorAttributeName CGColorRef çº¿çš„é¢œè‰²ã€‚é»˜è®¤æ˜¯ foregroundé¢œè‰²ã€‚æ²¡å•¥å˜åŒ–ï¼Œæœ‰æ—¶é—´å†ç ”ç©¶ kCTUnderlineStyleAttributeName CFNumberRef ä¸‹åˆ’çº¿ ç±»å‹æœ‰ CTUnderlineStyle kCTSuperscriptAttributeName CFNumberRef é»˜è®¤æ˜¯0.ä¸Šæ ‡è¿˜æ˜¯ä¸‹æ ‡ã€‚ è¦ the specified fontã€‚å…·ä½“æ˜¯å•¥å­—ä½“ä¸çŸ¥é“ã€‚ -1 ä¸‹æ ‡ 1 ä¸Šæ ‡ã€‚æš‚æ—¶è®¾ç½®æ²¡æ•ˆæœã€‚ kCTUnderlineColorAttributeName CGColorRef é»˜è®¤æ˜¯foreground é¢œè‰² ï¼Œä¸‹åˆ’çº¿é¢œè‰².è®¾ç½®ä¸èµ·æ€»ç”¨ kCTVerticalFormsAttributeName CFBooleanRef value false horizontal value true vertical kCTHorizontalInVerticalFormsAttributeName CFNumberRef é»˜è®¤æ˜¯0. value æ˜¯1 to 4 åªæœ‰è®¾ç½® kCTVerticalFormsAttributeNameæ‰èµ·ä½œç”¨.ç›®å‰ä¸çŸ¥é“æ‚ç”¨ã€‚æ²¡æ•ˆæœ kCTGlyphInfoAttributeName CTGlyphInfoRef æ”¹value ä¸çŸ¥é“æ‚ç”¨ï¼Œæš‚æ—¶è¿‡ kCTCharacterShapeAttributeName CFNumberRef 9.0 ä»¥åæ‰èƒ½ç”¨ ï¼Œæš‚æ—¶value å€¼ä¸çŸ¥é“å’‹ç”¨ kCTLanguageAttributeName CFStringRef å…·ä½“valueå€¼æœ‰å“ªäº›ã€‚æš‚æ—¶ä¸ç®¡ã€‚ kCTRunDelegateAttributeName CTRunDelegateRef å¯ä»¥ç”¨æ¥å›¾æ–‡æ··æ‹çš„ä¸œè¥¿ã€‚æ›¿ä»£çš„æ¯ä¸€ä¸ªcgglyph kCTBaselineClassAttributeName CFStringRef value æœ‰ kCTBaselineClassRomanï¼Œ kCTBaselineClassIdeographicCenteredï¼Œ kCTBaselineClassIdeographicLowï¼Œ kCTBaselineClassIdeographicHighï¼Œ kCTBaselineClassHangingï¼Œ kCTBaselineClassMathï¼Œæš‚æ—¶ä¸çŸ¥é“æ‚ç”¨ kCTBaselineInfoAttributeName CFDictionaryRef key æ˜¯ value æœ‰ kCTBaselineClassRomanï¼Œ kCTBaselineClassIdeographicCenteredï¼Œ kCTBaselineClassIdeographicLowï¼Œ kCTBaselineClassIdeographicHighï¼Œ kCTBaselineClassHangingï¼Œ kCTBaselineClassMathï¼Œæš‚æ—¶ä¸çŸ¥é“æ‚ç”¨ï¼Œä¸ä¼šç”¨ kCTBaselineReferenceInfoAttributeName CFDictionaryRef key æ˜¯ value æœ‰ kCTBaselineClassRomanï¼Œ kCTBaselineClassIdeographicCenteredï¼Œ kCTBaselineClassIdeographicLowï¼Œ kCTBaselineClassIdeographicHighï¼Œ kCTBaselineClassHangingï¼Œ kCTBaselineClassMathï¼Œæš‚æ—¶ä¸çŸ¥é“æ‚ç”¨ï¼Œä¸ä¼šç”¨ kCTWritingDirectionAttributeName CFArray æ•°ç»„ä¸­æ˜¯ number ã€‚æš‚æ—¶ä¸ä¼šç”¨ kCTRubyAnnotationAttributeName CTRubyAnnotation æš‚æ—¶ä¸ä¼šç”¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134-(void)setstring:(NSMutableAttributedString * )beginStr appendString:(CFStringRef )key value:(id)value string:(NSString *)string&#123; NSRange range = [beginStr.string rangeOfString:string]; NSMutableDictionary * dic = [NSMutableDictionary dictionaryWithObject:value forKey:(__bridge NSString *)key]; [beginStr setAttributes:dic range:range];&#125;-(void)string:(NSMutableAttributedString * )beginStr appendString:(CFStringRef )key value:(id)value string:(NSString *)string&#123; NSMutableAttributedString *nextMabstring = [[NSMutableAttributedString alloc]initWithString:string]; NSMutableDictionary * dic = [NSMutableDictionary dictionaryWithObject:value forKey:(__bridge NSString *)key]; [nextMabstring setAttributes:dic range:NSMakeRange(0, nextMabstring.length)]; [beginStr appendAttributedString:nextMabstring]; &#125;-(void)drawRect:(CGRect)rect&#123; NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;&quot;]; [self string:mabstring appendString:kCTFontAttributeName value:[UIFont systemFontOfSize:24] string:@&quot;kCTFontAttributeName&quot;]; [self string:mabstring appendString:kCTForegroundColorFromContextAttributeName value:@(YES) string:@&quot;kCTForegroundColorFromContextAttributeName&quot;]; [self string:mabstring appendString:kCTKernAttributeName value:@(30) string:@&quot;kCTKernAttributeName&quot;]; [self string:mabstring appendString:kCTLigatureAttributeName value:@(2) string:@&quot;kCTLigatureAttributeName&quot;]; [self string:mabstring appendString:kCTForegroundColorAttributeName value:(id)([UIColor redColor].CGColor) string:@&quot;kCTForegroundColorAttributeName&quot;]; [self string:mabstring appendString:kCTBackgroundColorAttributeName value:(id)([UIColor blueColor].CGColor) string:@&quot;kCTBackgroundColorAttributeName&quot;]; CTParagraphStyleSetting setting[1] ; CGFloat vale =30; setting[0].spec = kCTParagraphStyleSpecifierLineSpacingAdjustment; setting[0].valueSize =sizeof(CGFloat); setting[0].value = &amp;vale; CTParagraphStyleRef stlye = CTParagraphStyleCreate(setting, 1); [self string:mabstring appendString:kCTParagraphStyleAttributeName value:(id)(stlye) string:@&quot;kCTParagraphStyleAttributeName&quot;]; [self string:mabstring appendString:kCTStrokeWidthAttributeName value:(id)(@(5)) string:@&quot;kCTStrokeWidthAttributeName&quot;]; [self string:mabstring appendString:kCTStrokeColorAttributeName value:(id)([UIColor redColor].CGColor) string:@&quot;kCTStrokeColorAttributeName&quot;]; [self string:mabstring appendString:kCTUnderlineStyleAttributeName value:(id)(@(kCTUnderlineStyleDouble)) string:@&quot;kCTUnderlineStyleAttributeName&quot;]; [self string:mabstring appendString:kCTUnderlineStyleAttributeName value:(id)(@(kCTUnderlineStyleThick)) string:@&quot;kCTUnderlineStyleAttributeName&quot;]; [self string:mabstring appendString:kCTUnderlineStyleAttributeName value:(id)(@(kCTUnderlineStyleSingle)) string:@&quot;kCTUnderlineStyleAttributeName&quot;]; [self string:mabstring appendString:kCTSuperscriptAttributeName value:(id)(@(-1)) string:@&quot;kCTSuperscriptAttributeName&quot;]; [self string:mabstring appendString:kCTUnderlineStyleAttributeName value:(id)(@(kCTUnderlineStyleSingle)) string:@&quot;kCTUnderlineColorAttributeName&quot;]; [self setstring:mabstring appendString:kCTUnderlineColorAttributeName value:(id)([UIColor redColor].CGColor) string:@&quot;kCTUnderlineColorAttributeName&quot;]; [self string:mabstring appendString:kCTVerticalFormsAttributeName value:(id)(@(YES)) string:@&quot;kCTVerticalFormsAttributeName&quot;]; [self string:mabstring appendString:kCTVerticalFormsAttributeName value:(id)(@(YES)) string:@&quot;kCTHorizontalInVerticalFormsAttributeName&quot;];// [self setstring:mabstring appendString:kCTHorizontalInVerticalFormsAttributeName value:(id)(@(3)) string:@&quot;kCTHorizontalInVerticalFormsAttributeName&quot;]; // [self string:mabstring appendString:kCTGlyphInfoAttributeName value:(id)([UIColor blueColor].CGColor) string:@&quot;kCTGlyphInfoAttributeName&quot;]; // [self string:mabstring appendString:kCTCharacterShapeAttributeName value:(id)(@(3)) string:@&quot;kCTCharacterShapeAttributeName&quot;]; [self string:mabstring appendString:kCTLanguageAttributeName value:(id)(@&quot;Helvetica&quot;) string:@&quot;kCTLanguageAttributeName&quot;]; CTRunDelegateDeallocateCallback deallocateCallback= CTRunDelegateDeallocateCallbackFunction; NSLog(@&quot;CTRunDelegateGetAscentCallback è·å–ascent&quot;); CTRunDelegateGetAscentCallback ascentCallback= CTRunDelegateGetAscentCallbackFunction; CTRunDelegateGetDescentCallback descentCallback = CTRunDelegateGetDescentCallbackFunction; CTRunDelegateGetWidthCallback widthCallBack = CTRunDelegateGetWidthCallbackFunction; CTRunDelegateCallbacks callBack ; callBack.version =kCTRunDelegateCurrentVersion; callBack.dealloc = deallocateCallback; callBack.getAscent = ascentCallback; callBack.getDescent = descentCallback; callBack.getWidth = widthCallBack; CTRunDelegateRef delegate= CTRunDelegateCreate(&amp;callBack, NULL); ///è·å–delegateå€¼ [self string:mabstring appendString:kCTRunDelegateAttributeName value:(__bridge id)(delegate) string:@&quot;kCTRunDelegateAttributeName&quot;]; [self string:mabstring appendString:kCTBaselineClassAttributeName value:(id)(kCTBaselineClassRoman) string:@&quot;kCTBaselineClassAttributeName&quot;]; [self string:mabstring appendString:kCTBaselineClassAttributeName value:(id)(kCTBaselineClassIdeographicCentered) string:@&quot;kCTBaselineClassAttributeName&quot;]; [self string:mabstring appendString:kCTBaselineClassAttributeName value:(id)(kCTBaselineClassIdeographicLow) string:@&quot;kCTBaselineClassAttributeName&quot;]; [self string:mabstring appendString:kCTBaselineClassAttributeName value:(id)(kCTBaselineClassIdeographicHigh) string:@&quot;kCTBaselineClassAttributeName&quot;]; [self string:mabstring appendString:kCTBaselineClassAttributeName value:(id)(kCTBaselineClassHanging) string:@&quot;kCTBaselineClassAttributeName&quot;]; [self string:mabstring appendString:kCTBaselineClassAttributeName value:(id)(kCTBaselineClassMath) string:@&quot;kCTBaselineClassAttributeName&quot;]; // [self string:mabstring appendString:kCTBaselineInfoAttributeName value:(id)([UIColor blueColor].CGColor) string:@&quot;kCTBaselineInfoAttributeName&quot;]; // [self string:mabstring appendString:kCTBaselineReferenceInfoAttributeName value:(id)([UIColor blueColor].CGColor) string:@&quot;kCTBaselineReferenceInfoAttributeName&quot;]; // [self string:mabstring appendString:kCTWritingDirectionAttributeName value:(id)([UIColor blueColor].CGColor) string:@&quot;kCTWritingDirectionAttributeName&quot;];// [self string:mabstring appendString:kCTRubyAnnotationAttributeName value:(id)([UIColor blueColor].CGColor) string:@&quot;kCTRubyAnnotationAttributeName&quot;]; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, 0), Path, NULL); CTFrameDraw(frame, context);&#125;void CTRunDelegateDeallocateCallbackFunction (void * refCon )&#123; &#125;CGFloat CTRunDelegateGetAscentCallbackFunction (void * refCon )&#123; return 30;&#125;CGFloat CTRunDelegateGetDescentCallbackFunction (void * refCon )&#123; return 30;&#125;CGFloat CTRunDelegateGetWidthCallbackFunction(void * refCon )&#123; return 30;&#125; ç»“æœæˆªå›¾ è¿™ä¸ªç±»å°±æ˜¯ attString é…ç½®ç±»ã€‚ ä¸‹é¢å°±æ˜¯ä¸Šé¢éš¾ç‚¹å’Œä¸å¤ªæ¸…æ¥šçš„åœ°æ–¹æ”»å…³1234567891011121314151617181920212223242526272829kCTForegroundColorFromContextAttributeName è¿™ä¸ªå¼€å…³æ˜¯å…³äºæ˜¯å¦ç”¨context é¢œè‰²æ¥å¡«å……è¦æ˜¯yesçš„è¯ï¼ŒkCTUnderlineStyleAttributeName å±æ€§å°†å¤±å»æ•ˆæœã€‚-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetRGBStrokeColor(context, 0, 1, 0, 1); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;kCTForegroundColorFromContextAttributeName&quot;]; NSMutableDictionary * dic = [NSMutableDictionary dictionaryWithObject:(id)(@(YES)) forKey:(__bridge NSString *)kCTForegroundColorFromContextAttributeName]; [dic setObject:(id)([UIColor redColor].CGColor) forKey:(__bridge NSString *)kCTUnderlineColorAttributeName]; [dic setObject:(id)(@(kCTUnderlineStyleSingle)) forKey:(__bridge NSString *)kCTUnderlineStyleAttributeName]; [mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, 0), Path, NULL); CTFrameDraw(frame, context); &#125; æ•ˆæœ åŒæ—¶è®¾ç½®CGContextRef é¢œè‰² å’Œ kCTUnderlineStyleAttributeName å±æ€§å€¼ï¼Œè€Œå…¶åŠ¨ä½œç”¨çš„æ˜¯CGContextRefé¢œè‰²ã€‚ 1kCTLigatureAttributeName è¿ä½“å­— æ²¡å‘ç°å¯ç”¨çš„å­—ä½“ 1kCTSuperscriptAttributeName ä¸Šæ ‡å’Œä¸‹æ ‡ æ²¡çœ‹å‡ºæ•ˆæœ 12345678910111213141516171819202122232425kCTUnderlineColorAttributeName è¿™ä¸ªå¯ä»¥è¢« kCTForegroundColorFromContextAttributeName å±æ€§å½±å“ï¼Œ è¦æ˜¯è¯¥å±æ€§è®¾ç½®ä¸ºyes é‚£ä¹ˆè¯¥å±æ€§å°±å¤±æ•ˆäº†è¡¥å……ï¼š ä¸‹åˆ’çº¿çš„è¿˜å¯ä»¥è®¾ç½®æˆä¸€ä¸‹æ ·å¼ï¼š-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetRGBStrokeColor(context, 0, 1, 0, 1); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;&quot;]; [self string:mabstring appendString:kCTUnderlineStyleAttributeName value:(id)(@(kCTUnderlineStyleDouble|kCTUnderlinePatternSolid)) string:@&quot;\\nkCTUnderlineStyleAttributeName&quot;]; [self string:mabstring appendString:kCTUnderlineStyleAttributeName value:(id)(@(kCTUnderlineStyleDouble|kCTUnderlinePatternDot)) string:@&quot;\\nkCTUnderlineStyleAttributeName&quot;]; [self string:mabstring appendString:kCTUnderlineStyleAttributeName value:(id)(@(kCTUnderlineStyleDouble|kCTUnderlinePatternDash)) string:@&quot;\\nkCTUnderlineStyleAttributeName&quot;]; [self string:mabstring appendString:kCTUnderlineStyleAttributeName value:(id)(@(kCTUnderlineStyleDouble|kCTUnderlinePatternDashDot)) string:@&quot;\\nkCTUnderlineStyleAttributeName&quot;]; [self string:mabstring appendString:kCTUnderlineStyleAttributeName value:(id)(@(kCTUnderlineStyleDouble|kCTUnderlinePatternDashDotDot)) string:@&quot;\\nkCTUnderlineStyleAttributeName&quot;]; CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, 0), Path, NULL); CTFrameDraw(frame, context); &#125; æ•ˆæœå›¾ï¼š 1kCTHorizontalInVerticalFormsAttributeName æš‚æ—¶ä¸çŸ¥é“æœ‰å•¥ç”¨ 1kCTGlyphInfoAttributeName è¿™ä¸ªå…·ä½“ç”¨æ³•è¦çœ‹CTGlyphInfo.h 1kCTCharacterShapeAttributeName 9.0 ä»¥åè¢«åºŸå¼ƒäº†ã€‚ä¸ç ”ç©¶ 1kCTLanguageAttributeName æš‚æ—¶ä¸çŸ¥é“å¹²å˜›ç”¨ 1kCTBaselineClassAttributeName æ²¡ç ”ç©¶ 1kCTBaselineInfoAttributeName æ²¡ç ”ç©¶ 1kCTBaselineReferenceInfoAttributeName æ²¡ç ”ç©¶ 1kCTWritingDirectionAttributeName æ²¡ç ”ç©¶ 1234567891011121314151617181920212223kCTRubyAnnotationAttributeName ç±»ä¼¼æ±‰è¯­æ‹¼éŸ³çš„æ³¨éŸ³-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetRGBStrokeColor(context, 0, 1, 0, 1); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;kCTRubyAnnotationAttributeName&quot;]; CTRubyAnnotationRef rubyAnnotation =CTRubyAnnotationCreateWithAttributes(0, 0, 0, (__bridge CFStringRef)@&quot;nihoa&quot;, NULL); NSMutableDictionary * dic = [NSMutableDictionary dictionaryWithObject:(__bridge id)(rubyAnnotation) forKey:(__bridge NSString *)kCTRubyAnnotationAttributeName]; [mabstring setAttributes:dic range:NSMakeRange(0, mabstring.length)]; CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, 0), Path, NULL); CTFrameDraw(frame, context); &#125; æ•ˆæœå¦‚ä¸‹:","tags":[]},{"title":"CTRun.hå­¦ä¹ ","date":"2017-03-02T05:58:51.000Z","path":"2017/03/02/CTRunå­¦ä¹ /","text":"CTLineæ˜¯ç”±CTRunç»„æˆçš„ã€‚ æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥çœ‹çœ‹CTRun 1.Glyph Run Types 2Glyph Run Access 1.Glyph Run TypesCFTypeID CTRunGetTypeID( void ) è·å–CTRunRef çš„ CFTypeID 12345678910111213typedef CF_OPTIONS(uint32_t, CTRunStatus)&#123; kCTRunStatusNoStatus = 0, kCTRunStatusRightToLeft = (1 &lt;&lt; 0), kCTRunStatusNonMonotonic = (1 &lt;&lt; 1), kCTRunStatusHasNonIdentityMatrix = (1 &lt;&lt; 2)&#125;;Runçš„çŠ¶æ€kCTRunStatusNoStatus æ²¡æœ‰å±æ€§kCTRunStatusRightToLeft æš‚æ—¶ä¸çŸ¥é“å¹²å˜›çš„ kCTRunStatusNonMonotonic æš‚æ—¶ä¸çŸ¥é“å¹²å˜›çš„kCTRunStatusHasNonIdentityMatrix æš‚æ—¶ä¸çŸ¥é“å¹²å˜›çš„ 2.Glyph Run Access CTRunGetGlyphCount (CTRunRef run ) è·å–runçš„å­—ä½“ä¸ªæ•° CFDictionaryRef CTRunGetAttributes(CTRunRef run ) è·å–runçš„å±æ€§ CTRunStatus CTRunGetStatus(CTRunRef run ) è·å– status ä¸çŸ¥é“è¿™ä¸ªå¹²å˜›ç”¨ const CGGlyph * __nullable CTRunGetGlyphsPtr(CTRunRef run ) è·å–ä¸€ä¸ªCGGlyph æŒ‡é’ˆæ•°ç»„ void CTRunGetGlyphs(CTRunRef run,CFRange range,CGGlyph buffer[] ) è·å–æ•°æ®CGGlyph åœ¨èŒƒå›´range const CGPoint * __nullable CTRunGetPositionsPtr(CTRunRef run ) è·å–æ¯ä¸ªglyph å­—ä½“çš„èµ·å§‹ä½ç½®æ•°ç»„ void CTRunGetPositions(CTRunRef run,CFRange range,CGPoint buffer[] ) è·å–æ•°æ®è·å–æ•°æ®CGGlyphä½ç½® åœ¨èŒƒå›´range const CGSize * __nullable CTRunGetAdvancesPtr(CTRunRef run ) è·å–CGGlyph çš„å¤§å°æ•°ç»„ void CTRunGetAdvances(CTRunRef run,CFRange range,CGSize buffer[] ) è·å–æ•°æ®è·å–æ•°æ®CGGlyphå¤§å° åœ¨èŒƒå›´range const CFIndex * __nullable CTRunGetStringIndicesPtr(CTRunRef run ) è·å–CGGlyph åœ¨æ•´ä¸ªå­—ç¬¦ä¸²indexæ•°ç»„çš„å¤§å°æ•°ç»„ void CTRunGetStringIndices(CTRunRef run,CFRange range,CFIndex buffer[] ) è·å–æ•°æ®è·å–æ•°æ®CGGlyphåœ¨æ•´ä¸ªå­—ç¬¦ä¸²indexå¤„æ•°ç»„ åœ¨èŒƒå›´range CFRange CTRunGetStringRange(CTRunRef run ) è·å–runåœ¨å­—ç¬¦ä¸²ä¸­çš„range double CTRunGetTypographicBounds(CTRunRef run,CFRange range,CGFloat __ nullable ascent,CGFloat nullable descent,CGFloat * nullable leading ) è·å–run åœ¨èŒƒå›´rangeçš„çš„ç›¸å…³ä¿¡æ¯ è¿”å›å®½åº¦ CGRect CTRunGetImageBounds( CTRunRef run,CGContextRef __nullable context,CFRange range ) è·å–ä¸€ä¸ªrect å…·ä½“æ˜¯æ€ä¹ˆæ ·å­ä¸çŸ¥é“ CGAffineTransform CTRunGetTextMatrix(CTRunRef run ) è·å–run çš„äºŒç»´çŸ©é˜µ void CTRunDraw(CTRunRef run,CGContextRef context,CFRange range ) ç»˜åˆ¶run ä½ç½®ä»€ä¹ˆçš„ä¸å˜ã€‚ ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128 CGContextRef context = UIGraphicsGetCurrentContext();// CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦å§&quot;]; NSDictionary * dic = [NSDictionary dictionaryWithObject:[UIFont systemFontOfSize:18] forKey:(__bridge NSString *)kCTFontAttributeName]; ///è®¾ç½®å­—ä½“ [mabstring setAttributes:dic range:NSMakeRange(2, 3)]; CTLineRef line = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;dd&quot;]; CTLineRef linetoken = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); CTLineRef lineTru = CTLineCreateTruncatedLine(line, 300, kCTLineTruncationStart, linetoken);// CTLineDraw(line, context); // CTLineDraw(line, context); double offset = CTLineGetPenOffsetForFlush(line,0.5, 300); NSLog(@&quot;line offset %f&quot;,offset); UIView * view =[[UIView alloc]initWithFrame:CGRectMake(300/2-offset, self.bounds.size.height-64, offset, 10)]; [self addSubview:view]; view.backgroundColor =[UIColor redColor]; view =[[UIView alloc]initWithFrame:CGRectMake(0, self.bounds.size.height-64, 300/2, 10)]; [self addSubview:view]; view.alpha = 0.4; view.backgroundColor =[UIColor greenColor]; ///access CFIndex index = CTLineGetGlyphCount(lineTru); NSLog(@&quot;line glyph %ld&quot;,index); index = CTLineGetGlyphCount(line); NSLog(@&quot;line glyph %ld&quot;,index); NSArray * runArr = (__bridge NSArray *) CTLineGetGlyphRuns(line); NSLog(@&quot;runArr %@&quot; ,runArr); if (runArr.count&gt;1) &#123; CTRunRef run = (__bridge CTRunRef)runArr[1]; CFIndex index = CTRunGetGlyphCount(run); NSLog(@&quot;Run glyph ä¸ªæ•° %ld&quot;,index); NSDictionary * dic = (__bridge NSDictionary * ) CTRunGetAttributes(run); NSLog(@&quot;run att %@&quot;,dic); CTRunStatus status = CTRunGetStatus(run); NSLog(@&quot;run status %d&quot;,status); const CGGlyph * glyph = CTRunGetGlyphsPtr(run); const CGPoint * point = CTRunGetPositionsPtr(run); const CGSize * size = CTRunGetAdvancesPtr(run); const CFIndex * indexs = CTRunGetStringIndicesPtr(run); for (int i=0; i&lt;index; i++) &#123; NSLog(@&quot;run glyph %d&quot;,glyph[i]); NSLog(@&quot;run point %lf %lf&quot;,point[i].x,point[i].y); NSLog(@&quot;run size %lf %lf&quot;,size[i].width,size[i].height); NSLog(@&quot;run index %ld&quot;,indexs[i]); &#125; CGGlyph buffer[2]; CGPoint pointPos[2]; CGSize sizeBuffer[2]; CFIndex indexBuffer[2]; CTRunGetGlyphs(run, CFRangeMake(0, 2), buffer); NSLog(@&quot;run glyph %d %d&quot;,buffer[0],buffer[1]); CTRunGetPositions(run, CFRangeMake(0, 2), pointPos); NSLog(@&quot;run glyph point %lf %lf&quot;,pointPos[0].x,pointPos[1].y); CTRunGetAdvances(run, CFRangeMake(0, 2), sizeBuffer); NSLog(@&quot;run glyph size %lf %lf&quot;,sizeBuffer[0].width,sizeBuffer[1].height); CTRunGetStringIndices(run,CFRangeMake(0, 2),indexBuffer); NSLog(@&quot;run glyph index %ld %ld&quot;,indexBuffer[0],indexBuffer[1]); CFRange stringRange = CTRunGetStringRange(run); NSLog(@&quot;run string range %ld %ld&quot;,stringRange.location,stringRange.length); CGFloat ascent; CGFloat descent; CGFloat leading; CTRunGetTypographicBounds(run, CFRangeMake(1, 2), &amp;ascent, &amp;descent, &amp;leading); NSLog(@&quot;run ascent %f,descent %f,leading %f&quot;,ascent,descent,leading); CGRect imageRect= CTRunGetImageBounds(run, context, CFRangeMake(1, 2)); NSLog(@&quot;ä¸çŸ¥é“èƒ½å¹²å˜› run image rect %@&quot;,NSStringFromCGRect(imageRect)); UIView * view = [[UIView alloc]initWithFrame:imageRect]; view.backgroundColor =[UIColor redColor ]; view.alpha = 0.8; [self addSubview:view]; CGAffineTransform transfrom = CTRunGetTextMatrix(run); NSLog(@&quot;run transform %@&quot;,NSStringFromCGAffineTransform(transfrom)); CTRunDraw(run, context, CFRangeMake(1, 2)); &#125; ç»“æœ 2017-02-27 15:12:46.162 CoreTextDemo[11205:345484] line offset 110.4870002017-02-27 15:12:46.163 CoreTextDemo[11205:345484] line glyph 52017-02-27 15:12:46.163 CoreTextDemo[11205:345484] line glyph 52017-02-27 15:12:46.163 CoreTextDemo[11205:345484] runArr ( &quot;&lt;CTRun: 0x7fdb89c28330&gt;&#123;string range = (0, 2), string = \\&quot;\\\\u5BCC\\\\u6587\\&quot;, attributes = &lt;CFBasicHash 0x60800026abc0 [0x10117ec70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x101b3b788 [0x10117ec70]&gt;&#123;contents = \\&quot;NSFont\\&quot;&#125; = &lt;CTFont: 0x7fdb89c28130&gt;&#123;name = PingFangSC-Regular, size = 12.000000, matrix = 0x0, descriptor = &lt;CTFontDescriptor: 0x60000008a640&gt;&#123;attributes = &lt;CFBasicHash 0x600000271a80 [0x10117ec70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x101b41908 [0x10117ec70]&gt;&#123;contents = \\&quot;NSFontNameAttribute\\&quot;&#125; = &lt;CFString 0x10ea6d6c0 [0x10117ec70]&gt;&#123;contents = \\&quot;PingFangSC-Regular\\&quot;&#125;\\n&#125;\\n&gt;&#125;&#125;\\n&#125;\\n&#125;&quot;, &quot;&lt;CTRun: 0x7fdb89c3d710&gt;&#123;string range = (2, 3), string = \\&quot;\\\\u672C\\\\u5B66\\\\u5427\\&quot;, attributes = &lt;CFBasicHash 0x60800026a8c0 [0x10117ec70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x101b3b788 [0x10117ec70]&gt;&#123;contents = \\&quot;NSFont\\&quot;&#125; = &lt;CTFont: 0x7fdb89c3d3f0&gt;&#123;name = .PingFangSC-Regular, size = 18.000000, matrix = 0x0, descriptor = &lt;CTFontDescriptor: 0x60000008d570&gt;&#123;attributes = &lt;CFBasicHash 0x600000279140 [0x10117ec70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x101b41908 [0x10117ec70]&gt;&#123;contents = \\&quot;NSFontNameAttribute\\&quot;&#125; = &lt;CFString 0x101b39be8 [0x10117ec70]&gt;&#123;contents = \\&quot;.PingFangSC-Regular\\&quot;&#125;\\n&#125;\\n&gt;&#125;&#125;\\n&#125;\\n&#125;&quot;)2017-02-27 15:12:46.171 CoreTextDemo[11205:345484] Run glyph ä¸ªæ•° 32017-02-27 15:12:46.171 CoreTextDemo[11205:345484] run att &#123; NSFont = &quot;&lt;UICTFont: 0x7fdb89c3d3f0&gt; font-family: \\&quot;.PingFangSC-Regular\\&quot;; font-weight: normal; font-style: normal; font-size: 18.00pt&quot;;&#125;2017-02-27 15:12:46.172 CoreTextDemo[11205:345484] run status 02017-02-27 15:12:46.172 CoreTextDemo[11205:345484] run glyph 36762017-02-27 15:12:46.172 CoreTextDemo[11205:345484] run point 24.000000 0.0000002017-02-27 15:12:46.172 CoreTextDemo[11205:345484] run size 18.342000 0.0000002017-02-27 15:12:46.172 CoreTextDemo[11205:345484] run index 22017-02-27 15:12:46.172 CoreTextDemo[11205:345484] run glyph 25732017-02-27 15:12:46.173 CoreTextDemo[11205:345484] run point 42.342000 0.0000002017-02-27 15:12:46.173 CoreTextDemo[11205:345484] run size 18.342000 0.0000002017-02-27 15:12:46.173 CoreTextDemo[11205:345484] run index 32017-02-27 15:12:46.173 CoreTextDemo[11205:345484] run glyph 19292017-02-27 15:12:46.173 CoreTextDemo[11205:345484] run point 60.684000 0.0000002017-02-27 15:12:46.173 CoreTextDemo[11205:345484] run size 18.342000 0.0000002017-02-27 15:12:46.255 CoreTextDemo[11205:345484] run index 42017-02-27 15:12:46.255 CoreTextDemo[11205:345484] run glyph 3676 25732017-02-27 15:12:46.256 CoreTextDemo[11205:345484] run glyph point 24.000000 0.0000002017-02-27 15:12:46.256 CoreTextDemo[11205:345484] run glyph size 18.342000 0.0000002017-02-27 15:12:46.256 CoreTextDemo[11205:345484] run glyph index 2 32017-02-27 15:12:46.256 CoreTextDemo[11205:345484] run string range 2 32017-02-27 15:12:46.256 CoreTextDemo[11205:345484] run ascent 15.480000,descent 2.520000,leading 0.5400002017-02-27 15:12:46.257 CoreTextDemo[11205:345484] ä¸çŸ¥é“èƒ½å¹²å˜› run image rect &#123;&#123;19.619999999999997, -1.7459999999999998&#125;, &#123;34.128, 16.631999999999998&#125;&#125;2017-02-27 15:12:46.257 CoreTextDemo[11205:345484] run transform [1, 0, 0, 1, 0, 0] ä»run çš„apiä¸­å¯ä»¥çœ‹å‡ºï¼Œrun æ˜¯CGGlyph ç»„æˆçš„ã€‚CGGlayphå¯ä»¥ç”¨æ¥åˆ›å»ºå­—ä½“ã€‚ CTRun CTLine CTFrame CTFrameSetter è¿™äº›å°±å¯ä»¥å®Œæˆæ–‡æœ¬çš„å¸ƒå±€äº†ã€‚ ###","tags":[]},{"title":"CTLine.hå­¦ä¹ ","date":"2017-03-02T05:57:46.000Z","path":"2017/03/02/CTLineå­¦ä¹ /","text":"CTFrameå¸ƒå±€æ˜¯ç”±Path å’ŒCTLine ç»„æˆçš„ã€‚ æˆ‘ä»¬èƒ½ä»CTLineä¸­è·å–åˆ°ä»€ä¹ˆä¿¡æ¯å‘¢ã€‚ æˆ‘ä»¬ä»ä»¥ä¸‹æ–¹é¢ Line Types, Line Creation,Line Access ,Line Measurement, Line Caret Positioning and Highlighting 1.Line Types12CFTypeID CTLineGetTypeID( void )è·å–CTLineçš„ CFTypeID æšä¸¾å€¼ CTLineBoundsOptions å’Œ CTLineTruncationType 12345678typedef CF_OPTIONS(CFOptionFlags, CTLineBoundsOptions) &#123; kCTLineBoundsExcludeTypographicLeading = 1 &lt;&lt; 0, kCTLineBoundsExcludeTypographicShifts = 1 &lt;&lt; 1, kCTLineBoundsUseHangingPunctuation = 1 &lt;&lt; 2, kCTLineBoundsUseGlyphPathBounds = 1 &lt;&lt; 3, kCTLineBoundsUseOpticalBounds = 1 &lt;&lt; 4, kCTLineBoundsIncludeLanguageExtents CT_ENUM_AVAILABLE(10_11, 8_0) = 1 &lt;&lt; 5,&#125;; ç›®å‰çœ‹ä¸Šé¢çš„æšä¸¾å€¼ä¸çŸ¥é“å…·ä½“æœ‰å•¥ç”¨ã€‚æ”¾è¿‡ï¼Œç­‰çœ‹å®Œä¸‹é¢çš„å›æ¥è¡¥å……ã€‚ 12345678typedef CF_ENUM(uint32_t, CTLineTruncationType) &#123; kCTLineTruncationStart = 0, kCTLineTruncationEnd = 1, kCTLineTruncationMiddle = 2&#125;;è¿™ä¸ªkCTLineTruncationStart æˆªæ–­å¤´éƒ¨kCTLineTruncationEnd æˆªæ–­å°¾éƒ¨kCTLineTruncationMiddle æˆªæ–­ä¸­é—´ 2.Line Creation123456789101112131415CTLineRef CTLineCreateWithAttributedString( CFAttributedStringRef attrString ) æ ¹æ®CFAttributedStringRef åˆ›å»ºä¸€ä¸ª CTLineRef è¿™ä¸ªåªèƒ½åˆ›å»ºä¸€è¡Œæ–‡æœ¬ã€‚//CTLine-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext();// CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ å¯Œæ–‡æœ¬å­¦ä¹ å¯Œæ–‡æœ¬å­¦ä¹ å¯Œæ–‡æœ¬å­¦ä¹ å¯Œæ–‡æœ¬å­¦ä¹ å¯Œæ–‡æœ¬å­¦ä¹ å¯Œæ–‡æœ¬å­¦ä¹ å¯Œæ–‡æœ¬å­¦ä¹ &quot;]; CTLineRef line = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); CTLineDraw(line, context);&#125; æ•ˆæœå¦‚ä¸‹ï¼š æ–‡å­—ä¸€è¡Œæ’å¼€ã€‚ 1234567891011121314151617181920212223242526272829CTLineRef __nullable CTLineCreateTruncatedLine( CTLineRef line, double width, CTLineTruncationType truncationType, CTLineRef __nullable truncationToken ) line åˆ›å»ºçš„æˆªæ–­çš„çº¿ width æˆªæ–­ä½ç½® truncationType æˆªæ–­ç±»å‹ å¤´éƒ¨æˆªæ–­è¿˜æ˜¯ä¸­éƒ¨å°¾éƒ¨æˆªæ–­ truncationToken è¿™ä¸ªæ˜¯æˆªæ–­æ ‡å¿— ä¸èƒ½è®© truncationToken çº¿å®½å¤§äº width è¦æ˜¯å¤§äºwidth å‡½æ•°è¿”å›NULLã€‚ -(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext();// CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚æ€»æ˜¯ä¹ˆç››å¤§çš„é¥­å¡å¤šçœ‹çœ‹æ¡ˆå‘æ‰©å¤§åˆ°éå¡å¡æ‰“å¡å¡&quot;]; CTLineRef line = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;dd&quot;]; CTLineRef linetoken = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); CTLineRef lineTru = CTLineCreateTruncatedLine(line, 300, kCTLineTruncationStart, linetoken);// CTLineDraw(line, context); CTLineDraw(lineTru, context);&#125; å¤´éƒ¨æˆªæ–­æ•ˆæœå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324CTLineRef __nullable CTLineCreateJustifiedLine( CTLineRef line, CGFloat justificationFactor, double justificationWidth ) line å‚è€ƒçº¿ justificationFactor è°ƒæ•´æ–‡å­—æ˜¾ç¤ºå®½åº¦æ¯”ä¾‹ ã€‚å¤§äºç­‰äº1 å°±æ˜¯justificationWidth å°äº 1 å¤§äºé›¶ å®½åº¦å°±æ˜¯justificationFactor * justificationWidth justificationWidth å®½åº¦ã€‚ è°ƒæ•´å®½åº¦å°äºå®é™…å®½åº¦ï¼Œæ–‡å­—ä¼šè¢«å‹æ‰ã€‚ //CTLine-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext();// CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ &quot;]; CTLineRef line = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); CTLineRef lineJustified = CTLineCreateJustifiedLine(line, 1, 300); CTLineDraw(line, context); CTLineDraw(lineJustified, context);&#125; æ•ˆæœå¦‚å›¾ è¦æ˜¯æ–‡æœ¬è¿‡é•¿ï¼ŒjustificationFactor å¿…é¡»å¤§äºç­‰äº 1 å¦åˆ™ï¼Œä¸è¿›è¡ŒCTLineç»˜åˆ¶ã€‚ ä»£ç å¦‚ä¸‹ 123456789101112131415//CTLine-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext();// CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚æ€»æ˜¯ä¹ˆç››å¤§çš„é¥­å¡å¤šçœ‹çœ‹æ¡ˆå‘æ‰©å¤§åˆ°éå¡å¡æ‰“å¡å¡&quot;]; CTLineRef line = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); CTLineRef lineJustified = CTLineCreateJustifiedLine(line, 1, 300); // CTLineDraw(line, context); CTLineDraw(lineJustified, context);&#125; æ•ˆæœå›¾ï¼š æ–‡å­—å‹æ‰äº†ã€‚ 3.Line Access CFIndex CTLineGetGlyphCount( CTLineRef line ) è·å–Glyphçš„ä¸ªæ•° CFArrayRef CTLineGetGlyphRuns(CTLineRef line ) è·å–CTRunRefæ•°ç»„ CFRange CTLineGetStringRange(CTLineRef line ) è·å–çº¿æ‰€åœ¨å­—ç¬¦ä¸²çš„èŒƒå›´ double CTLineGetPenOffsetForFlush( CTLineRef line, CGFloat flushFactor, double flushWidth ) æ–‡æœ¬flushFactoræ¯”ä¾‹çš„è·ç¦»åˆ°flushWidthflushFactorçš„è·ç¦» flushFactorå¤§äº1 ç›¸å½“äº1æ“ä½œã€‚å…¬å¼ å‡è®¾æ–‡æœ¬é•¿åº¦textWidth ç»“æœresult=flushWidth flushFactor - flushFactor * textWidth void CTLineDraw( CTLineRef line, CGContextRef context ) ç»˜åˆ¶çº¿ã€‚ä½ç½®æ˜¯ä»åº•éƒ¨å‘ä¸Šç»˜åˆ¶ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445-(void)drawRect:(CGRect)rect&#123; CGContextRef context = UIGraphicsGetCurrentContext();// CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚æ€»æ˜¯ä¹ˆç››å¤§çš„é¥­å¡å¤šçœ‹çœ‹æ¡ˆå‘æ‰©å¤§åˆ°éå¡å¡æ‰“å¡å¡&quot;]; CTLineRef line = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;dd&quot;]; CTLineRef linetoken = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); CTLineRef lineTru = CTLineCreateTruncatedLine(line, 300, kCTLineTruncationStart, linetoken);// CTLineDraw(line, context); CTLineDraw(line, context); double offset = CTLineGetPenOffsetForFlush(line, 2, 100); NSLog(@&quot;line offset %f&quot;,offset); ///access CFIndex index = CTLineGetGlyphCount(lineTru); NSLog(@&quot;line glyph %ld&quot;,index); index = CTLineGetGlyphCount(line); NSLog(@&quot;line glyph %ld&quot;,index); NSArray * runArr = (__bridge NSArray *) CTLineGetGlyphRuns(line); NSLog(@&quot;runArr %@&quot; ,runArr); CFRange range = CTLineGetStringRange(lineTru ); NSLog(@&quot;line range %ld %ld&quot;,range.location,range.length); range = CTLineGetStringRange(line); NSLog(@&quot;line range %ld %ld&quot;,range.location,range.length);&#125;ç»“æœï¼š2017-02-24 17:07:16.149 CoreTextDemo[5171:125678] line offset 0.0000002017-02-24 17:07:16.149 CoreTextDemo[5171:125678] line glyph 252017-02-24 17:07:16.149 CoreTextDemo[5171:125678] line glyph 412017-02-24 17:07:16.150 CoreTextDemo[5171:125678] runArr ( &quot;&lt;CTRun: 0x7febf3709730&gt;&#123;string range = (0, 41), string = \\&quot;\\\\u5BCC\\\\u6587\\\\u672C\\\\u5B66\\\\u4E60\\\\u6162\\\\u6162\\\\u6765\\\\u5427\\\\u3002\\\\u4E0D\\\\u662F\\\\u4E00\\\\u671D\\\\u4E00\\\\u5915\\\\u4E4B\\\\u529F\\\\u3002\\\\u603B\\\\u662F\\\\u4E48\\\\u76DB\\\\u5927\\\\u7684\\\\u996D\\\\u5361\\\\u591A\\\\u770B\\\\u770B\\\\u6848\\\\u53D1\\\\u6269\\\\u5927\\\\u5230\\\\u975E\\\\u5361\\\\u5361\\\\u6253\\\\u5361\\\\u5361\\&quot;, attributes = &lt;CFBasicHash 0x600000266940 [0x10f4b1c70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10fe6e788 [0x10f4b1c70]&gt;&#123;contents = \\&quot;NSFont\\&quot;&#125; = &lt;CTFont: 0x7febf3709600&gt;&#123;name = PingFangSC-Regular, size = 12.000000, matrix = 0x0, descriptor = &lt;CTFontDescriptor: 0x608000094e60&gt;&#123;attributes = &lt;CFBasicHash 0x60800026d980 [0x10f4b1c70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10fe74908 [0x10f4b1c70]&gt;&#123;contents = \\&quot;NSFontNameAttribute\\&quot;&#125; = &lt;CFString 0x11cda06c0 [0x10f4b1c70]&gt;&#123;contents = \\&quot;PingFangSC-Regular\\&quot;&#125;\\n&#125;\\n&gt;&#125;&#125;\\n&#125;\\n&#125;&quot;)2017-02-24 17:07:16.150 CoreTextDemo[5171:125678] line range 0 412017-02-24 17:07:16.152 CoreTextDemo[5171:125678] line range 0 41 ä»ä¸Šé¢ç»“æœçœ‹ï¼šCTLineGetStringRangeè·å–çš„èŒƒå›´å¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚ç”¨çš„æ—¶å€™è¦å°å¿ƒï¼ˆè¦æ˜¯è‡ªå·±åˆ›å»ºCTlineçš„è¯ï¼‰è¿™ä¸ªåªæ˜¯è‡ªå·±åˆ›å»ºçš„CTlineä¸å‡†ï¼Œè€ŒCTFrameåˆ›å»ºçš„CTLineæ˜¯æ²¡é—®é¢˜çš„ã€‚ CTLineGetPenOffsetForFlush å‡½æ•°ç›¸å½“äº æ–‡æœ¬åˆ°æŸç‚¹è¿˜æœ‰å¤šå°‘è·ç¦»ã€‚ æµ‹è¯•ä»£ç æ˜¯ ` NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@â€å¯Œæ–‡æœ¬å­¦â€]; CTLineRef line = CTLineCreateWithAttributedString((__bridge CFAttributedStringRef)mabstring); CTLineDraw(line, context); double offset = CTLineGetPenOffsetForFlush(line,0.5, 300); NSLog(@&quot;line offset %f&quot;,offset);` å¦‚å›¾ æ‰“å°ç»“æœæ˜¯2017-02-24 19:33:15.061 CoreTextDemo[4317:74402] line offset 126.000000 4.Line Measurement CTLineGetTypographicBounds( CTLineRef line,CGFloat __nullable ascent,CGFloat nullable descent, CGFloat * nullable leading ) è·å–çº¿ çš„ascent descent leading ,è¿”å›å®½åº¦ CGRect CTLineGetBoundsWithOptions(CTLineRef line,CTLineBoundsOptions options ) ç›®å‰è¿˜ä¸çŸ¥é“CTLineBoundsOptions ä»£è¡¨å•¥ã€‚ åº”è¯¥ä¸å¯Œæ–‡æœ¬çš„è®¾ç½®æœ‰å…³ã€‚æš‚æ—¶ä¸åšç ”ç©¶ double CTLineGetTrailingWhitespaceWidth(CTLineRef line ) ç›®å‰è¿˜ä¸ä¼šç”¨ CGRect CTLineGetImageBounds(CTLineRef line,CGContextRef __nullable context ) ç›®å‰è¿˜ä¸ä¼šç”¨ 12345CGFloat ascent;CGFloat descent;CGFloat leading;CTLineGetTypographicBounds(line, &amp;ascent, &amp;descent, &amp;leading);NSLog(@&quot;line ascent %f,descent %f,leading %f&quot;,ascent,descent,leading); 5.Line Caret Positioning and Highlighting CFIndex CTLineGetStringIndexForPosition(CTLineRef line,CGPoint position ) è·å–çº¿positionä½ç½®çš„String index CGFloat CTLineGetOffsetForStringIndex(CTLineRef line,CFIndex charIndex,CGFloat * __nullable secondaryOffset ) è·å–indexä½ç½®å­—ç¬¦çš„åç§»é‡ã€‚ç›®å‰ä¸çŸ¥é“ è¿”å›ç»“æœå’ŒsecondaryOffset çš„åŒºåˆ« void CTLineEnumerateCaretOffsets(CTLineRef line,void (^block)(double offset, CFIndex charIndex, bool leadingEdge, bool* stop) ) CT_AVAILABLE(10_11, 9_0) è¿”å›æ¯ä¸ªå­—ä½“çš„å‰åè¾¹æ²¿ 12345678910111213141516171819202122CFIndex stringIndex = CTLineGetStringIndexForPosition(line, CGPointMake(20,3 )); NSLog(@&quot;line StringIndex %ld&quot;,stringIndex); CGFloat secondaryOffset; CGFloat offsetIndex = CTLineGetOffsetForStringIndex(line, 2,&amp;secondaryOffset ); NSLog(@&quot;line IndexOffset %lf ,secondaryOffset %lf&quot;,offsetIndex,secondaryOffset); CTLineEnumerateCaretOffsets(line, ^(double offset, CFIndex charIndex, bool leadingEdge, bool * _Nonnull stop) &#123; NSLog(@&quot; offset %lf,charindex %ld,leadingEdge %d&quot;,offset,charIndex,leadingEdge); &#125;);ç»“æœ2017-02-27 11:29:21.537 CoreTextDemo[6188:222405] line StringIndex 22017-02-27 11:29:21.537 CoreTextDemo[6188:222405] line IndexOffset 24.000000 ,secondaryOffset 24.0000002017-02-27 11:29:21.537 CoreTextDemo[6188:222405] offset 0.000000,charindex 0,leadingEdge 12017-02-27 11:29:21.538 CoreTextDemo[6188:222405] offset 12.000000,charindex 0,leadingEdge 02017-02-27 11:29:21.538 CoreTextDemo[6188:222405] offset 12.000000,charindex 1,leadingEdge 12017-02-27 11:29:21.538 CoreTextDemo[6188:222405] offset 24.000000,charindex 1,leadingEdge 02017-02-27 11:29:21.538 CoreTextDemo[6188:222405] offset 24.000000,charindex 2,leadingEdge 12017-02-27 11:29:21.538 CoreTextDemo[6188:222405] offset 36.000000,charindex 2,leadingEdge 02017-02-27 11:29:21.538 CoreTextDemo[6188:222405] offset 36.000000,charindex 3,leadingEdge 12017-02-27 11:29:21.539 CoreTextDemo[6188:222405] offset 48.000000,charindex 3,leadingEdge 0 CTLine çš„æ¨¡å‹å›¾ ##","tags":[]},{"title":"CTFrameSetter.hå­¦ä¹ ","date":"2017-03-02T05:55:02.000Z","path":"2017/03/02/CTFrameSetterå­¦ä¹ /","text":"åˆ›å»º CTFrame éœ€è¦CTFrameSetter.h ç±»ä¸­ è¯¥ç±»åˆ†å››éƒ¨åˆ†ï¼ŒFramesetter Types ï¼Œ Framesetter Creation ï¼ŒFrame Creation ï¼Œ Frame Sizing 1.Framesetter TypesCFTypeID CTFramesetterGetTypeID( void ) è¿”å›ä¸€ä¸ªCTFramesetter çš„ id ã€‚ 2.Framesetter Creation12CTFramesetterRef CTFramesetterCreateWithAttributedString(CFAttributedStringRef string )ç”¨CFAttributedStringRef å±æ€§å­—ç¬¦ä¸²åˆ›å»ºä¸€ä¸ªCTFramesetterRef è·å–Framesetter åªæœ‰è¿™ä¸€ç§æ–¹å¼è·å– 3.Frame Creation123456789101112131415CTFrameRef CTFramesetterCreateFrame( CTFramesetterRef framesetter, CFRange stringRange, CGPathRef path, CFDictionaryRef __nullable frameAttributes ) è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªCTFrame åªæœ‰è¿™ä¸€ç§æ–¹å¼åˆ›å»ºCTFrameRefå‚æ•°ï¼Œéœ€è¦ä¸€ä¸ªCTFramesetterRef éœ€è¦ä¸€ä¸ªCFRange éœ€è¦ä¸€ä¸ªCGPathRef éœ€è¦ä¸€ä¸ªCFDictionaryRef CFRange æ§åˆ¶çš„æ˜¯æ–‡æœ¬çš„é•¿åº¦ã€‚å¦‚æœè®¾ç½®é•¿åº¦æ˜¯0ï¼Œå°±æ˜¯å°†attstr å­—ç¬¦ä¸²ç»˜åˆ¶åˆ°ç»“æŸ CGPathRef å°±æ˜¯ç»˜åˆ¶åŒºåŸŸ CFDictionaryRef ç»˜åˆ¶CTFrameçš„ç›¸å…³å±æ€§è®¾ç½®ï¼Œkeyå€¼åœ¨CFFrameä¸­ æµ‹è¯•ä»£ç å¦‚ä¸‹ 12CFRange range = CFRangeMake(2, mabstring.length-4);CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, (__bridge CFDictionaryRef) Framedic); æµ‹è¯•ç»“æœï¼š è¦æ˜¯ä»£ç å¦‚ä¸‹ 12CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, (__bridge CFDictionaryRef) Framedic); æµ‹è¯•ç»“æœ ä»ä¸Šä¸‹ä¸¤ä¸ªå›¾çœ‹çš„å‡ºæ¥ï¼Œå‰é¢å›¾çš„æ–‡æœ¬å‰åå„å°‘ä¸¤ä¸ªå­—ã€‚ æ‰€æœ‰å­—ä½“è¿˜æ˜¯å¯¹å…¶æ’åˆ—ã€‚ 1234CTTypesetterRef CTFramesetterGetTypesetter( CTFramesetterRef framesetter ) æ ¹æ®CTFramesetterRef è·å–ä¸€ä¸ªCTTypesetterRef ç›®å‰è¿˜ä¸çŸ¥é“CTTypesetterRef æœ‰å•¥ç”¨ 4.Frame Sizing1234567891011121314CGSize CTFramesetterSuggestFrameSizeWithConstraints( CTFramesetterRef framesetter, CFRange stringRange, CFDictionaryRef __nullable frameAttributes, CGSize constraints, CFRange * __nullable fitRange )è·å–Frameçš„å¤§å°è¿™ä¸ªå‡½æ•°é€‚åˆåˆ›å»ºFrame CGPathæ˜¯çŸ©å½¢çš„ç®—æ³•ï¼Œè¦æ˜¯ä¸‰è§’å½¢ç­‰ä¸è§„åˆ™å›¾å½¢å°±ä¸é€‚åˆ æµ‹è¯•ä»£ç  12345678910111213141516171819202122232425262728293031 NSMutableDictionary * Framedic = [NSMutableDictionary dictionary]; [Framedic setObject:@(kCTFrameProgressionTopToBottom) forKey:(__bridge NSString *)kCTFrameProgressionAttributeName]; [Framedic setObject:@(kCTFramePathFillEvenOdd) forKey:(__bridge NSString *)kCTFramePathFillRuleAttributeName]; NSMutableArray * arr = [NSMutableArray array]; NSMutableDictionary * fillDic = [NSMutableDictionary dictionary]; CGMutablePathRef clippath = CGPathCreateMutable(); CGPathAddRect(clippath, NULL ,CGRectMake(100 , 20 ,self.bounds.size.width-150 , self.bounds.size.height-60)); [fillDic setObject:(__bridge id _Nonnull)(clippath) forKey:(__bridge NSString *)kCTFramePathClippingPathAttributeName]; [arr addObject:fillDic]; fillDic = [NSMutableDictionary dictionary]; clippath = CGPathCreateMutable(); CGPathAddRect(clippath, NULL ,CGRectMake(10 , 20 ,10 , self.bounds.size.height-60)); [fillDic setObject:(__bridge id _Nonnull)(clippath) forKey:(__bridge NSString *)kCTFramePathClippingPathAttributeName]; [arr addObject:fillDic];// [Framedic setObject:arr forKey:(__bridge NSString *)kCTFrameClippingPathsAttributeName]; CFRange range = CFRangeMake(0, 0); CTFrameRef frame = CTFramesetterCreateFrame(framesetter,range, Path, (__bridge CFDictionaryRef) Framedic); CGRect rectBoud = CGPathGetBoundingBox(Path); CFRange fitRange = CFRangeMake(0, 0); CGSize size =CTFramesetterSuggestFrameSizeWithConstraints(framesetter, range, (__bridge CFDictionaryRef) Framedic, rectBoud.size, &amp;fitRange); NSLog(@&quot; è·å–frame çš„å¤§å° %f %f %ld %ld&quot;,size.height,size.width,fitRange.location,fitRange.location); è¿™ä¸ªå‡½æ•°åªèƒ½æµ‹è¯•çŸ©å½¢æ’ç‰ˆï¼ŒçŸ©å½¢å†…å¿…é¡»ä¸€æ¬¡æ’æ»¡è·¯å¾„æ‰è¡Œã€‚ä¸èƒ½æœ‰clip pathå­˜åœ¨æ‰èƒ½å‡†ç¡®ã€‚å±€é™æ€§æ¯”è¾ƒå¤§ã€‚ ##","tags":[]},{"title":"CTFrame.hå­¦ä¹ ","date":"2017-03-02T03:52:19.000Z","path":"2017/03/02/CTFrameå­¦ä¹ /","text":"CTFrame ç›¸å½“äºå¸ƒå±€æ§åˆ¶æ–‡ä»¶ã€‚æ§åˆ¶æ–‡æœ¬çš„æ•´ä½“ç»˜åˆ¶ã€‚ æˆ‘ä»¬ä»ä¸‰ä¸ªæ–¹é¢æ¥çœ‹è¿™ä¸ªç±» 1. frame è®¿é—®å‡½æ•°123void CTFrameDraw(CTFrameRef frame,CGContextRef context )` å°†æ–‡æœ¬å‘ˆç°åœ¨å±å¹•ä¸Š 123void CTFrameGetLineOrigins(CTFrameRef frame,CFRange range,CGPoint origins[] )è·å–rangeèŒƒå›´å†…frameæ¯è¡Œçš„èµ·ç‚¹ range éœ€è¦è§£é‡Šä¸‹ range.location æ˜¯ ä»ç¬¬å‡ ä¸ªå¼€å§‹è¿”å›point range.len æ˜¯è¿”å›å‡ ä¸ªï¼Œè¦æ˜¯0å°±é»˜è®¤è¿”å›éƒ½æœ€åä¸€ä¸ªã€‚è¦æ˜¯range çš„location + len å¤§äºCTLineçš„æ•°é‡ï¼Œæ‰€æœ‰çš„origins éƒ½ä¼šæ˜¯ï¼ˆ0ï¼Œ0ï¼‰ è·å–çš„åæ ‡ç‚¹æ˜¯ coretextåæ ‡ç³»ä¸­çš„åæ ‡ 1234567CFArrayRef CTFrameGetLines(CTFrameRef frame )è·å–frameæ‰€æœ‰çº¿çš„æ•°ç»„ï¼Œframeæ˜¯ç”±CTLineç»„æˆçš„ NSArray * array = (__bridge NSArray * )CTFrameGetLines(frame); NSLog(@&quot;frame lines %@&quot;,array); 123CFDictionaryRef __nullable CTFrameGetFrameAttributes(CTFrameRef frame )è·å–ä¿®èº«frameçš„ç›¸å…³å±æ€§ 123CGPathRef CTFrameGetPath(CTFrameRef frame )è·å–frameç»˜åˆ¶çš„è·¯å¾„ä¸åŒ…æ‹¬å‰ªåˆ‡è·¯å¾„ 1234567CFRange CTFrameGetVisibleStringRange(CTFrameRef frame ) è·å–frame èƒ½çœ‹è§çš„ï¼Œç»˜åˆ¶åœ¨å±å¹•ä¸Šçš„string çš„rangeèŒƒå›´CFRange CTFrameGetStringRange(CTFrameRef frame )è·å–frame å­—ç¬¦ä¸²çš„èŒƒå›´(åŒ…æ‹¬ä¸å¯è§çš„) æµ‹è¯•ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142- (void)drawRect:(CGRect)rect &#123; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@&quot;å¯Œæ–‡æœ¬å­¦ä¹ /æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok ok&quot;]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-640)); CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, 0), Path, NULL); ///frame ç›¸å…³è®¿é—®å‡½æ•° ç›¸å½“äºå¸ƒå±€æ§åˆ¶å™¨ã€‚æˆ‘ä»¬èƒ½è·å–å¸ƒå±€æ§åˆ¶å™¨ç›¸å…³å‚æ•° CTFrameDraw(frame,context); NSArray * array = (__bridge NSArray * )CTFrameGetLines(frame); NSLog(@&quot;frame lines %@&quot;,array); NSInteger count = CFArrayGetCount((__bridge CFArrayRef)array); CGPoint origins[count] ; ///range éœ€è¦è§£é‡Šä¸‹ range.location æ˜¯ ä»ç¬¬å‡ ä¸ªå¼€å§‹è¿”å›point range.len æ˜¯è¿”å›å‡ ä¸ªï¼Œè¦æ˜¯0å°±é»˜è®¤è¿”å›éƒ½æœ€åä¸€ä¸ªã€‚è¦æ˜¯range çš„location + len å¤§äºCTLineçš„æ•°é‡ï¼Œæ‰€æœ‰çš„origins éƒ½ä¼šæ˜¯ï¼ˆ0ï¼Œ0ï¼‰ è·å–çš„åæ ‡ç‚¹æ˜¯ coretextåæ ‡ç³»ä¸­çš„åæ ‡ CTFrameGetLineOrigins(frame, CFRangeMake(0, 0), origins); for (int i =0; i&lt;count; i++) &#123; NSLog(@&quot;frame origins %f %f&quot;,origins[i].x,origins[i].y); &#125; NSDictionary * dic = (__bridge NSDictionary *) CTFrameGetFrameAttributes(frame); NSLog(@&quot;frame att %@&quot;,dic); CGPathRef path = CTFrameGetPath(frame); NSLog(@&quot;frame path %@&quot;,path); CFRange range = CTFrameGetVisibleStringRange(frame); NSLog(@&quot;frame visibleString Range %ld %ld&quot;,range.location,range.length); range = CTFrameGetStringRange(frame); NSLog(@&quot;frame String Range %ld %ld&quot;,range.location,range.length); CGPathRelease(Path); CFRelease(framesetter);&#125; ç»“æœ123456782017-02-23 15:19:42.578 CoreTextDemo[83004:902122] frame lines ( &quot;&lt;CTLine: 0x6080001ae8c0&gt;&#123;run count = 4, string range = (0, 24), width = 250.676, A/D/L = 12.72/4.08/0, glyph count = 24, runs = (\\n\\n&lt;CTRun: 0x7f8539f09720&gt;&#123;string range = (0, 5), string = \\&quot;\\\\u5BCC\\\\u6587\\\\u672C\\\\u5B66\\\\u4E60\\&quot;, attributes = &lt;CFBasicHash 0x608000267e40 [0x10d69fc70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10e05c788 [0x10d69fc70]&gt;&#123;contents = \\&quot;NSFont\\&quot;&#125; = &lt;CTFont: 0x7f8539f1f160&gt;&#123;name = PingFangSC-Regular, size = 12.000000, matrix = 0x0, descriptor = &lt;CTFontDescriptor: 0x608000086a90&gt;&#123;attributes = &lt;CFBasicHash 0x608000261640 [0x10d69fc70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10e062908 [0x10d69fc70]&gt;&#123;contents = \\&quot;NSFontNameAttribute\\&quot;&#125; = &lt;CFString 0x11af8e6c0 [0x10d69fc70]&gt;&#123;contents = \\&quot;PingFangSC-Regular\\&quot;&#125;\\n&#125;\\n&gt;&#125;&#125;\\n&#125;\\n&#125;\\n\\n\\n&lt;CTRun: 0x7f8539f0de20&gt;&#123;string range = (5, 1), string = \\&quot;/\\&quot;, attributes = &lt;CFBasicHash 0x6080002609c0 [0x10d69fc70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10e05c788 [0x10d69fc70]&gt;&#123;contents = \\&quot;NSFont\\&quot;&#125; = &lt;CTFont: 0x7f8539f04950&gt;&#123;name = Helvetica, size = 12.000000, matrix = 0x0, descriptor = &lt;CTFontDescriptor: 0x600000085960&gt;&#123;attributes = &lt;CFBasicHash 0x60000007dd40 [0x10d69fc70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10e062908 [0x10d69fc70]&gt;&#123;contents = \\&quot;NSFontNameAttribute\\&quot;&#125; = &lt;CFString 0x10e0548a8 [0x10d69fc70]&gt;&#123;contents = \\&quot;Helvetica\\&quot;&#125;\\n&#125;\\n&gt;&#125;&#125;\\n&#125;\\n&#125;\\n\\n\\n&lt;CTRun: 0x7f8539f2e9b0&gt;&#123;string range = (6, 14), string = \\&quot;\\\\u6162\\\\u6162\\\\u6765\\\\u5427\\\\u3002\\\\u4E0D\\\\u662F\\\\u4E00\\\\u671D\\\\u4E00\\\\u5915\\\\u4E4B\\\\u529F\\\\u3002\\&quot;, attributes = &lt;CFBasicHash 0x608000267e40 [0x10d69fc70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10e05c788 [0x10d69fc70]&gt;&#123;contents = \\&quot;NSFont\\&quot;&#125; = &lt;CTFont: 0x7f8539f1f160&gt;&#123;name = PingFangSC-Regular, size = 12.000000, matrix = 0x0, descriptor = &lt;CTFontDescriptor: 0x608000086a90&gt;&#123;attributes = &lt;CFBasicHash 0x608000261640 [0x10d69fc70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10e062908 [0x10d69fc70]&gt;&#123;contents = \\&quot;NSFontNameAttribute\\&quot;&#125; = &lt;CFString 0x11af8e6c0 [0x10d69fc70]&gt;&#123;contents = \\&quot;PingFangSC-Regular\\&quot;&#125;\\n&#125;\\n&gt;&#125;&#125;\\n&#125;\\n&#125;\\n\\n\\n&lt;CTRun: 0x7f8539f2eaf0&gt;&#123;string range = (20, 4), string = \\&quot;ok \\\\n\\&quot;, attributes = &lt;CFBasicHash 0x6080002609c0 [0x10d69fc70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10e05c788 [0x10d69fc70]&gt;&#123;contents = \\&quot;NSFont\\&quot;&#125; = &lt;CTFont: 0x7f8539f04950&gt;&#123;name = Helvetica, size = 12.000000, matrix = 0x0, descriptor = &lt;CTFontDescriptor: 0x600000085960&gt;&#123;attributes = &lt;CFBasicHash 0x60000007dd40 [0x10d69fc70]&gt;&#123;type = mutable dict, count = 1,\\nentries =&gt;\\n\\t2 : &lt;CFString 0x10e062908 [0x10d69fc70]&gt;&#123;contents = \\&quot;NSFontNameAttribute\\&quot;&#125; = &lt;CFString 0x10e0548a8 [0x10d69fc70]&gt;&#123;contents = \\&quot;Helvetica\\&quot;&#125;\\n&#125;\\n&gt;&#125;&#125;\\n&#125;\\n&#125;\\n\\n)\\n&#125;&quot;)2017-02-23 15:19:42.578 CoreTextDemo[83004:902122] frame origins 0.000000 14.0000002017-02-23 15:19:42.579 CoreTextDemo[83004:902122] frame att (null)2017-02-23 15:19:42.579 CoreTextDemo[83004:902122] frame path &lt;CGPath 0x60800003a300&gt;2017-02-23 15:19:42.579 CoreTextDemo[83004:902122] frame visibleString Range 0 242017-02-23 15:19:42.580 CoreTextDemo[83004:902122] frame String Range 0 30 ä»ä¸Šé¢ç»“æœçœ‹ frame æ²¡æœ‰è®¾ç½® att å±æ€§ã€‚é‚£æ€ä¹ˆè®¾ç½®å±æ€§å€¼å‘¢ï¼Ÿè¯·çœ‹ CTFramesetterRef 2 frame valuesä¸‹é¢æ˜¯frame att å±æ€§çš„key é€šè¿‡ è¿™äº›key å¯ä»¥æ§åˆ¶ frame çš„ç»˜åˆ¶å¸ƒå±€ kCTFrameProgressionAttributeName æ–‡å­—ç»˜åˆ¶æ–¹å‘ï¼Œæœ‰ä¸‰ä¸ªå€¼ï¼Œ kCTFrameProgressionTopToBottomæ°´å¹³ç»˜åˆ¶ ä»ä¸Šåˆ°ä¸‹ï¼Œ kCTFrameProgressionRightToLeft å‚ç›´ç»˜åˆ¶ï¼Œä»å³åˆ°å·¦ï¼Œ kCTFrameProgressionLeftToRight å‚ç›´ç»˜åˆ¶ï¼Œä»å·¦åˆ°å³ kCTFramePathFillRuleAttributeName åœ¨pathè·¯å¾„çš„ç»˜åˆ¶è§„åˆ™ã€‚æœ‰ä¸¤ç§ kCTFramePathFillEvenOdd æ ¹æ® CGContextEOFillPath è§„åˆ™ç»˜åˆ¶ kCTFramePathFillWindingNumber å……æ»¡æ•´ä¸ªpath é»˜è®¤æ˜¯kCTFramePathFillEvenOdd kCTFramePathWidthAttributeName è¿™ä¸ªå±æ€§æš‚æ—¶ä¸çŸ¥é“å¹²å˜›ç”¨çš„ï¼Œä½¿ç”¨èµ·æ¥æ— æ•ˆ kCTFrameClippingPathsAttributeName è¿™ä¸ªvalue æ˜¯array ï¼Œarray ä¸­å¿…é¡»åŒ…å« å­—å…¸ ï¼Œå­—å…¸çš„keyå€¼æ˜¯kCTFramePathClippingPathAttributeName ï¼Œvalueæ˜¯pathï¼Œå¯é€‰key kCTFramePathFillRuleAttributeName å¯ä»¥é…ç½®pathè·¯å¾„çš„å¡«å……æ–¹å¼ kCTFramePathClippingPathAttributeName è¿™ä¸ªvalueæ˜¯path kCTFrameProgressionAttributeName123NSMutableDictionary * Framedic = [NSMutableDictionary dictionary]; [Framedic setObject:@(kCTFrameProgressionLeftToRight) forKey:(__bridge NSString *)kCTFrameProgressionAttributeName]; CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, 0), Path, (__bridge CFDictionaryRef) Framedic); æ•ˆæœ kCTFrameProgressionRightToLeft123NSMutableDictionary * Framedic = [NSMutableDictionary dictionary]; [Framedic setObject:@(kCTFrameProgressionRightToLeft) forKey:(__bridge NSString *)kCTFrameProgressionAttributeName]; CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, 0), Path, (__bridge CFDictionaryRef) Framedic); æ•ˆæœ é»˜è®¤æ˜¯kCTFrameProgressionTopToBottomkCTFramePathFillRuleAttributeNameæˆ‘è®¤ä¸ºè¿™ä¸ªä¸»è¦æ˜¯å¡«å……path è§„åˆ™çš„ kCTFramePathFillEvenOdd è¿™ç§æ–¹å¼è¿›è¡Œç†è§£ ä»€ä¹ˆæ˜¯ CGContextEOFillPath è§„åˆ™ //ä½¿ç”¨å¥‡å¶è§„åˆ™å¡«å……å½“å‰è·¯å¾„ ä¿®æ”¹è·¯å¾„ä»£ç å¦‚ä¸‹ï¼šä½¿ä¸€ä¸ªå¤§çš„çŸ©å½¢å¥—ä¸€ä¸ªå°çš„çŸ©å½¢ 123CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-60)); CGPathAddRect(Path, NULL ,CGRectMake(100 , 0 ,self.bounds.size.width-150 , self.bounds.size.height-60)); ç»“æœæ˜¾ç¤º kCTFrameClippingPathsAttributeName å’Œ kCTFramePathClippingPathAttributeName1234567891011121314NSMutableArray * arr = [NSMutableArray array];NSMutableDictionary * fillDic = [NSMutableDictionary dictionary];CGMutablePathRef clippath = CGPathCreateMutable();CGPathAddRect(clippath, NULL ,CGRectMake(100 , 20 ,self.bounds.size.width-150 , self.bounds.size.height-60));[fillDic setObject:(__bridge id _Nonnull)(clippath) forKey:(__bridge NSString *)kCTFramePathClippingPathAttributeName];[arr addObject:fillDic];fillDic = [NSMutableDictionary dictionary]; clippath = CGPathCreateMutable();CGPathAddRect(clippath, NULL ,CGRectMake(10 , 20 ,10 , self.bounds.size.height-60));[fillDic setObject:(__bridge id _Nonnull)(clippath) forKey:(__bridge NSString *)kCTFramePathClippingPathAttributeName];[arr addObject:fillDic];[Framedic setObject:arr forKey:(__bridge NSString *)kCTFrameClippingPathsAttributeName]; å‰ªåˆ‡ä¸Šé¢çš„è·¯å¾„ ã€‚ä¸ kCTFramePathFillRuleAttributeName æš‚æ—¶çœ‹ä¸å‡ºå˜åŒ–æ¥ï¼Œåº”è¯¥æ˜¯è¿™ä¸ªé‡Œé¢çš„è·¯å¾„å…¨éƒ¨clipã€‚å¯èƒ½ä¸path é‡å æœ‰å…³ç³»ï¼Œç›®å‰æ²¡åšå…·ä½“ç ”ç©¶ã€‚ 3 frame typesCFTypeID CTFrameGetTypeID( void )è¿”å›ä¸€ä¸ªCFTypeID ç»¼åˆCFFrame.h api ï¼Œå¯ä»¥çœ‹å‡ºè¯¥ç±»èƒ½è·å–åˆ°frameçš„ä¿¡æ¯æ˜¯ CTLIne å’ŒCTLine çš„èµ·ç‚¹ã€‚è§å›¾ ä¸Šå›¾ä¸åŒ…å«å‰ªåˆ‡çš„è·¯å¾„ã€‚","tags":[]},{"title":"coreTextæ¦‚è¿°","date":"2017-03-02T03:44:29.000Z","path":"2017/03/02/coreTextæ¦‚è¿°/","text":"æƒ³å­¦å¥½ä¸€ä¸ªframework ï¼Œä»¥å‰æ€»æ˜¯çœ‹çœ‹ç®€å•çš„å†™å†™ä»£ç ï¼Œå®ç°åŸºæœ¬åŠŸèƒ½ã€‚å¯æ˜¯ç¨å¾®é‡åˆ°ç‚¹å›°éš¾çš„é—®é¢˜ï¼Œå°±å¾ˆéš¾è§£å†³ï¼Œæ‰€ä»¥è¿™æ¬¡æˆ‘å†³å®šè¿˜æ˜¯æŠŠæ‰€æœ‰çš„apiéƒ½ç»™å®ç°ä¸€éï¼Œçœ‹çœ‹åŠŸèƒ½ï¼Œå°è±¡æ·±åˆ»ã€‚ coretextåŒ…å«çš„ç±»æ–‡ä»¶ CoreText.h CTDefines.h CTFont.h CTFontCollection.h CTFontDescriptor.h CTFontManager.h CTFontManagerError.h CTFontTraits.h CTFrame.h CTFramesetter.h CTGlyphInfo.h CTLine.h CTParagraphStyle.h CTRubyAnnotation.h CTRun.h CTRunDelegate.h CTStringAttributes.h CTTextTab.h CTTypesetter.h SFNTLayoutTypes.h SFNTTypes.h ä»¥ä¸Šæ˜¯coretext.framework åŒ…å«çš„æ‰€æœ‰ç±» å¯Œæ–‡æœ¬å­—ä½“è§„èŒƒå­—ä½“çš„ç›¸å…³çŸ¥è¯†å­—ä½“(Font):æ˜¯ä¸€ç³»åˆ—å­—å·ã€æ ·å¼å’Œç£…å€¼ç›¸åŒçš„å­—ç¬¦(ä¾‹å¦‚:10ç£…é»‘ä½“Palatino)ã€‚ç°å¤šè¢«è§†ä¸ºå­—æ ·çš„åŒä¹‰è¯ å­—é¢(Face):æ˜¯æ‰€æœ‰å­—å·çš„ç£…å€¼å’Œæ ¼å¼çš„ç»¼åˆ å­—ä½“é›†(Font family):æ˜¯ä¸€ç»„ç›¸å…³å­—ä½“(ä¾‹å¦‚:Franklin familyåŒ…æ‹¬Franklin Gothicã€Fran-klinHeavyå’ŒFranklin Compressed) ç£…å€¼(Weight):ç”¨äºæè¿°å­—ä½“ç²—åº¦ã€‚å…¸å‹çš„ç£…å€¼,ä»æœ€ç²—åˆ°æœ€ç»†,æœ‰æç»†ã€ç»†ã€bookã€ä¸­ç­‰ã€åŠç²—ã€ç²—ã€è¾ƒç²—ã€æç²— æ ·å¼(Style):å­—å½¢æœ‰ä¸‰ç§å½¢å¼:Roman typeæ˜¯ç›´ä½“;oblique typeæ˜¯æ–œä½“;utakuc typeæ˜¯æ–œä½“å…¼æ›²çº¿(æ¯”Roman typeæ›´åƒä¹¦æ³•ä½“)ã€‚ xé«˜åº¦(X height):æŒ‡å°å†™å­—æ¯çš„å¹³å‡é«˜åº¦(ä»¥xä¸ºåŸºå‡†)ã€‚ç£…å€¼ç›¸åŒçš„ä¸¤å­—æ¯,xé«˜åº¦è¶Šå¤§çš„å­—æ¯çœ‹èµ·æ¥æ¯”xé«˜åº¦å°çš„å­—æ¯è¦å¤§ Capé«˜åº¦(Cap height):ä¸xé«˜åº¦ç›¸ä¼¼ã€‚æŒ‡å¤§å†™å­—æ¯çš„å¹³å‡é«˜åº¦(ä»¥Cä¸ºåŸºå‡†) ä¸‹è¡Œå­—æ¯(Descender):ä¾‹å¦‚åœ¨å­—æ¯qä¸­,åŸºçº¿ä»¥ä¸‹çš„å­—æ¯éƒ¨åˆ†å«ä¸‹ä¼¸éƒ¨åˆ† ä¸Šè¡Œå­—æ¯(Ascender):xé«˜åº¦ä»¥ä¸Šçš„éƒ¨åˆ†(æ¯”å¦‚å­—æ¯b)å«åšä¸Šä¼¸éƒ¨åˆ† åŸºçº¿(Baseline):é€šå¸¸åœ¨xã€vã€bã€mä¸‹çš„é‚£æ¡çº¿ æè¾¹(Stroke):ç»„æˆå­—ç¬¦çš„çº¿æˆ–æ›²çº¿ã€‚å¯ä»¥åŠ ç²—æˆ–æ”¹å˜å­—ç¬¦å½¢çŠ¶ è¡¬çº¿(Serif):ç”¨æ¥ä½¿å­—ç¬¦æ›´å¯è§†çš„ä¸€æ¡æ°´å¹³çº¿ã€‚å¦‚å­—æ¯å·¦ä¸Šè§’å’Œä¸‹éƒ¨çš„æ°´å¹³çº¿ã€‚ æ— è¡¬çº¿(Sans Serif):å¯ä»¥è®©æ’å­—å‘˜ä¸ä½¿ç”¨è¡¬çº¿è£…é¥°ã€‚ æ–¹å½¢å­—(Block):è¿™ç§å­—ä½“çš„ç¬”ç”»ä½¿å­—ç¬¦çœ‹èµ·æ¥æ¯”æ— è¡¬çº¿å­—æ›´æ˜¾çœ¼,ä½†è¿˜ä¸åˆ°å¸¸è§çš„è¡¬çº¿å­—çš„ç¨‹åº¦ã€‚ä¾‹å¦‚Lubalin Graphå°±æ˜¯æ–¹å½¢å­—,è¿™ç§å­—çœ‹èµ·æ¥å¥½åƒæ˜¯æœ¨å¤´å—åˆ»çš„ä¸€æ · æ‰‹å†™ä½“è„šæœ¬(Calligraphic script):æ˜¯ä¸€ç§ä»¿æ•ˆæ‰‹å†™ä½“çš„å­—ä½“ã€‚ä¾‹å¦‚Murray Hillæˆ–è€…Frakturå­—ä½“ è‰ºæœ¯å­—(Decorative):åƒç»˜ç”»èˆ¬çš„å­—ä½“ Piç¬¦å·(Pisymbol):éæ ‡å‡†çš„å­—æ¯æ•°å­—å­—ç¬¦çš„ç‰¹æ®Šç¬¦å·ã€‚ä¾‹å¦‚Wingdingså’ŒMathematical Pi è¿å†™(Ligature):æ˜¯ä¸€ç³»åˆ—è¿å†™å­—æ¯å¦‚fiã€flã€ffiæˆ–fflã€‚ç”±äºå­—äº›å­—æ¯å½¢çŠ¶çš„åŸå› ç»å¸¸è¢«è¿å†™,æ•…æ’å­—å‘˜å·²ä¹ æƒ¯å°†å®ƒä»¬è¿å†™ã€‚ è¯¥æ¡†æ¶çš„æ•´ä½“è§†çª—ç»„åˆå›¾ åæ ‡ç³»UIKitæ¡†æ¶çš„åæ ‡ç³»æ˜¯å·¦ä¸Šè§’ è€Œ coretextçš„åæ ‡ç³»æ˜¯å·¦ä¸‹è§’ å› æ­¤ è¦è¿›è¡Œåæ ‡ç³»è½¬æ¢ ç®€å•demoæˆ‘ä»¬å­¦ä¹ è¿™ä¸ªæ¡†æ¶ä»ç®€å•çš„demoæ…¢æ…¢æ‰©å……åˆ°å¤æ‚åŠŸèƒ½åŠæ‰€æœ‰apiä»‹ç» demo ä»£ç $$ (void)drawRect:(CGRect)rect { CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetTextMatrix(context , CGAffineTransformIdentity); CGContextTranslateCTM(context , 0 ,self.bounds.size.height); CGContextScaleCTM(context, 1.0 ,-1.0); NSMutableAttributedString *mabstring = [[NSMutableAttributedString alloc]initWithString:@â€å¯Œæ–‡æœ¬å­¦ä¹ /æ…¢æ…¢æ¥å§ã€‚ä¸æ˜¯ä¸€æœä¸€å¤•ä¹‹åŠŸã€‚ok \\n ok okâ€]; CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)mabstring); CGMutablePathRef Path = CGPathCreateMutable(); CGPathAddRect(Path, NULL ,CGRectMake(10 , 0 ,self.bounds.size.width-10 , self.bounds.size.height-20)); CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, 0), Path, NULL); CTFrameDraw(frame,context); CGPathRelease(Path); CFRelease(framesetter);}$$æ˜¾ç¤ºæ•ˆæœ ä¸Šé¢å°±æ˜¯ç”¨coretextå®ç°çš„ç®€å•æ•ˆæœï¼Œçœ‹ç€ä¸€ç‚¹éƒ½ä¸é…·ã€‚ä¸€ä¸ªUIlabelå°±èƒ½å®ç°çš„æ•ˆæœã€‚ä¸è¿‡ä¸è¦ç´§ï¼Œæ…¢æ…¢å¾€ä¸‹çœ‹ã€‚","tags":[]},{"title":"ç›®å‰å¸¸ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶","date":"2015-08-18T06:23:43.000Z","path":"2015/08/18/2015-08-18-mu-qian-chang-yong-di-san-fang-cha-jian/","text":"ç›®å‰æˆ‘åœ¨ç”¨çš„å¼€å‘æ’ä»¶ 1ã€xcodeç”Ÿæˆè§„èŒƒæ³¨é‡Š VVDocumenter-Xcode githubåœ°å€ æˆ‘æ”¹äº†å‡ è¡Œæºç å°±æˆä¸Šé¢çš„æ ·å­äº†.ä»£ç  å®‰è£…å‡ºç°é—®é¢˜å¯ä»¥å‚è€ƒè¿™é‡Œ å®‰è£…VVDocumenter-Xcode ï¼ŒXcode 6ä¹‹åï¼Œé‡å¯Xcodeæ—¶ä¼šæç¤ºâ€œLoad bundleâ€ã€ â€œSkip Bundleâ€ï¼Œè¿™é‡Œå¿…é¡»é€‰æ‹©â€œLoad bundleâ€ï¼Œä¸ç„¶æ’ä»¶æ— æ³•ä½¿ç”¨ã€‚ä½†skipæ˜¯ä½ ä¸å°å¿ƒç‚¹å‡»â€œSkip Bundleâ€ ä½ å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤ defaults delete com.apple.dt.Xcode DVTPlugInManagerNonApplePlugIns-Xcode-{your_xcode_version} æ¸…é™¤ä½ çš„é”™è¯¯é€‰æ‹© æˆ‘çš„xcodeæ˜¯6.4 å‘½ä»¤ä¸º defaults delete com.apple.dt.Xcode DVTPlugInManagerNonApplePlugIns-Xcode-6.4 2ã€ç”Ÿæˆgifå›¾çš„å·¥å…· licecap è¿™ä¸ªå·¥å…·æ˜¯å…è´¹çš„ ç½‘ä¸Šæœä¸‹åˆ°å¤„éƒ½æ˜¯å°±ä¸æä¾›é“¾æ¥äº†ã€‚","tags":[]},{"title":"æ›´æ”¹xcodeç”Ÿæˆæ¯ä¸ªæ–‡ä»¶å¤´ä¿¡æ¯","date":"2015-08-18T02:13:11.000Z","path":"2015/08/18/2015-08-18-geng-gai-xcodesheng-cheng-mei-ge-wen-jian-tou-xin-xi/","text":"ä¿®æ”¹xocdeæ–‡ä»¶ çš„å¤´ä¿¡æ¯ ç‚¹å‡»å·¥ç¨‹æ–‡ä»¶ ç‚¹å‡»å³è¾¹çš„æ–‡ä»¶è®¾ç½®çª—å£ é…ç½®project Document é€‰é¡¹ä¸­çš„ç›¸å…³ä¿¡æ¯ ä¸Šå›¾ç¬¬å››æ­¥ class Prefix æ˜¯é…ç½®æ–‡ä»¶å¤´ï¼Œç”Ÿæˆæ¯ä¸ªç±»å‰çš„å¤´ organization æ˜¯é…ç½®æ–‡ä»¶ä¸­çš„ ç§‘æŠ€ ä½ç½®çš„å­—","tags":[]},{"title":"AVFoundation.frameworkçš„å­¦ä¹ ","date":"2015-08-17T09:15:52.000Z","path":"2015/08/17/2015-08-17-avfoundation-dot-fromworkde-xue-xi/","text":"æœ€è¿‘å­¦ä¹ è‡ªå®šä¹‰ç›¸æœºçš„ç›¸å…³çŸ¥è¯†ï¼Œå¯ä»¥è‡ªå®šä¹‰ç›¸æœºæˆåŠŸï¼Œä½†æ˜¯å¯¹AVFoundationä¸æ˜¯å¾ˆäº†è§£ï¼Œè¿™é‡Œæœ‰å¿…è¦å¯¹è¿™ä¸ªAVFoundation.frameworkã€‚ ï¼ˆæ„Ÿè§‰å†™ç‚¹ä¸œè¥¿å’‹è¿™ä¹ˆå›°éš¾ï¼‰ ##å­¦ä¹ ç±»å¯¹è±¡ AVCaptureSessionã€AVCaptureInput å’Œ AVCaptureOutput çš„å­¦ä¹  AVCaptureInput is an abstract base-class describing an input data source to an AVCaptureSession object. AVCaptureOutput is an abstract base class describing an output destination of an AVCaptureSession object You use an AVCaptureSession object to coordinate the flow of data from AV input devices to outputs #####å‚è€ƒè¿æ¥è‹¹æœAVFoundation ref è‹¹æœAVFoundation Programming Guide","tags":[]},{"title":"è‡ªå®šä¹‰ç›¸æœº","date":"2015-08-12T03:31:08.000Z","path":"2015/08/12/2015-08-12-zi-ding-yi-xiang-ji/","text":"##è°ƒç”¨ç³»ç»Ÿç›¸æœº è°ƒç”¨ç³»ç»Ÿç›¸æœºä¸€èˆ¬çš„åŠŸèƒ½æ˜¯å¯ä»¥æ»¡è¶³çš„ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šçš„è¦æ±‚è¦æ±‚ï¼Œå¯ä»¥ç›´æ¥ç”¨ç³»ç»Ÿç›¸æœºã€‚ ä»£ç å¦‚ä¸‹ï¼š è°ƒç”¨ç…§ç›¸æœº if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) { UIImagePickerController * picker = [[UIImagePickerController alloc]init]; picker.delegate = self; block(picker); //æ‘„åƒå¤´ picker.sourceType = UIImagePickerControllerSourceTypeCamera; [self presentViewController:picker animated:YES completion:^{ }]; }else{ UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;Error&quot; message:@&quot;ä½ æ²¡æœ‰æ‘„åƒå¤´&quot; delegate:nil cancelButtonTitle:@&quot;Drat!&quot; otherButtonTitles:nil]; [alert show]; } è·å–å›¾ç‰‡æˆ–è€…å–æ¶ˆå›¾ç‰‡å®ç°ä»£ç† - (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info { UIImage * image = [info objectForKey:UIImagePickerControllerOriginalImage]; if ([self respondsToSelector:@selector(getCameraImage:)]) { [self getCameraImage:image]; } [self dismissViewControllerAnimated:YES completion:^{ }]; } - (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker { [self dismissViewControllerAnimated:YES completion:^{ }]; } ä»¥ä¸Šä»£ç åªæ˜¯ç®€å•çš„è°ƒç”¨ä¸‹ç³»ç»Ÿç›¸æœºã€‚å¹¶æ²¡æœ‰å¯¹ç›¸æœºè¿›è¡Œç›¸å…³è®¾ç½®ã€‚ é…ç½®å‰ æ³¨æ„å°†ç³»ç»Ÿç›¸æœºé…ç½®æˆä¸­æ–‡ ï¼Œåœ¨å·¥ç¨‹æ–‡ä»¶plist ä¸­æ·»åŠ ä¸‹é¢ä¸€é¡¹å³å¯ã€‚ é…ç½®å ##è‡ªå®šä¹‰ç›¸æœº æˆ‘ä¸ªäººåå‘ç”¨è‡ªå®šä¹‰ç›¸æœºï¼Œä¸ªäººç†ç”±åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥é«˜åº¦å®šåˆ¶ã€‚ï¼ˆè™½ç„¶æœ‰ç‚¹éº»çƒ¦ï¼‰ æš‚æ—¶æ›´æ–°åˆ°è¿™é‡Œï¼ˆå“ˆå“ˆã€‚æ²¡æœ‰ä¸Šä¸‹æ–‡äº†ã€‚ï¼‰æˆ‘å‘ç°å­¦ä¹ ç›¸æœºè¿˜æ˜¯å…ˆç³»ç»Ÿå­¦ä¹ å­¦ä¹ avfoudation.framework æ¯”è¾ƒé è°±äº›ã€‚å­¦å®Œav å†å›æ¥å­¦å–½ #####å‚è€ƒè¿æ¥","tags":[]},{"title":"è¿›å†›äºŒç»´ç ï¼Œä»é›¶å¼€å§‹å­¦ä¹ äºŒç»´ç ","date":"2015-08-11T10:30:03.000Z","path":"2015/08/11/2015-08-11-jin-jun-er-wei-ma-,cong-ling-kai-shi-xue-xi-er-wei-ma/","text":"åšé¡¹ç›®æŒºä¹…çš„äº†ï¼Œä½†æ˜¯äºŒç»´ç è¿™å—æ€»æ˜¯ç”¨åˆ«äººå†™å¥½çš„ï¼Œè‡ªå·±ä»æ¥æ²¡æœ‰æ“è¿‡åˆ€ï¼Œå†…å¿ƒæœ‰ç‚¹å°ä¸çˆ½å•Šï¼Œä»Šå¤©ç´¢æ€§å°±å†™ä¸ªåšå®¢ï¼Œè‡ªå·±ç»™è‡ªå·±å®šå®šéœ€è¦ï¼Œå­¦å­¦å­¦ä¹ äºŒç»´ç ã€‚ äºŒç»´æ¡ç /äºŒç»´ç ï¼ˆ2-dimensional bar codeï¼‰æ˜¯ç”¨æŸç§ç‰¹å®šçš„å‡ ä½•å›¾å½¢æŒ‰ä¸€å®šè§„å¾‹åœ¨å¹³é¢ï¼ˆäºŒç»´æ–¹å‘ä¸Šï¼‰åˆ†å¸ƒçš„é»‘ç™½ç›¸é—´çš„å›¾å½¢è®°å½•æ•°æ®ç¬¦å·ä¿¡æ¯çš„ï¼›åœ¨ä»£ç ç¼–åˆ¶ä¸Šå·§å¦™åœ°åˆ©ç”¨æ„æˆè®¡ç®—æœºå†…éƒ¨é€»è¾‘åŸºç¡€çš„â€œ0â€ã€â€œ1â€æ¯”ç‰¹æµçš„æ¦‚å¿µï¼Œä½¿ç”¨è‹¥å¹²ä¸ªä¸äºŒè¿›åˆ¶ç›¸å¯¹åº”çš„å‡ ä½•å½¢ä½“æ¥è¡¨ç¤ºæ–‡å­—æ•°å€¼ä¿¡æ¯ï¼Œé€šè¿‡å›¾è±¡è¾“å…¥è®¾å¤‡æˆ–å…‰ç”µæ‰«æè®¾å¤‡è‡ªåŠ¨è¯†è¯»ä»¥å®ç°ä¿¡æ¯è‡ªåŠ¨å¤„ç†ï¼šå®ƒå…·æœ‰æ¡ç æŠ€æœ¯çš„ä¸€äº›å…±æ€§ï¼šæ¯ç§ç åˆ¶æœ‰å…¶ç‰¹å®šçš„å­—ç¬¦é›†ï¼›æ¯ä¸ªå­—ç¬¦å æœ‰ä¸€å®šçš„å®½åº¦ï¼›å…·æœ‰ä¸€å®šçš„æ ¡éªŒåŠŸèƒ½ç­‰ã€‚åŒæ—¶è¿˜å…·æœ‰å¯¹ä¸åŒè¡Œçš„ä¿¡æ¯è‡ªåŠ¨è¯†åˆ«åŠŸèƒ½ã€åŠå¤„ç†å›¾å½¢æ—‹è½¬å˜åŒ–ç‚¹ã€‚ äºŒç»´ç æ‰«æç°åœ¨éƒ½æ˜¯2015å¹´äº†ã€‚å°±ä¸ç ”ç©¶ZBarå’ŒZXingäº†ã€‚ä»Šå¤©è¦ä»‹ç»çš„æ˜¯iOS7.0åAVFoundationæ¡†æ¶æä¾›çš„åŸç”ŸäºŒç»´ç æ‰«æã€‚ äºŒç»´ç ç”Ÿæˆ#####å‚è€ƒé“¾æ¥ äºŒç»´ç ç™¾åº¦ç™¾ç§‘","tags":[]},{"title":"CGAffineTransform.hç±»çš„å­¦ä¹ å’ŒåŸç†è®²è§£","date":"2015-08-10T07:25:44.000Z","path":"2015/08/10/2015-08-10-cgaffinetransform-dot-hlei-de-xue-xi-he-yuan-li-jiang-jie/","text":"ç¬¬ä¸€æ¬¡å†™iosç›¸å…³æŠ€æœ¯åšå®¢ï¼Œæ‰€ä»¥å…ˆå†™ä¸ªç®€å•çš„ï¼Œå†™çš„ä¸å¥½å¤§å®¶å¤šå¤šææ„è§ã€‚ æƒ³å­¦å¥½è¿™ä¸ªç±»ï¼Œæˆ‘æ„Ÿè§‰æœ€å¥½è¿˜æ˜¯ä»ç†è®ºä¸Šå¼„æ˜ç™½ä»€ä¹ˆäºŒç»´å›¾å½¢åˆ°åº•æ˜¯æ€ä¹ˆå˜æ¢çš„ã€‚ çŸ©é˜µåŠå…¶è¿ç®— ä¸€ï¼æ•°å­¦æ¦‚å¿µå®šä¹‰1.1 ç”±ä¸ªæ•° æ’æˆmè¡Œnåˆ—çš„æ•°è¡¨ ç§°ä¸ºmè¡Œnåˆ—çš„çŸ©é˜µï¼Œç®€ç§° çŸ©é˜µï¼Œè®°ä½œ äºŒï¼åŸç†ï¼Œå…¬å¼å’Œæ³•åˆ™ 1ï¼çŸ©é˜µçš„åŠ æ³•(1) å…¬å¼ (2) è¿ç®—å¾‹ 2ï¼æ•°ä¹˜çŸ©é˜µ (1) å…¬å¼ (2) è¿ç®—å¾‹ 3ï¼çŸ©é˜µä¸çŸ©é˜µç›¸ä¹˜ (1) è®¾ , åˆ™ å…¶ä¸­ ï¼Œä¸” ï¼ˆ2ï¼‰ è¿ç®—ç¬¦(å‡è®¾è¿ç®—éƒ½æ˜¯å¯è¡Œçš„)ï¼š (3) æ–¹é˜µçš„è¿ç®— æ³¨æ„ï¼šâ‘ çŸ©é˜µä¹˜æ³•ä¸€èˆ¬ä¸æ»¡è¶³äº¤æ¢å¾‹ã€‚â‘¡ä¸€èˆ¬ 4.çŸ©é˜µçš„è½¬ç½®(1) å…¬å¼ (2) è¿ç®—å¾‹ 5.æ–¹é˜µçš„è¡Œåˆ—å¼ 6.å…±è½­çŸ©é˜µ ä¸Šé¢ä¸€å®šè¦çœ‹æ‡‚çŸ©é˜µçš„ä¹˜æ³•æ˜¯æ€ä¹ˆè¿ç®—çš„æ‰è¡Œã€‚ æ•°å­¦åŸç† 1ã€åŸºæœ¬å‡ ä½•å˜æ¢åŠå˜æ¢çŸ©é˜µ åŸºæœ¬å‡ ä½•å˜æ¢éƒ½æ˜¯ç›¸å¯¹äºåæ ‡åŸç‚¹å’Œåæ ‡è½´è¿›è¡Œçš„å‡ ä½•å˜æ¢ï¼Œæœ‰å¹³ç§»ã€æ¯”ä¾‹ã€æ—‹è½¬ã€åå°„å’Œé”™åˆ‡ç­‰ 1.1 å¹³ç§»å˜æ¢ æ˜¯æŒ‡å°†pç‚¹æ²¿ç›´çº¿è·¯å¾„ä»ä¸€ä¸ªåæ ‡ä½ç½®ç§»åˆ°å¦ä¸€ä¸ªåæ ‡ä½ç½®çš„é‡å®šä½è¿‡ç¨‹ã€‚ä»–æ˜¯ä¸€ç§ä¸äº§ç”Ÿå˜å½¢è€Œç§»åŠ¨ç‰©ä½“çš„åˆšä½“å˜æ¢ï¼ˆrigid-body transformationï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æ¨å¯¼ï¼š è§£é‡Š(ä¸ªäººç†è§£) x&apos;=x+Tx ç›¸å½“äºx&apos;= x*1 + y*0 + 1 * Tx y&apos;=y+Ty ç›¸å½“äºy&apos;= x*0 + y*1 + 1 * Ty æ‰€ä»¥ A çŸ©é˜µ [x y 1] C çŸ©é˜µè¦å’ŒAçŸ©é˜µæ ¼å¼ä¸€æ · [x&apos; y&apos; 1] cçŸ©é˜µçš„1 æ€ä¹ˆæ¥ã€‚åªèƒ½æ·»åŠ ä¸€è¡Œäº† 1=x*0+y*0+ 1*1 æ‰€ä»¥bçŸ©é˜µä¸º ä¸Šé¢å¦‚å›¾ 1.2 ç¼©æ”¾å˜æ¢ç¼©æ”¾å˜æ¢æ˜¯æŒ‡å¯¹pç‚¹ç›¸å¯¹äºåæ ‡åŸç‚¹æ²¿xæ–¹å‘æ”¾ç¼©Sxå€ï¼Œæ²¿yæ–¹å‘æ”¾ç¼©Syå€ã€‚å…¶ä¸­Sxå’ŒSyç§°ä¸ºç¼©æ”¾ç³»æ•°ã€‚ æ¨å¯¼ï¼š çŸ©é˜µ x&apos;=x*Sx+y*0 + 0*0; y&apos;=x*0 +y *Sy+0*0; 0=x*0+y*0+0*1; ç¼©æ”¾å˜æ¢å¯æ”¹å˜ç‰©ä½“çš„å¤§å°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å½“Sx=Sy &gt;1æ—¶ï¼Œå›¾å½¢æ²¿ä¸¤ä¸ªåæ ‡è½´æ–¹å‘ç­‰æ¯”ä¾‹æ”¾å¤§ï¼›å½“Sx=Sy&lt;1ï¼Œå›¾å½¢æ²¿ä¸¤ä¸ªåæ ‡è½´æ–¹å‘ç­‰æ¯”ä¾‹ç¼©å°ï¼›å½“Sxâ‰ Syï¼Œå›¾å½¢æ²¿ä¸¤ä¸ªåæ ‡è½´æ–¹å‘ä½œéå‡åŒ€çš„æ¯”ä¾‹å˜æ¢ã€‚ 1.3 æ—‹è½¬å˜æ¢ äºŒç»´æ—‹è½¬æ˜¯æŒ‡å°†pç‚¹ç»•åæ ‡åŸç‚¹è½¬åŠ¨æŸä¸ªè§’åº¦ï¼ˆé€†æ—¶é’ˆä¸ºæ­£ï¼Œé¡ºæ—¶é’ˆä¸ºè´Ÿï¼‰å¾—åˆ°æ–°çš„ç‚¹pâ€™çš„é‡å®šä½è¿‡ç¨‹ã€‚ æ¨å¯¼ï¼šåˆ©ç”¨æåæ ‡æ–¹ç¨‹ é€†æ—¶é’ˆæ—‹è½¬Î¸è§’çš„çŸ©é˜µå¦‚ä¸‹ï¼š 1.4 å¯¹ç§°å˜æ¢ å¯¹ç§°å˜æ¢åçš„å›¾å½¢æ˜¯åŸå›¾å½¢å…³äºæŸä¸€è½´çº¿æˆ–åŸç‚¹çš„é•œåƒã€‚ (1)å…³äºxè½´å¯¹ç§° x&apos;=x*1+y*0+0*0; y&apos;=x*0+y*(-1)+0*0; 0=x*0+y*0+0*1; (2)å…³äºyè½´å¯¹ç§° (3)å…³äºåŸç‚¹å¯¹ç§° (4)å…³äºy=xè½´å¯¹ç§° (5)å…³äºy=-xè½´å¯¹ç§° 1.5 é”™åˆ‡å˜æ¢ é”™åˆ‡å˜æ¢ä¹Ÿç§°ä¸ºå‰ªåˆ‡ã€é”™ä½å˜æ¢ï¼Œç”¨äºäº§ç”Ÿå¼¹æ€§ç‰©ä½“çš„å˜å½¢å¤„ç†ã€‚ é”™åˆ‡å˜æ¢çš„å˜æ¢çŸ©é˜µä¸ºï¼š (1)æ²¿xæ–¹å‘é”™åˆ‡ï¼šb=0 (2)æ²¿yæ–¹å‘é”™åˆ‡ï¼šc=0 (3)ä¸¤ä¸ªæ–¹å‘é”™åˆ‡ï¼šbå’Œcéƒ½ä¸ç­‰äº0ã€‚ 2ã€ å¤åˆå˜æ¢ å¦‚æœå›¾å½¢è¦åšä¸€æ¬¡ä»¥ä¸Šçš„å‡ ä½•å˜æ¢ï¼Œé‚£ä¹ˆå¯ä»¥å°†å„ä¸ªå˜æ¢çŸ©é˜µç»¼åˆèµ·æ¥è¿›è¡Œä¸€æ­¥åˆ°ä½çš„å˜æ¢ã€‚å¤åˆå˜æ¢æœ‰å¦‚ä¸‹çš„æ€§è´¨ï¼š 1ï¼‰å¤åˆå¹³ç§» å¯¹åŒä¸€å›¾å½¢åšä¸¤æ¬¡å¹³ç§»ç›¸å½“äºå°†ä¸¤æ¬¡çš„å¹³ç§»ä¸¤åŠ èµ·æ¥ï¼š 2ï¼‰å¤åˆç¼©æ”¾ ä¸¤æ¬¡è¿ç»­çš„ç¼©æ”¾ç›¸å½“äºå°†ç¼©æ”¾æ“ä½œç›¸ä¹˜ï¼š 3ï¼‰å¤åˆæ—‹è½¬ ä¸¤æ¬¡è¿ç»­çš„æ—‹è½¬ç›¸å½“äºå°†ä¸¤æ¬¡çš„æ—‹è½¬è§’åº¦ç›¸åŠ ï¼š ç¼©æ”¾ã€æ—‹è½¬å˜æ¢éƒ½ä¸å‚è€ƒç‚¹æœ‰å…³ï¼Œä¸Šé¢è¿›è¡Œçš„å„ç§å˜æ¢éƒ½æ˜¯ä»¥åŸç‚¹ä¸ºå‚è€ƒç‚¹çš„ã€‚å¦‚æœç›¸å¯¹æŸä¸ªä¸€èˆ¬çš„å‚è€ƒç‚¹ï¼ˆxfï¼Œyfï¼‰ä½œç¼©æ”¾ã€æ—‹è½¬å˜æ¢ï¼Œç›¸å½“äºå°†è¯¥ç‚¹ç§»åˆ°åæ ‡åŸç‚¹å¤„ï¼Œç„¶åè¿›è¡Œç¼©æ”¾ã€æ—‹è½¬å˜æ¢ï¼Œæœ€åå°†ï¼ˆxfï¼Œyfï¼‰ç‚¹ç§»å›åŸæ¥çš„ä½ç½®ã€‚ 4ï¼‰å…³äºï¼ˆxfï¼Œyfï¼‰ç‚¹çš„ç¼©æ”¾å˜æ¢ 5ï¼‰ç»•ï¼ˆxfï¼Œyfï¼‰ç‚¹çš„æ—‹è½¬å˜æ¢ 3ã€äºŒç»´å›¾å½¢å‡ ä½•å˜æ¢çš„è®¡ç®— å‡ ä½•å˜æ¢å‡å¯è¡¨ç¤ºæˆPâ€™=P*Tçš„å½¢å¼ (1)ç‚¹çš„å˜æ¢ï¼šå…ˆå°†ç‚¹è¡¨ç¤ºä¸ºè§„èŒƒåŒ–é½æ¬¡åæ ‡å½¢å¼ï¼Œå†ä¹˜ä»¥å˜æ¢çŸ©é˜µã€‚ (2)ç›´çº¿çš„å˜æ¢ï¼šå°†ç›´çº¿çš„ä¸¤ä¸ªç«¯ç‚¹è¡¨ç¤ºä¸ºè§„èŒƒåŒ–é½æ¬¡åæ ‡å½¢å¼ï¼Œå†ä¹˜ä»¥å˜æ¢çŸ©é˜µã€‚ (3)å¤šè¾¹å½¢çš„å˜æ¢ï¼šå°†å¤šè¾¹å½¢çš„é¡¶ç‚¹è¡¨ç¤ºä¸ºè§„èŒƒåŒ–é½æ¬¡åæ ‡å½¢å¼ï¼Œå†ä¹˜ä»¥å˜æ¢çŸ©é˜µã€‚ (4)æ›²çº¿çš„å˜æ¢ï¼šå°†æ›²çº¿çš„æ¯ä¸ªç‚¹è¡¨ç¤ºä¸ºè§„èŒƒåŒ–é½æ¬¡åæ ‡å½¢å¼ï¼Œå†ä¹˜ä»¥å˜æ¢çŸ©é˜µã€‚ 4ã€å¤åˆå˜æ¢çš„çŸ©é˜µç‚¹ä¹˜çš„å…ˆåé—®é¢˜ 1)å¦‚æœé‡‡ç”¨ä»¥ä¸‹æ–¹å¼è®¡ç®—å‡ ä½•å˜æ¢çš„å˜æ¢çŸ©é˜µ å¦‚ä¸ŠèŒƒä¾‹æ‰€ç¤ºï¼Œå…¶å…ˆæ‰§è¡Œå˜æ¢çš„çŸ©é˜µæ”¾åœ¨å‰é¢ï¼Œåæ‰§è¡Œå˜æ¢çš„çŸ©é˜µæ”¾åœ¨åé¢ã€‚ 2)å¦‚æœé‡‡ç”¨ä»¥ä¸‹æ–¹å¼è®¡ç®—å‡ ä½•å˜æ¢çš„å˜æ¢çŸ©é˜µï¼š å¦‚ä¸ŠèŒƒä¾‹æ‰€ç¤ºï¼Œå…¶å…ˆæ‰§è¡Œå˜æ¢çš„çŸ©é˜µæ”¾åœ¨åé¢ï¼Œåæ‰§è¡Œå˜æ¢çš„çŸ©é˜µæ”¾åœ¨å‰é¢ã€‚ è¿™æ˜¯å› ä¸ºçŸ©é˜µçš„ç‰¹æ€§ï¼š ##CGAffineTransform.h å‡½æ•°ä»‹ç» è¯´äº†åŠå¤©ï¼Œä¸æ¥ç‚¹ä»£ç æ€ä¹ˆè¡Œã€‚ åœ¨CGAffineTransform.h æ–‡ä»¶ä¸­ typedef struct CGAffineTransform CGAffineTransform; struct CGAffineTransform { CGFloat a, b, c, d; CGFloat tx, ty; }; çŸ©é˜µæ•°å­¦æ¨¡å‹æ˜¯[a b] c d tx ty çœç•¥äº† [a b 0] ä¸­çš„æœ€åä¸€åˆ— c d 0 tx ty 1 å‡½æ•°ä»‹ç»ä»£ç  ///è·å–ä¸€ä¸ªæ ‡å‡†çŸ©é˜µã€‚æ²¡æœ‰å˜åŒ–çš„çŸ©é˜µ CGAffineTransform transform= CGAffineTransformIdentity; NSLog(@&quot;CGAffineTransformIdentity æ•°å€¼%@&quot; , NSStringFromCGAffineTransform(transform)); ///è·å–ä¸€ä¸ªå˜å¹»çŸ©é˜µ è¿™ä¸ªå‡½æ•°å¯ä»¥å¹³ç§»æ—‹è½¬å’Œç¼©æ”¾ /* Return the transform [ a b c d tx ty ]. */ transform= CGAffineTransformMake(a, b, c, d,x,y); ///è·å–ä¸€ä¸ªåªåšå¹³ç§»çš„çŸ©é˜µ // t&apos; = [ 1 0 0 1 tx ty ] transform= CGAffineTransformMakeTranslation(x, y); ///è·å–ä¸€ä¸ªç¼©æ”¾çŸ©é˜µ // t&apos; = [ sx 0 0 sy 0 0 ] transform= CGAffineTransformMakeScale(a,c); //è·å–ä¸€ä¸ªæ—‹è½¬çŸ©é˜µ /* Return a transform which rotates by `angle&apos; radians: t&apos; = [ cos(angle) sin(angle) -sin(angle) cos(angle) 0 0 ] */ transform= CGAffineTransformMakeRotation(3); ///éªŒè¯æ˜¯å¦æ˜¯æ ‡å‡†çŸ©é˜µ BOOL isTrue = CGAffineTransformIsIdentity(transform); ///è¿™ä¸ªæ˜¯çŸ©é˜µä¹‹é—´çš„æ¢ç®—äº† /* Translate `t&apos; by `(tx, ty)&apos; and return the result: t&apos; = [ 1 0 0 1 tx ty ] * t */ /// è¯´çš„å¾ˆæ˜ç¡® ç”¨åªæœ‰å¹³ç§»çš„çŸ©é˜µå’Œ t çŸ©é˜µç›¸ä¹˜ t*t&apos; æ„æ€æ˜¯åœ¨t&apos;çš„åŸºç¡€ä¸Šåšt å˜å¹»ï¼ˆä¾‹å¦‚å¹³ç§»æ—‹è½¬ç­‰ç­‰ï¼‰ transform= CGAffineTransformTranslate(transform,x,y); ///çŸ©é˜µå…ˆç¼©æ”¾å†transform /* Scale `t&apos; by `(sx, sy)&apos; and return the result: t&apos; = [ sx 0 0 sy 0 0 ] * t */ transform= CGAffineTransformScale(transform,a,c); ///çŸ©é˜µå…ˆæ—‹è½¬å†transform /* Rotate `t&apos; by `angle&apos; radians and return the result: t&apos; = [ cos(angle) sin(angle) -sin(angle) cos(angle) 0 0 ] * t */ transform = CGAffineTransformRotate(transform,3); NSLog(@&quot;CGAffineTransformInvertå‰ æ•°å€¼%@&quot; , NSStringFromCGAffineTransform(transform)); /// è·å– åè½¬çŸ©é˜µ çœ‹ä¸å‡ºæ•ˆæœã€‚åšå›¾çœ‹çœ‹ å¯ä»¥ä»”ç»†ç ”ç©¶ä¸‹ ///æˆ‘çœ‹ç€å°±æ˜¯æ²¿ç€yè½´åšäº†ä¸€ä¸ªå¯¹ç§°å˜æ¢ ï¼ˆä¸è§å¾—å¯¹ï¼‰ transform = CGAffineTransformInvert(transform); NSLog(@&quot;CGAffineTransformInvertå æ•°å€¼%@&quot; , NSStringFromCGAffineTransform(transform)); ///çŸ©é˜µç›¸ä¹˜ /* Concatenate `t2&apos; to `t1&apos; and return the result: t&apos; = t1 * t2 */ transform = CGAffineTransformConcat(transform,transform); ///åˆ¤æ–­ä¸¤ä¸ªçŸ©é˜µæ˜¯å¦ç›¸ç­‰ /* Return true if `t1&apos; and `t2&apos; are equal, false otherwise. */ isTrue =CGAffineTransformEqualToTransform(transform,transform); ///è·å–ä¸€ä¸ªç‚¹çŸ©é˜µå˜å¹»å¦ä¸€ä¸ªç‚¹çš„ä½ç½® /* Transform `point&apos; by `t&apos; and return the result: p&apos; = p * t where p = [ x y 1 ]. */ CGPoint point= CGPointApplyAffineTransform(CGPointMake(30, 30), transform); ///è·å–ä¸€ä¸ªçŸ©å½¢çŸ©å½¢å˜æ¢çš„å¤§å° /* Transform `size&apos; by `t&apos; and return the result: s&apos; = s * t where s = [ width height 0 ]. */ CGSize size= CGSizeApplyAffineTransform(CGSizeMake(30, 30),transform); ///è·å–çŸ©å½¢ä½ç½®å˜å¹»åçš„ä½ç½® CGRect rect=CGRectApplyAffineTransform(CGRectMake(0, 0, 30, 30),transform); é¡¹ç›®ä¸­æœ‰æ¯ä¸ªå‡½æ•°çš„å…·ä½“ç”¨æ³•ã€‚ é¡¹ç›®æ‰˜ç®¡åœ¨github #####å‚è€ƒæ–‡ç« ï¼šçŸ©é˜µå®šä¹‰ å˜æ¢åŸç† è‹¹æœå®˜æ–¹æ–‡æ¡£","tags":[]},{"title":"è®°å½•unixå‘½ä»¤çš„ä½¿ç”¨","date":"2015-08-04T10:07:24.000Z","path":"2015/08/04/2015-08-04-ji-lu-unixming-ling-de-shi-yong/","text":"ç»å¸¸ä¸ºåœ¨mac ç»ˆç«¯æ“ä½œï¼Œæ‰€ä»¥ä¸å¾—ä¸å­¦ä¹ ä¸€äº›ç»ˆç«¯å‘½ä»¤å¹¶åšä¸‹è®°å½•ï¼Œæ–¹ä¾¿ä»¥åæŸ¥è¯¢ã€‚ ##å‘½ä»¤æŸ¥è¯¢å…¶å®æ‰€æœ‰çš„å‘½ä»¤å‚æ•°éƒ½æ˜¯å¯ä»¥é€šè¿‡man æ¥æŸ¥è¯¢çš„ã€‚ egï¼š man cd man rm man ls man open éƒ½æœ‰å‘½ä»¤çš„è¯¦ç»†ä½¿ç”¨æƒ…å†µ ##å‘½ä»¤ä»‹ç» rm -rf xxx åˆ é™¤æ–‡ä»¶å¤¹xxxï¼ˆåŒ…æ‹¬é‡Œé¢çš„å†…å®¹ï¼‰ mkdir xxx æ–°å»ºxxxæ–‡ä»¶å¤¹ cd xxx è¿›å…¥xxxæ–‡ä»¶å¤¹ï¼Œxxxå¯ä»¥æ˜¯ä¸ªè·¯å¾„ open . ä½¿ç”¨Finderæ‰“å¼€å½“å‰ç›®å½• open ./source ä½¿ç”¨Finderæ‰“å¼€å½“å‰ç›®å½•ä¸‹çš„sourceæ–‡ä»¶å¤¹ ls æŸ¥çœ‹å½“é¢æ–‡ä»¶å¤¹ä¸­çš„ç›®å½•åˆ—è¡¨ cd .. è¿”å›ä¸Šå·²ç›®å½• rm xxx åˆ é™¤æ–‡ä»¶ vi xxx æ‰“å¼€æ–‡ä»¶ è¿›å…¥viæ–‡ä»¶ä¹‹åï¼Œqé”®æ˜¯åŠŸèƒ½åˆ‡æ¢aé”®æ˜¯æ’å…¥æ“ä½œ shift+q è¿›å…¥é€€å‡ºæ¨¡å¼ã€‚wq å†™å…¥å¹¶ä¿å­˜ q! å¼ºåˆ¶é€€å‡ºä¸ä¿å­˜","tags":[]},{"title":"GitPages + Octopressæ­å»ºåšå®¢ï¼ˆè½¬ï¼‰","date":"2015-08-04T08:39:04.000Z","path":"2015/08/04/2015-08-04-gitpages-plus-octopressda-jian-bo-ke-(zhuan-)/","text":"#ç›´æ¥è½¬å…„å¼Ÿçš„é“¾æ¥ GitPages + Octopress æ­å»ºåšå®¢ ##æˆ‘åœ¨åˆ›å»ºä¸­é‡åˆ°çš„é—®é¢˜ ä¸»è¦é—®é¢˜æ˜¯è¾“å…¥å‘½ä»¤rake deploy çš„æ—¶å€™æŠ¥ä¸‹é¢çš„é”™è¯¯ ## Pushing generated _deploy website To git@github.com:NPOpenSource/npopensource.github.com.git ! [rejected] master -&gt; master (non-fast-forward) error: failed to push some refs to &apos;git@github.com:NPOpenSource/ npopensource.github.com.git&apos; hint: Updates were rejected because the tip of your current branch is behind hint: its remote counterpart. Integrate the remote changes (e.g. hint: &apos;git pull ...&apos;) before pushing again. hint: See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details. è¿™ä¸ªåŸå› çš„äº§ç”Ÿæ˜¯å› ä¸ºåœ¨ç›®å½• /octopress/_deploy/ ä¸‹é¢çš„æ–‡ä»¶å’Œè¿œç¨‹æœ‰å†²çªå¯¼è‡´çš„ã€‚ è§£å†³åŠæ³•æ˜¯ åœ¨ /octopress è¾“å…¥å‘½ä»¤git pull origin master cd _deploy/è¿›å…¥è¯¥æ–‡ä»¶å¤¹ git remote -væŸ¥çœ‹å½“å‰æ–‡ä»¶ä¸‹ æœ‰å†²çªçš„æ–‡ä»¶ å°†æœ‰å†²çªçš„æ–‡ä»¶è§£å†³æ‰å°±è¡Œäº† å¹¶æäº¤ ä¿è¯ git status ç»“æœä¸º On branch master nothing to commit, working directory clean ä¹‹åcd .. é€€å‡ºåˆ° /octopress æŸ¥çœ‹ git remote -v å°†ä¿®æ”¹çš„æ–‡ä»¶ä¹Ÿæäº¤ ä¿è¯ git status ç»“æœä¸º On branch master nothing to commit, working directory clean æœ€åå†æ¬¡è¿è¡Œ rake deploy å°±è¡Œäº†ã€‚ ä¸ªæ€§åŒ–è®¾ç½®å‚è€ƒé“¾æ¥","tags":[]},{"title":"gitçš„å­¦ä¹ ä½¿ç”¨","date":"2015-08-04T08:33:09.000Z","path":"2015/08/04/2015-08-04-gitde-xue-xi-shi-yong/","text":"##gitåŸç†(æœ€å¥½è‡ªå·±å®è·µæ•²ä¸‹ä»£ç ) åº•å±‚å‘½ä»¤ (Plumbing) å’Œé«˜å±‚å‘½ä»¤ (Porcelain) ç”¨github ä¸å¾—ä¸å­¦ä¹ ä¸‹ git å‘½ä»¤è¡Œã€‚ è¦æƒ³å­¦å¥½git ï¼Œæˆ‘è®¤ä¸ºï¼Œé¦–å…ˆè¦å¼„æ‡‚git åŸç†ï¼Œæ¥ç€ç†Ÿç»ƒæŒæ¡git å‘½ä»¤è¡Œã€‚ æœ¬æ–‡è®²è§£äº†ä½¿ç”¨ checkout, branch, remote ç­‰å…±çº¦ 30 ä¸ª Git å‘½ä»¤ã€‚ç„¶è€Œç”±äº Git ä¸€å¼€å§‹è¢«è®¾è®¡æˆä¾› VCS ä½¿ç”¨çš„å·¥å…·é›†è€Œä¸æ˜¯ä¸€æ•´å¥—ç”¨æˆ·å‹å¥½çš„ VCSï¼Œå®ƒè¿˜åŒ…å«äº†è®¸å¤šåº•å±‚å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤ç”¨äºä»¥ UNIX é£æ ¼ä½¿ç”¨æˆ–ç”±è„šæœ¬è°ƒç”¨ã€‚è¿™äº›å‘½ä»¤ä¸€èˆ¬è¢«ç§°ä¸º â€œplumbingâ€ å‘½ä»¤ï¼ˆåº•å±‚å‘½ä»¤ï¼‰ï¼Œå…¶ä»–çš„æ›´å‹å¥½çš„å‘½ä»¤åˆ™è¢«ç§°ä¸º â€œporcelainâ€ å‘½ä»¤ï¼ˆé«˜å±‚å‘½ä»¤ï¼‰ã€‚ å½“ä½ åœ¨ä¸€ä¸ªæ–°ç›®å½•æˆ–å·²æœ‰ç›®å½•å†…æ‰§è¡Œ git init æ—¶ï¼ŒGit ä¼šåˆ›å»ºä¸€ä¸ª .git ç›®å½•ï¼Œå‡ ä¹æ‰€æœ‰ Git å­˜å‚¨å’Œæ“ä½œçš„å†…å®¹éƒ½ä½äºè¯¥ç›®å½•ä¸‹ã€‚å¦‚æœä½ è¦å¤‡ä»½æˆ–å¤åˆ¶ä¸€ä¸ªåº“ï¼ŒåŸºæœ¬ä¸Šå°†è¿™ä¸€ç›®å½•æ‹·è´è‡³å…¶ä»–åœ°æ–¹å°±å¯ä»¥äº†ã€‚æœ¬ç« åŸºæœ¬ä¸Šéƒ½è®¨è®ºè¯¥ç›®å½•ä¸‹çš„å†…å®¹ã€‚è¯¥ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š $ ls HEAD branches/ config description hooks/ index info/ objects/ refs/ è¯¥ç›®å½•ä¸‹æœ‰å¯èƒ½è¿˜æœ‰å…¶ä»–æ–‡ä»¶ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„ git init ç”Ÿæˆçš„åº“ï¼Œæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹è¿™äº›å°±æ˜¯ä½ èƒ½çœ‹åˆ°çš„ç»“æ„ã€‚æ–°ç‰ˆæœ¬çš„ Git ä¸å†ä½¿ç”¨branches ç›®å½•ï¼Œdescription æ–‡ä»¶ä»…ä¾› GitWeb ç¨‹åºä½¿ç”¨ï¼Œæ‰€ä»¥ä¸ç”¨å…³å¿ƒè¿™äº›å†…å®¹ã€‚config æ–‡ä»¶åŒ…å«äº†é¡¹ç›®ç‰¹æœ‰çš„é…ç½®é€‰é¡¹ï¼Œinfo ç›®å½•ä¿å­˜äº†ä¸€ä»½ä¸å¸Œæœ›åœ¨ .gitignore æ–‡ä»¶ä¸­ç®¡ç†çš„å¿½ç•¥æ¨¡å¼ (ignored patterns) çš„å…¨å±€å¯æ‰§è¡Œæ–‡ä»¶ã€‚hooks ã€‚ å¦å¤–è¿˜æœ‰å››ä¸ªé‡è¦çš„æ–‡ä»¶æˆ–ç›®å½•ï¼šHEAD åŠ index æ–‡ä»¶ï¼Œobjects åŠrefs ç›®å½•ã€‚è¿™äº›æ˜¯ Git çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚objects ç›®å½•å­˜å‚¨æ‰€æœ‰æ•°æ®å†…å®¹ï¼Œrefs ç›®å½•å­˜å‚¨æŒ‡å‘æ•°æ® (åˆ†æ”¯) çš„æäº¤å¯¹è±¡çš„æŒ‡é’ˆï¼ŒHEAD æ–‡ä»¶æŒ‡å‘å½“å‰åˆ†æ”¯ï¼Œindex æ–‡ä»¶ä¿å­˜äº†æš‚å­˜åŒºåŸŸä¿¡æ¯ã€‚ Git å¯¹è±¡ Git æ˜¯ä¸€å¥—å†…å®¹å¯»å€æ–‡ä»¶ç³»ç»Ÿã€‚è¿™ç§è¯´æ³•çš„æ„æ€æ˜¯ï¼Œä»å†…éƒ¨æ¥çœ‹ï¼ŒGit æ˜¯ç®€å•çš„ key-value æ•°æ®å­˜å‚¨ã€‚å®ƒå…è®¸æ’å…¥ä»»æ„ç±»å‹çš„å†…å®¹ï¼Œå¹¶ä¼šè¿”å›ä¸€ä¸ªé”®å€¼ï¼Œé€šè¿‡è¯¥é”®å€¼å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å†å–å‡ºè¯¥å†…å®¹ã€‚å¯ä»¥é€šè¿‡åº•å±‚å‘½ä»¤hash-object æ¥ç¤ºèŒƒè¿™ç‚¹ï¼Œä¼ ä¸€äº›æ•°æ®ç»™è¯¥å‘½ä»¤ï¼Œå®ƒä¼šå°†æ•°æ®ä¿å­˜åœ¨ .git ç›®å½•å¹¶è¿”å›è¡¨ç¤ºè¿™äº›æ•°æ®çš„é”®å€¼ã€‚é¦–å…ˆåˆä½¿åŒ–ä¸€ä¸ª Git ä»“åº“å¹¶ç¡®è®¤objects ç›®å½•æ˜¯ç©ºçš„ï¼š $ mkdir test $ cd test $ git init Initialized empty Git repository in /tmp/test/.git/ $ find .git/objects .git/objects .git/objects/info .git/objects/pack $ find .git/objects -type f Git åˆå§‹åŒ–äº† objects ç›®å½•ï¼ŒåŒæ—¶åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºäº† pack å’Œ info å­ç›®å½•ï¼Œä½†æ˜¯è¯¥ç›®å½•ä¸‹æ²¡æœ‰å…¶ä»–å¸¸è§„æ–‡ä»¶ã€‚æˆ‘ä»¬å¾€è¿™ä¸ª Git æ•°æ®åº“é‡Œå­˜å‚¨ä¸€äº›æ–‡æœ¬ï¼š $ echo &apos;test content&apos; | git hash-object -w --stdin d670460b4b4aece5915caf5c68d12f560a9fe3e4 å‚æ•° -w æŒ‡ç¤º hash-object å‘½ä»¤å­˜å‚¨ (æ•°æ®) å¯¹è±¡ï¼Œè‹¥ä¸æŒ‡å®šè¿™ä¸ªå‚æ•°è¯¥å‘½ä»¤ä»…ä»…è¿”å›é”®å€¼ã€‚â€“stdin æŒ‡å®šä»æ ‡å‡†è¾“å…¥è®¾å¤‡ (stdin) æ¥è¯»å–å†…å®¹ï¼Œè‹¥ä¸æŒ‡å®šè¿™ä¸ªå‚æ•°åˆ™éœ€æŒ‡å®šä¸€ä¸ªè¦å­˜å‚¨çš„æ–‡ä»¶çš„è·¯å¾„ã€‚è¯¥å‘½ä»¤è¾“å‡ºé•¿åº¦ä¸º 40 ä¸ªå­—ç¬¦çš„æ ¡éªŒå’Œã€‚è¿™æ˜¯ä¸ª SHA-1 å“ˆå¸Œå€¼â”€â”€å…¶å€¼ä¸ºè¦å­˜å‚¨çš„æ•°æ®åŠ ä¸Šä½ é©¬ä¸Šä¼šäº†è§£åˆ°çš„ä¸€ç§å¤´ä¿¡æ¯çš„æ ¡éªŒå’Œã€‚ç°åœ¨å¯ä»¥æŸ¥çœ‹åˆ° Git å·²ç»å­˜å‚¨äº†æ•°æ® $ find .git/objects -type f .git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4 å¯ä»¥åœ¨ objects ç›®å½•ä¸‹çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ã€‚è¿™ä¾¿æ˜¯ Git å­˜å‚¨æ•°æ®å†…å®¹çš„æ–¹å¼â”€â”€ä¸ºæ¯ä»½å†…å®¹ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œå–å¾—è¯¥å†…å®¹ä¸å¤´ä¿¡æ¯çš„ SHA-1 æ ¡éªŒå’Œï¼Œåˆ›å»ºä»¥è¯¥æ ¡éªŒå’Œå‰ä¸¤ä¸ªå­—ç¬¦ä¸ºåç§°çš„å­ç›®å½•ï¼Œå¹¶ä»¥ (æ ¡éªŒå’Œ) å‰©ä¸‹ 38 ä¸ªå­—ç¬¦ä¸ºæ–‡ä»¶å‘½å (ä¿å­˜è‡³å­ç›®å½•ä¸‹)ã€‚ é€šè¿‡ cat-file å‘½ä»¤å¯ä»¥å°†æ•°æ®å†…å®¹å–å›ã€‚è¯¥å‘½ä»¤æ˜¯æŸ¥çœ‹ Git å¯¹è±¡çš„ç‘å£«å†›åˆ€ã€‚ä¼ å…¥ -p å‚æ•°å¯ä»¥è®©è¯¥å‘½ä»¤è¾“å‡ºæ•°æ®å†…å®¹çš„ç±»å‹ $ git cat-file -p d670460b4b4aece5915caf5c68d12f560a9fe3e4 test content å¯ä»¥å¾€ Git ä¸­æ·»åŠ æ›´å¤šå†…å®¹å¹¶å–å›äº†ã€‚ä¹Ÿå¯ä»¥ç›´æ¥æ·»åŠ æ–‡ä»¶ã€‚æ¯”æ–¹è¯´å¯ä»¥å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œç®€å•çš„ç‰ˆæœ¬æ§åˆ¶ã€‚é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶æŠŠæ–‡ä»¶å†…å®¹å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼š $ echo &apos;version 1&apos; &gt; test.txt $ git hash-object -w test.txt 83baae61804e65cc73a7201a7252750c76066a30 æ¥ç€å¾€è¯¥æ–‡ä»¶ä¸­å†™å…¥ä¸€äº›æ–°å†…å®¹å¹¶å†æ¬¡ä¿å­˜ $ echo &apos;version 2&apos; &gt; test.txt $ git hash-object -w test.txt 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a æ•°æ®åº“ä¸­å·²ç»å°†æ–‡ä»¶çš„ä¸¤ä¸ªæ–°ç‰ˆæœ¬è¿åŒä¸€å¼€å§‹çš„å†…å®¹ä¿å­˜ä¸‹æ¥äº†ï¼š $ find .git/objects -type f .git/objects/1f/7a7a472abf3dd9643fd615f6da379c4acb3e3a .git/objects/83/baae61804e65cc73a7201a7252750c76066a30 .git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4 å†å°†æ–‡ä»¶æ¢å¤åˆ°ç¬¬ä¸€ä¸ªç‰ˆæœ¬ $ git cat-file -p 83baae61804e65cc73a7201a7252750c76066a30 &gt; test.txt $ cat test.txt version 1 æˆ–æ¢å¤åˆ°ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼š $ git cat-file -p 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a &gt; test.txt $ cat test.txt version 2 éœ€è¦è®°ä½çš„æ˜¯å‡ ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ SHA-1 å€¼å¯èƒ½ä¸å®é™…çš„å€¼ä¸åŒï¼Œå…¶æ¬¡ï¼Œå­˜å‚¨çš„å¹¶ä¸æ˜¯æ–‡ä»¶åè€Œä»…ä»…æ˜¯æ–‡ä»¶å†…å®¹ã€‚è¿™ç§å¯¹è±¡ç±»å‹ç§°ä¸º blob ã€‚é€šè¿‡ä¼ é€’ SHA-1 å€¼ç»™cat-file -t å‘½ä»¤å¯ä»¥è®© Git è¿”å›ä»»ä½•å¯¹è±¡çš„ç±»å‹ï¼š $ git cat-file -t 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a blob tree (æ ‘) å¯¹è±¡ æ¥ä¸‹å»æ¥çœ‹ tree å¯¹è±¡ï¼Œtree å¯¹è±¡å¯ä»¥å­˜å‚¨æ–‡ä»¶åï¼ŒåŒæ—¶ä¹Ÿå…è®¸å­˜å‚¨ä¸€ç»„æ–‡ä»¶ã€‚Git ä»¥ä¸€ç§ç±»ä¼¼ UNIX æ–‡ä»¶ç³»ç»Ÿä½†æ›´ç®€å•çš„æ–¹å¼æ¥å­˜å‚¨å†…å®¹ã€‚æ‰€æœ‰å†…å®¹ä»¥ tree æˆ– blob å¯¹è±¡å­˜å‚¨ï¼Œå…¶ä¸­ tree å¯¹è±¡å¯¹åº”äº UNIX ä¸­çš„ç›®å½•ï¼Œblob å¯¹è±¡åˆ™å¤§è‡´å¯¹åº”äº inodes æˆ–æ–‡ä»¶å†…å®¹ã€‚ä¸€ä¸ªå•ç‹¬çš„ tree å¯¹è±¡åŒ…å«ä¸€æ¡æˆ–å¤šæ¡ tree è®°å½•ï¼Œæ¯ä¸€æ¡è®°å½•å«æœ‰ä¸€ä¸ªæŒ‡å‘ blob æˆ–å­ tree å¯¹è±¡çš„ SHA-1 æŒ‡é’ˆï¼Œå¹¶é™„æœ‰è¯¥å¯¹è±¡çš„æƒé™æ¨¡å¼ (mode)ã€ç±»å‹å’Œæ–‡ä»¶åä¿¡æ¯ã€‚ä»¥ simplegit é¡¹ç›®ä¸ºä¾‹ï¼Œæœ€æ–°çš„ tree å¯èƒ½æ˜¯è¿™ä¸ªæ ·å­ï¼š $ git cat-file -p master^{tree} 100644 blob a906cb2a4a904a152e80877d4088654daad0c859 README 100644 blob 8f94139338f9404f26296befa88755fc2598c289 Rakefile 040000 tree 99f1a6d12cb4b6f19c8655fca46c3ecf317074e0 lib å…·ä½“ç”ŸæˆåŠæ³•å¾€ä¸‹çœ‹ï¼Œè¿™ä¸ªä»£ç å¯ä»¥æš‚æ—¶ä¸éªŒè¯ master^{tree} è¡¨ç¤º branch åˆ†æ”¯ä¸Šæœ€æ–°æäº¤æŒ‡å‘çš„ tree å¯¹è±¡ã€‚è¯·æ³¨æ„ lib å­ç›®å½•å¹¶éä¸€ä¸ª blob å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘åˆ«ä¸€ä¸ª tree å¯¹è±¡çš„æŒ‡é’ˆï¼š $ git cat-file -p 99f1a6d12cb4b6f19c8655fca46c3ecf317074e0 100644 blob 47c6340d6459e05787f644c2447d2595f5d3a54b simplegit.rb ä»æ¦‚å¿µä¸Šæ¥è®²ï¼ŒGit ä¿å­˜çš„æ•°æ®å¦‚å›¾ ä½ å¯ä»¥è‡ªå·±åˆ›å»º tree ã€‚é€šå¸¸ Git æ ¹æ®ä½ çš„æš‚å­˜åŒºåŸŸæˆ– index æ¥åˆ›å»ºå¹¶å†™å…¥ä¸€ä¸ª tree ã€‚å› æ­¤è¦åˆ›å»ºä¸€ä¸ª tree å¯¹è±¡çš„è¯é¦–å…ˆè¦é€šè¿‡å°†ä¸€äº›æ–‡ä»¶æš‚å­˜ä»è€Œåˆ›å»ºä¸€ä¸ª index ã€‚å¯ä»¥ä½¿ç”¨ plumbing å‘½ä»¤update-index ä¸ºä¸€ä¸ªå•ç‹¬æ–‡ä»¶ â”€â”€ test.txt æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ â”€â”€ åˆ›å»ºä¸€ä¸ª index ã€‚é€šè¿‡è¯¥å‘½ä»¤äººä¸ºçš„å°† test.txt æ–‡ä»¶çš„é¦–ä¸ªç‰ˆæœ¬åŠ å…¥åˆ°äº†ä¸€ä¸ªæ–°çš„æš‚å­˜åŒºåŸŸä¸­ã€‚ç”±äºè¯¥æ–‡ä»¶åŸå…ˆå¹¶ä¸åœ¨æš‚å­˜åŒºåŸŸä¸­ (ç”šè‡³å°±è¿æš‚å­˜åŒºåŸŸä¹Ÿè¿˜æ²¡è¢«åˆ›å»ºå‡ºæ¥å‘¢) ï¼Œå¿…é¡»ä¼ å…¥â€“add å‚æ•°;ç”±äºè¦æ·»åŠ çš„æ–‡ä»¶å¹¶ä¸åœ¨å½“å‰ç›®å½•ä¸‹è€Œæ˜¯åœ¨æ•°æ®åº“ä¸­ï¼Œå¿…é¡»ä¼ å…¥ â€“cacheinfo å‚æ•°ã€‚åŒæ—¶æŒ‡å®šäº†æ–‡ä»¶æ¨¡å¼ï¼ŒSHA-1 å€¼å’Œæ–‡ä»¶åï¼š $ git update-index --add --cacheinfo 100644 83baae61804e65cc73a7201a7252750c76066a30 test.txt åœ¨æœ¬ä¾‹ä¸­ï¼ŒæŒ‡å®šäº†æ–‡ä»¶æ¨¡å¼ä¸º 100644ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ã€‚å…¶ä»–å¯ç”¨çš„æ¨¡å¼æœ‰ï¼š100755 è¡¨ç¤ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œ120000 è¡¨ç¤ºç¬¦å·é“¾æ¥ã€‚æ–‡ä»¶æ¨¡å¼æ˜¯ä»å¸¸è§„çš„ UNIX æ–‡ä»¶æ¨¡å¼ä¸­å‚è€ƒæ¥çš„ï¼Œä½†æ˜¯æ²¡æœ‰é‚£ä¹ˆçµæ´» â”€â”€ ä¸Šè¿°ä¸‰ç§æ¨¡å¼ä»…å¯¹ Git ä¸­çš„æ–‡ä»¶ (blobs) æœ‰æ•ˆ (è™½ç„¶ä¹Ÿæœ‰å…¶ä»–æ¨¡å¼ç”¨äºç›®å½•å’Œå­æ¨¡å—)ã€‚ ç°åœ¨å¯ä»¥ç”¨ write-tree å‘½ä»¤å°†æš‚å­˜åŒºåŸŸçš„å†…å®¹å†™åˆ°ä¸€ä¸ª tree å¯¹è±¡äº†ã€‚æ— éœ€ -w å‚æ•° â”€â”€ å¦‚æœç›®æ ‡ tree ä¸å­˜åœ¨ï¼Œè°ƒç”¨write-tree ä¼šè‡ªåŠ¨æ ¹æ® index çŠ¶æ€åˆ›å»ºä¸€ä¸ª tree å¯¹è±¡ã€‚ $ git write-tree d8329fc1cc938780ffdd9f94e0d364e0ea74f579 $ git cat-file -p d8329fc1cc938780ffdd9f94e0d364e0ea74f579 100644 blob 83baae61804e65cc73a7201a7252750c76066a30 test.txt å¯ä»¥è¿™æ ·éªŒè¯è¿™ç¡®å®æ˜¯ä¸€ä¸ª tree å¯¹è±¡ $ git cat-file -t d8329fc1cc938780ffdd9f94e0d364e0ea74f579 tree å†æ ¹æ® test.txt çš„ç¬¬äºŒä¸ªç‰ˆæœ¬ä»¥åŠä¸€ä¸ªæ–°æ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–° tree å¯¹è±¡ï¼š $ echo &apos;new file&apos; &gt; new.txt $ git update-index test.txt $ git update-index --add new.txt è¿™æ—¶æš‚å­˜åŒºåŸŸä¸­åŒ…å«äº† test.txt çš„æ–°ç‰ˆæœ¬åŠä¸€ä¸ªæ–°æ–‡ä»¶ new.txt ã€‚åˆ›å»º (å†™) è¯¥ tree å¯¹è±¡ (å°†æš‚å­˜åŒºåŸŸæˆ– index çŠ¶æ€å†™å…¥åˆ°ä¸€ä¸ª tree å¯¹è±¡)ï¼Œç„¶åç§ç§å®ƒçš„æ ·å­ $ git write-tree 0155eb4229851634a0f03eb265b69f5a2d56f341 $ git cat-file -p 0155eb4229851634a0f03eb265b69f5a2d56f341 100644 blob fa49b077972391ad58037050f2a75f74e3671e92 new.txt 100644 blob 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a test.txt è¯·æ³¨æ„è¯¥ tree å¯¹è±¡åŒ…å«äº†ä¸¤ä¸ªæ–‡ä»¶è®°å½•ï¼Œä¸” test.txt çš„ SHA å€¼æ˜¯æ—©å…ˆå€¼çš„ â€œç¬¬äºŒç‰ˆâ€ (1f7a7a)ã€‚æ¥ç‚¹æ›´æœ‰è¶£çš„ï¼Œä½ å°†æŠŠç¬¬ä¸€ä¸ª tree å¯¹è±¡ä½œä¸ºä¸€ä¸ªå­ç›®å½•åŠ è¿›è¯¥ tree ä¸­ã€‚å¯ä»¥ç”¨read-tree å‘½ä»¤å°† tree å¯¹è±¡è¯»åˆ°æš‚å­˜åŒºåŸŸä¸­å»ã€‚åœ¨è¿™æ—¶ï¼Œé€šè¿‡ä¼ ä¸€ä¸ª â€“prefix å‚æ•°ç»™ read-treeï¼Œå°†ä¸€ä¸ªå·²æœ‰çš„ tree å¯¹è±¡ä½œä¸ºä¸€ä¸ªå­ tree è¯»åˆ°æš‚å­˜åŒºåŸŸä¸­ $ git read-tree --prefix=bak d8329fc1cc938780ffdd9f94e0d364e0ea74f579 $ git write-tree 3c4e9cd789d88d8d89c1073707c3585e41b0e614 $ git cat-file -p 3c4e9cd789d88d8d89c1073707c3585e41b0e614 040000 tree d8329fc1cc938780ffdd9f94e0d364e0ea74f579 bak 100644 blob fa49b077972391ad58037050f2a75f74e3671e92 new.txt 100644 blob 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a test.txt å¦‚æœä»åˆšå†™å…¥çš„æ–° tree å¯¹è±¡åˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•ï¼Œå°†å¾—åˆ°ä½äºå·¥ä½œç›®å½•é¡¶çº§çš„ä¸¤ä¸ªæ–‡ä»¶å’Œä¸€ä¸ªåä¸º bak çš„å­ç›®å½•ï¼Œè¯¥å­ç›®å½•åŒ…å«äº† test.txt æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚å¯ä»¥å°† Git ç”¨æ¥åŒ…å«è¿™äº›å†…å®¹çš„æ•°æ®æƒ³è±¡æˆå¦‚å›¾ æ‰€ç¤ºçš„æ ·å­ commit (æäº¤) å¯¹è±¡ ä½ ç°åœ¨æœ‰ä¸‰ä¸ª tree å¯¹è±¡ï¼Œå®ƒä»¬æŒ‡å‘äº†ä½ è¦è·Ÿè¸ªçš„é¡¹ç›®çš„ä¸åŒå¿«ç…§ï¼Œå¯æ˜¯å…ˆå‰çš„é—®é¢˜ä¾ç„¶å­˜åœ¨ï¼šå¿…é¡»è®°å¾€ä¸‰ä¸ª SHA-1 å€¼ä»¥è·å¾—è¿™äº›å¿«ç…§ã€‚ä½ ä¹Ÿæ²¡æœ‰å…³äºè°ã€ä½•æ—¶ä»¥åŠä¸ºä½•ä¿å­˜äº†è¿™äº›å¿«ç…§çš„ä¿¡æ¯ã€‚commit å¯¹è±¡ä¸ºä½ ä¿å­˜äº†è¿™äº›åŸºæœ¬ä¿¡æ¯ã€‚ è¦åˆ›å»ºä¸€ä¸ª commit å¯¹è±¡ï¼Œä½¿ç”¨ commit-tree å‘½ä»¤ï¼ŒæŒ‡å®šä¸€ä¸ª tree çš„ SHA-1ï¼Œå¦‚æœæœ‰ä»»ä½•å‰ç»§æäº¤å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šã€‚ä»ä½ å†™çš„ç¬¬ä¸€ä¸ª tree å¼€å§‹ï¼š $ echo &apos;first commit&apos; | git commit-tree d8329f fdf4fc3344e67ab068f836878b6c4951e3b15f3d é€šè¿‡ cat-file æŸ¥çœ‹è¿™ä¸ªæ–° commit å¯¹è±¡ $ git cat-file -p fdf4fc3 tree d8329fc1cc938780ffdd9f94e0d364e0ea74f579 author Scott Chacon 1243040974 -0700 committer Scott Chacon 1243040974 -0700 first commit commit å¯¹è±¡æœ‰æ ¼å¼å¾ˆç®€å•ï¼šæŒ‡æ˜äº†è¯¥æ—¶é—´ç‚¹é¡¹ç›®å¿«ç…§çš„é¡¶å±‚æ ‘å¯¹è±¡ã€ä½œè€…/æäº¤è€…ä¿¡æ¯ï¼ˆä» Git è®¾ç†å‘åº—çš„ user.name å’Œuser.emailä¸­è·å¾—)ä»¥åŠå½“å‰æ—¶é—´æˆ³ã€ä¸€ä¸ªç©ºè¡Œï¼Œä»¥åŠæäº¤æ³¨é‡Šä¿¡æ¯ã€‚ æ¥ç€å†å†™å…¥å¦å¤–ä¸¤ä¸ª commit å¯¹è±¡ï¼Œæ¯ä¸€ä¸ªéƒ½æŒ‡å®šå…¶ä¹‹å‰çš„é‚£ä¸ª commit å¯¹è±¡ $ echo &apos;second commit&apos; | git commit-tree 0155eb -p fdf4fc3 cac0cab538b970a37ea1e769cbbde608743bc96d $ echo &apos;third commit&apos; | git commit-tree 3c4e9c -p cac0cab 1a410efbd13591db07496601ebc7a059dd55cfe9 æ¯ä¸€ä¸ª commit å¯¹è±¡éƒ½æŒ‡å‘äº†ä½ åˆ›å»ºçš„æ ‘å¯¹è±¡å¿«ç…§ã€‚å‡ºä¹æ„æ–™çš„æ˜¯ï¼Œç°åœ¨å·²ç»æœ‰äº†çœŸå®çš„ Git å†å²äº†ï¼Œæ‰€ä»¥å¦‚æœè¿è¡Œ git log å‘½ä»¤å¹¶æŒ‡å®šæœ€åé‚£ä¸ª commit å¯¹è±¡çš„ SHA-1 ä¾¿å¯ä»¥æŸ¥çœ‹å†å²ï¼š $ git log --stat 1a410e commit 1a410efbd13591db07496601ebc7a059dd55cfe9 Author: Scott Chacon Date: Fri May 22 18:15:24 2009 -0700 third commit bak/test.txt | 1 + 1 files changed, 1 insertions(+), 0 deletions(-) commit cac0cab538b970a37ea1e769cbbde608743bc96d Author: Scott Chacon Date: Fri May 22 18:14:29 2009 -0700 second commit new.txt | 1 + test.txt | 2 +- 2 files changed, 2 insertions(+), 1 deletions(-) commit fdf4fc3344e67ab068f836878b6c4951e3b15f3d Author: Scott Chacon Date: Fri May 22 18:09:34 2009 -0700 first commit test.txt | 1 + 1 files changed, 1 insertions(+), 0 deletions(-) çœŸæ£’ã€‚ä½ åˆšåˆšé€šè¿‡ä½¿ç”¨ä½çº§æ“ä½œè€Œä¸æ˜¯é‚£äº›æ™®é€šå‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ª Git å†å²ã€‚è¿™åŸºæœ¬ä¸Šå°±æ˜¯è¿è¡Œ git add å’Œ git commit å‘½ä»¤æ—¶ Git è¿›è¡Œçš„å·¥ä½œ â”€â”€ä¿å­˜ä¿®æ”¹äº†çš„æ–‡ä»¶çš„ blobï¼Œæ›´æ–°ç´¢å¼•ï¼Œåˆ›å»º tree å¯¹è±¡ï¼Œæœ€ååˆ›å»º commit å¯¹è±¡ï¼Œè¿™äº› commit å¯¹è±¡æŒ‡å‘äº†é¡¶å±‚ tree å¯¹è±¡ä»¥åŠå…ˆå‰çš„ commit å¯¹è±¡ã€‚è¿™ä¸‰ç±» Git å¯¹è±¡ â”€â”€ blobï¼Œtree ä»¥åŠ tree â”€â”€ éƒ½å„è‡ªä»¥æ–‡ä»¶çš„æ–¹å¼ä¿å­˜åœ¨.git/objects ç›®å½•ä¸‹ã€‚ä»¥ä¸‹æ‰€åˆ—æ˜¯ç›®å‰ä¸ºæ­¢æ ·ä¾‹ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡åé¢çš„æ³¨é‡Šé‡Œæ ‡æ˜äº†å®ƒä»¬ä¿å­˜çš„å†…å®¹ï¼š $ find .git/objects -type f .git/objects/01/55eb4229851634a0f03eb265b69f5a2d56f341 # tree 2 .git/objects/1a/410efbd13591db07496601ebc7a059dd55cfe9 # commit 3 .git/objects/1f/7a7a472abf3dd9643fd615f6da379c4acb3e3a # test.txt v2 .git/objects/3c/4e9cd789d88d8d89c1073707c3585e41b0e614 # tree 3 .git/objects/83/baae61804e65cc73a7201a7252750c76066a30 # test.txt v1 .git/objects/ca/c0cab538b970a37ea1e769cbbde608743bc96d # commit 2 .git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4 # &apos;test content&apos; .git/objects/d8/329fc1cc938780ffdd9f94e0d364e0ea74f579 # tree 1 .git/objects/fa/49b077972391ad58037050f2a75f74e3671e92 # new.txt .git/objects/fd/f4fc3344e67ab068f836878b6c4951e3b15f3d # commit 1 å¦‚æœä½ æŒ‰ç…§ä»¥ä¸Šæè¿°è¿›è¡Œäº†æ“ä½œï¼Œå¯ä»¥å¾—åˆ°å¦‚å›¾æ‰€ç¤ºçš„å¯¹è±¡å›¾ ###åŸç†å›¾ è¿™å¼ å›¾èƒ½æ¯”è¾ƒç›´è§‚çš„çœ‹å‡ºgit çš„å·¥ä½œåŸç†å’Œç®€å•å…³é”®å‘½ä»¤ã€‚ åº•å±‚å‘½ä»¤ (Plumbing) å’Œé«˜å±‚å‘½ä»¤ (Porcelain) é¦–å…ˆè¦å¼„æ˜ç™½ä¸€ç‚¹ï¼Œä»æ ¹æœ¬ä¸Šæ¥è®² Git æ˜¯ä¸€å¥—å†…å®¹å¯»å€ (content-addressable) æ–‡ä»¶ç³»ç»Ÿã€‚ ###git ç›®å½• ###å…³äºç‰ˆæœ¬æ§åˆ¶ï¼ˆå¯ä»¥ä¸çœ‹ï¼Œè®²è¿°gitçš„ç”±æ¥ï¼‰ æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ è®¸å¤šäººä¹ æƒ¯ç”¨å¤åˆ¶æ•´ä¸ªé¡¹ç›®ç›®å½•çš„æ–¹å¼æ¥ä¿å­˜ä¸åŒçš„ç‰ˆæœ¬ï¼Œæˆ–è®¸è¿˜ä¼šæ”¹ååŠ ä¸Šå¤‡ä»½æ—¶é—´ä»¥ç¤ºåŒºåˆ«ã€‚è¿™ä¹ˆåšå”¯ä¸€çš„å¥½å¤„å°±æ˜¯ç®€å•ã€‚ä¸è¿‡åå¤„ä¹Ÿä¸å°‘ï¼šæœ‰æ—¶å€™ä¼šæ··æ·†æ‰€åœ¨çš„å·¥ä½œç›®å½•ï¼Œä¸€æ—¦å¼„é”™æ–‡ä»¶ä¸¢äº†æ•°æ®å°±æ²¡æ³•æ’¤é”€æ¢å¤ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œäººä»¬å¾ˆä¹…ä»¥å‰å°±å¼€å‘äº†è®¸å¤šç§æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¤§å¤šéƒ½æ˜¯é‡‡ç”¨æŸç§ç®€å•çš„æ•°æ®åº“æ¥è®°å½•æ–‡ä»¶çš„å†æ¬¡æ›´æ–°å·®å¼‚ã€‚ å…¶ä¸­æœ€æµè¡Œçš„ä¸€ç§å«åš rcsï¼Œç°ä»Šè®¸å¤šè®¡ç®—æœºç³»ç»Ÿä¸Šéƒ½è¿˜çœ‹å¾—åˆ°å®ƒçš„è¸ªå½±ã€‚ç”šè‡³åœ¨æµè¡Œçš„ Mac OS X ç³»ç»Ÿä¸Šå®‰è£…äº†å¼€å‘è€…å·¥å…·åŒ…ä¹‹åï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ rcs å‘½ä»¤ã€‚å®ƒçš„å·¥ä½œåŸç†åŸºæœ¬ä¸Šå°±æ˜¯ä¿å­˜å¹¶ç®¡ç†æ–‡ä»¶è¡¥ä¸ï¼ˆpatchï¼‰ã€‚æ–‡ä»¶è¡¥ä¸æ˜¯ä¸€ç§ç‰¹å®šæ ¼å¼çš„æ–‡æœ¬æ–‡ä»¶ï¼Œè®°å½•ç€å¯¹åº”æ–‡ä»¶ä¿®è®¢å‰åçš„å†…å®¹å˜åŒ–ã€‚æ‰€ä»¥ï¼Œæ ¹æ®æ¯æ¬¡ ä¿®è®¢åçš„è¡¥ä¸ï¼Œrcs å¯ä»¥é€šè¿‡ä¸æ–­æ‰“è¡¥ä¸ï¼Œè®¡ç®—å‡ºå„ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶å†…å®¹ã€‚ é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ æ¥ä¸‹æ¥äººä»¬åˆé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•è®©åœ¨ä¸åŒç³»ç»Ÿä¸Šçš„å¼€å‘è€…ååŒå·¥ä½œï¼Ÿäºæ˜¯ï¼Œé›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆ Centralized Version Control Systemsï¼Œç®€ç§° CVCS ï¼‰åº”è¿è€Œç”Ÿã€‚è¿™ç±»ç³»ç»Ÿï¼Œè¯¸å¦‚ CVSï¼ŒSubversion ä»¥åŠ Perforce ç­‰ï¼Œéƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„é›†ä¸­ç®¡ç†çš„æœåŠ¡å™¨ï¼Œä¿å­˜æ‰€æœ‰æ–‡ä»¶çš„ä¿®è®¢ç‰ˆæœ¬ï¼Œè€ŒååŒå·¥ä½œçš„äººä»¬éƒ½é€šè¿‡å®¢æˆ·ç«¯è¿åˆ°è¿™å°æœåŠ¡å™¨ï¼Œå–å‡ºæœ€æ–°çš„æ–‡ä»¶æˆ–è€…æäº¤æ›´æ–°ã€‚å¤šå¹´ä»¥æ¥ï¼Œè¿™ å·²æˆä¸ºç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„æ ‡å‡†åšæ³• è¿™ç§åšæ³•å¸¦æ¥äº†è®¸å¤šå¥½å¤„ï¼Œç‰¹åˆ«æ˜¯ç›¸è¾ƒäºè€å¼çš„æœ¬åœ° VCS æ¥è¯´ã€‚ç°åœ¨ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šçœ‹åˆ°é¡¹ç›®ä¸­çš„å…¶ä»–äººæ­£åœ¨åšäº›ä»€ä¹ˆã€‚è€Œç®¡ç†å‘˜ä¹Ÿå¯ä»¥è½»æ¾æŒæ§æ¯ä¸ªå¼€å‘è€…çš„æƒé™ï¼Œå¹¶ä¸”ç®¡ç†ä¸€ä¸ª CVCS è¦è¿œæ¯”åœ¨å„ä¸ªå®¢æˆ·ç«¯ä¸Šç»´æŠ¤æœ¬åœ°æ•°æ®åº“æ¥å¾—è½»æ¾å®¹æ˜“ã€‚ äº‹åˆ†ä¸¤é¢ï¼Œæœ‰å¥½æœ‰åã€‚è¿™ä¹ˆåšæœ€æ˜¾è€Œæ˜“è§çš„ç¼ºç‚¹æ˜¯ä¸­å¤®æœåŠ¡å™¨çš„å•ç‚¹æ•…éšœã€‚å¦‚æœå®•æœºä¸€å°æ—¶ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸€å°æ—¶å†…ï¼Œè°éƒ½æ— æ³•æäº¤æ›´æ–°ï¼Œä¹Ÿå°±æ— æ³•ååŒå·¥ä½œã€‚è¦ æ˜¯ä¸­å¤®æœåŠ¡å™¨çš„ç£ç›˜å‘ç”Ÿæ•…éšœï¼Œç¢°å·§æ²¡åšå¤‡ä»½ï¼Œæˆ–è€…å¤‡ä»½ä¸å¤ŸåŠæ—¶ï¼Œå°±è¿˜æ˜¯ä¼šæœ‰ä¸¢å¤±æ•°æ®çš„é£é™©ã€‚æœ€åçš„æƒ…å†µæ˜¯å½»åº•ä¸¢å¤±æ•´ä¸ªé¡¹ç›®çš„æ‰€æœ‰å†å²æ›´æ”¹è®°å½•ï¼Œè€Œè¢«å®¢æˆ·ç«¯ æå–å‡ºæ¥çš„æŸäº›å¿«ç…§æ•°æ®é™¤å¤–ï¼Œä½†è¿™æ ·çš„è¯ä¾ç„¶æ˜¯ä¸ªé—®é¢˜ï¼Œä½ ä¸èƒ½ä¿è¯æ‰€æœ‰çš„æ•°æ®éƒ½å·²ç»æœ‰äººäº‹å…ˆå®Œæ•´æå–å‡ºæ¥è¿‡ã€‚æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¹Ÿå­˜åœ¨ç±»ä¼¼é—®é¢˜ï¼Œåªè¦æ•´ä¸ªé¡¹ ç›®çš„å†å²è®°å½•è¢«ä¿å­˜åœ¨å•ä¸€ä½ç½®ï¼Œå°±æœ‰ä¸¢å¤±æ‰€æœ‰å†å²æ›´æ–°è®°å½•çš„é£é™© åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ äºæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆ Distributed Version Control Systemï¼Œç®€ç§° DVCS ï¼‰é¢ä¸–äº†ã€‚åœ¨è¿™ç±»ç³»ç»Ÿä¸­ï¼Œåƒ Gitï¼ŒMercurialï¼ŒBazaar ä»¥åŠ Darcs ç­‰ï¼Œå®¢æˆ·ç«¯å¹¶ä¸åªæå–æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶å¿«ç…§ï¼Œè€Œæ˜¯æŠŠåŸå§‹çš„ä»£ç ä»“åº“å®Œæ•´åœ°é•œåƒä¸‹æ¥ã€‚è¿™ä¹ˆä¸€æ¥ï¼Œä»»ä½•ä¸€å¤„ååŒå·¥ä½œç”¨çš„æœåŠ¡å™¨å‘ç”Ÿæ•…éšœï¼Œäº‹åéƒ½å¯ä»¥ç”¨ä»»ä½•ä¸€ä¸ªé•œ åƒå‡ºæ¥çš„æœ¬åœ°ä»“åº“æ¢å¤ã€‚å› ä¸ºæ¯ä¸€æ¬¡çš„æå–æ“ä½œï¼Œå®é™…ä¸Šéƒ½æ˜¯ä¸€æ¬¡å¯¹ä»£ç ä»“åº“çš„å®Œæ•´å¤‡ä»½ã€‚ æ›´è¿›ä¸€æ­¥ï¼Œè®¸å¤šè¿™ç±»ç³»ç»Ÿéƒ½å¯ä»¥æŒ‡å®šå’Œè‹¥å¹²ä¸åŒçš„è¿œç«¯ä»£ç ä»“åº“è¿›è¡Œäº¤äº’ã€‚ç±æ­¤ï¼Œä½ å°±å¯ä»¥åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œåˆ†åˆ«å’Œä¸åŒå·¥ä½œå°ç»„çš„äººç›¸äº’åä½œã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦è®¾å®šä¸åŒçš„åä½œæµç¨‹ï¼Œæ¯”å¦‚å±‚æ¬¡æ¨¡å‹å¼çš„å·¥ä½œæµï¼Œè€Œè¿™åœ¨ä»¥å‰çš„é›†ä¸­å¼ç³»ç»Ÿä¸­æ˜¯æ— æ³•å®ç°çš„ã€‚ ###gitåŸºç¡€ ç›´æ¥è®°å½•å¿«ç…§ï¼Œè€Œéå·®å¼‚æ¯”è¾ƒ Git å’Œå…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„ä¸»è¦å·®åˆ«åœ¨äºï¼ŒGit åªå…³å¿ƒæ–‡ä»¶æ•°æ®çš„æ•´ä½“æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œè€Œå¤§å¤šæ•°å…¶ä»–ç³»ç»Ÿåˆ™åªå…³å¿ƒæ–‡ä»¶å†…å®¹çš„å…·ä½“å·®å¼‚ã€‚è¿™ç±»ç³»ç»Ÿ ï¼ˆCVSï¼ŒSubversionï¼ŒPerforceï¼ŒBazaar ç­‰ç­‰ï¼‰æ¯æ¬¡è®°å½•æœ‰å“ªäº›æ–‡ä»¶ä½œäº†æ›´æ–°ï¼Œä»¥åŠéƒ½æ›´æ–°äº†å“ªäº›è¡Œçš„ä»€ä¹ˆå†…å®¹ Git å¹¶ä¸ä¿å­˜è¿™äº›å‰åå˜åŒ–çš„å·®å¼‚æ•°æ®ã€‚å®é™…ä¸Šï¼ŒGit æ›´åƒæ˜¯æŠŠå˜åŒ–çš„æ–‡ä»¶ä½œå¿«ç…§åï¼Œè®°å½•åœ¨ä¸€ä¸ªå¾®å‹çš„æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚æ¯æ¬¡æäº¤æ›´æ–°æ—¶ï¼Œå®ƒä¼šçºµè§ˆä¸€éæ‰€æœ‰æ–‡ä»¶çš„æŒ‡çº¹ä¿¡æ¯å¹¶å¯¹æ–‡ä»¶ä½œä¸€å¿«ç…§ï¼Œç„¶åä¿å­˜ä¸€ä¸ªæŒ‡å‘è¿™æ¬¡å¿«ç…§ çš„ç´¢å¼•ã€‚ä¸ºæé«˜æ€§èƒ½ï¼Œè‹¥æ–‡ä»¶æ²¡æœ‰å˜åŒ–ï¼ŒGit ä¸ä¼šå†æ¬¡ä¿å­˜ï¼Œè€Œåªå¯¹ä¸Šæ¬¡ä¿å­˜çš„å¿«ç…§ä½œä¸€é“¾æ¥ã€‚ è¿™æ˜¯ Git åŒå…¶ä»–ç³»ç»Ÿçš„é‡è¦åŒºåˆ«ã€‚å®ƒå®Œå…¨é¢ è¦†äº†ä¼ ç»Ÿç‰ˆæœ¬æ§åˆ¶çš„å¥—è·¯ï¼Œå¹¶å¯¹å„ä¸ªç¯èŠ‚çš„å®ç°æ–¹å¼ä½œäº†æ–°çš„è®¾è®¡ã€‚Git æ›´åƒæ˜¯ä¸ªå°å‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä½†å®ƒåŒæ—¶è¿˜æä¾›äº†è®¸å¤šä»¥æ­¤ä¸ºåŸºç¡€çš„è¶…å¼ºå·¥å…·ï¼Œè€Œä¸åªæ˜¯ä¸€ä¸ªç®€å•çš„ VCS è¿‘ä¹æ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ¬åœ°æ‰§è¡Œ åœ¨ Git ä¸­çš„ç»å¤§å¤šæ•°æ“ä½œéƒ½åªéœ€è¦è®¿é—®æœ¬åœ°æ–‡ä»¶å’Œèµ„æºï¼Œä¸ç”¨è¿ç½‘ã€‚ä½†å¦‚æœç”¨ CVCS çš„è¯ï¼Œå·®ä¸å¤šæ‰€æœ‰æ“ä½œéƒ½éœ€è¦è¿æ¥ç½‘ç»œã€‚å› ä¸º Git åœ¨æœ¬åœ°ç£ç›˜ä¸Šå°±ä¿å­˜ç€æ‰€æœ‰å½“å‰é¡¹ç›®çš„å†å²æ›´æ–°ï¼Œæ‰€ä»¥å¤„ç†èµ·æ¥é€Ÿåº¦é£å¿«ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœè¦æµè§ˆé¡¹ç›®çš„å†å²æ›´æ–°æ‘˜è¦ï¼ŒGit ä¸ç”¨è·‘åˆ°å¤–é¢çš„æœåŠ¡å™¨ä¸Šå»å–æ•°æ®å›æ¥ï¼Œè€Œç›´æ¥ä»æœ¬åœ°æ•°æ®åº“è¯»å–åå±•ç¤ºç»™ä½ çœ‹ã€‚æ‰€ä»¥ä»»ä½•æ—¶å€™ä½ éƒ½å¯ä»¥é©¬ä¸Šç¿»é˜…ï¼Œæ— éœ€ç­‰å¾…ã€‚å¦‚æœæƒ³è¦çœ‹å½“å‰ç‰ˆæœ¬çš„æ–‡ä»¶å’Œä¸€ä¸ªæœˆ å‰çš„ç‰ˆæœ¬ä¹‹é—´æœ‰ä½•å·®å¼‚ï¼ŒGit ä¼šå–å‡ºä¸€ä¸ªæœˆå‰çš„å¿«ç…§å’Œå½“å‰æ–‡ä»¶ä½œä¸€æ¬¡å·®å¼‚è¿ç®—ï¼Œè€Œä¸ç”¨è¯·æ±‚è¿œç¨‹æœåŠ¡å™¨æ¥åšè¿™ä»¶äº‹ï¼Œæˆ–æ˜¯æŠŠè€ç‰ˆæœ¬çš„æ–‡ä»¶æ‹‰åˆ°æœ¬åœ°æ¥ä½œæ¯”è¾ƒã€‚ æ—¶åˆ»ä¿æŒæ•°æ®å®Œæ•´æ€§ åœ¨ä¿å­˜åˆ° Git ä¹‹å‰ï¼Œæ‰€æœ‰æ•°æ®éƒ½è¦è¿›è¡Œå†…å®¹çš„æ ¡éªŒå’Œï¼ˆchecksumï¼‰è®¡ç®—ï¼Œå¹¶å°†æ­¤ç»“æœä½œä¸ºæ•°æ®çš„å”¯ä¸€æ ‡è¯†å’Œç´¢å¼•ã€‚æ¢å¥è¯è¯´ï¼Œä¸å¯èƒ½åœ¨ä½ ä¿®æ”¹äº†æ–‡ä»¶æˆ–ç›®å½•ä¹‹åï¼ŒGit ä¸€æ— æ‰€çŸ¥ã€‚è¿™é¡¹ç‰¹æ€§ä½œä¸º Git çš„è®¾è®¡å“²å­¦ï¼Œå»ºåœ¨æ•´ä½“æ¶æ„çš„æœ€åº•å±‚ã€‚æ‰€ä»¥å¦‚æœæ–‡ä»¶åœ¨ä¼ è¾“æ—¶å˜å¾—ä¸å®Œæ•´ï¼Œæˆ–è€…ç£ç›˜æŸåå¯¼è‡´æ–‡ä»¶æ•°æ®ç¼ºå¤±ï¼ŒGit éƒ½èƒ½ç«‹å³å¯Ÿè§‰ã€‚ Git ä½¿ç”¨ SHA-1 ç®—æ³•è®¡ç®—æ•°æ®çš„æ ¡éªŒå’Œï¼Œé€šè¿‡å¯¹æ–‡ä»¶çš„å†…å®¹æˆ–ç›®å½•çš„ç»“æ„è®¡ç®—å‡ºä¸€ä¸ª SHA-1 å“ˆå¸Œå€¼ï¼Œä½œä¸ºæŒ‡çº¹å­—ç¬¦ä¸²ã€‚è¯¥å­—ä¸²ç”± 40 ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ï¼ˆ0-9 åŠ a-fï¼‰ç»„æˆï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯ï¼š 24b9da6552252987aa493b52f8696cd6d3b00373 Git çš„å·¥ä½œå®Œå…¨ä¾èµ–äºè¿™ç±»æŒ‡çº¹å­—ä¸²ï¼Œæ‰€ä»¥ä½ ä¼šç»å¸¸çœ‹åˆ°è¿™æ ·çš„å“ˆå¸Œå€¼ã€‚å®é™…ä¸Šï¼Œæ‰€æœ‰ä¿å­˜åœ¨ Git æ•°æ®åº“ä¸­çš„ä¸œè¥¿éƒ½æ˜¯ç”¨æ­¤å“ˆå¸Œå€¼æ¥ä½œç´¢å¼•çš„ï¼Œè€Œä¸æ˜¯é æ–‡ä»¶åã€‚ å¤šæ•°æ“ä½œä»…æ·»åŠ æ•°æ® å¸¸ç”¨çš„ Git æ“ä½œå¤§å¤šä»…ä»…æ˜¯æŠŠæ•°æ®æ·»åŠ åˆ°æ•°æ®åº“ã€‚å› ä¸ºä»»ä½•ä¸€ç§ä¸å¯é€†çš„æ“ä½œï¼Œæ¯”å¦‚åˆ é™¤æ•°æ®ï¼Œéƒ½ä¼šä½¿å›é€€æˆ–é‡ç°å†å²ç‰ˆæœ¬å˜å¾—å›°éš¾é‡é‡ã€‚åœ¨åˆ«çš„ VCS ä¸­ï¼Œè‹¥è¿˜æœªæäº¤æ›´æ–°ï¼Œå°±æœ‰å¯èƒ½ä¸¢å¤±æˆ–è€…æ··æ·†ä¸€äº›ä¿®æ”¹çš„å†…å®¹ï¼Œä½†åœ¨ Git é‡Œï¼Œä¸€æ—¦æäº¤å¿«ç…§ä¹‹åå°±å®Œå…¨ä¸ç”¨æ‹…å¿ƒä¸¢å¤±æ•°æ®ï¼Œç‰¹åˆ«æ˜¯å…»æˆå®šæœŸæ¨é€åˆ°å…¶ä»–ä»“åº“çš„ä¹ æƒ¯çš„è¯ã€‚ æ–‡ä»¶çš„ä¸‰ç§çŠ¶æ€ å¥½ï¼Œç°åœ¨è¯·æ³¨æ„ï¼Œæ¥ä¸‹æ¥è¦è®²çš„æ¦‚å¿µéå¸¸é‡è¦ã€‚å¯¹äºä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨ Git å†…éƒ½åªæœ‰ä¸‰ç§çŠ¶æ€ï¼šå·²æäº¤ï¼ˆcommittedï¼‰ï¼Œå·²ä¿®æ”¹ï¼ˆmodifiedï¼‰å’Œå·²æš‚å­˜ï¼ˆstagedï¼‰ã€‚å·²æäº¤è¡¨ç¤ºè¯¥æ–‡ä»¶å·²ç»è¢«å®‰å…¨åœ°ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ ä¸­äº†ï¼›å·²ä¿®æ”¹è¡¨ç¤ºä¿®æ”¹äº†æŸä¸ªæ–‡ä»¶ï¼Œä½†è¿˜æ²¡æœ‰æäº¤ä¿å­˜ï¼›å·²æš‚å­˜è¡¨ç¤ºæŠŠå·²ä¿®æ”¹çš„æ–‡ä»¶æ”¾åœ¨ä¸‹æ¬¡æäº¤æ—¶è¦ä¿å­˜çš„æ¸…å•ä¸­ã€‚ ç”±æ­¤æˆ‘ä»¬çœ‹åˆ° Git ç®¡ç†é¡¹ç›®æ—¶ï¼Œæ–‡ä»¶æµè½¬çš„ä¸‰ä¸ªå·¥ä½œåŒºåŸŸï¼šGit çš„å·¥ä½œç›®å½•ï¼Œæš‚å­˜åŒºåŸŸï¼Œä»¥åŠæœ¬åœ°ä»“åº“ã€‚ æ¯ä¸ªé¡¹ç›®éƒ½æœ‰ä¸€ä¸ª Git ç›®å½•ï¼ˆè¯‘æ³¨ï¼šå¦‚æœ git clone å‡ºæ¥çš„è¯ï¼Œå°±æ˜¯å…¶ä¸­ .git çš„ç›®å½•ï¼›å¦‚æœgit clone â€“bare çš„è¯ï¼Œæ–°å»ºçš„ç›®å½•æœ¬èº«å°±æ˜¯ Git ç›®å½•ã€‚ï¼‰ï¼Œå®ƒæ˜¯ Git ç”¨æ¥ä¿å­˜å…ƒæ•°æ®å’Œå¯¹è±¡æ•°æ®åº“çš„åœ°æ–¹ã€‚è¯¥ç›®å½•éå¸¸é‡è¦ï¼Œæ¯æ¬¡å…‹éš†é•œåƒä»“åº“çš„æ—¶å€™ï¼Œå®é™…æ‹·è´çš„å°±æ˜¯è¿™ä¸ªç›®å½•é‡Œé¢çš„æ•°æ®ã€‚ ä»é¡¹ç›®ä¸­å–å‡ºæŸä¸ªç‰ˆæœ¬çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ï¼Œç”¨ä»¥å¼€å§‹åç»­å·¥ä½œçš„å«åšå·¥ä½œç›®å½•ã€‚è¿™äº›æ–‡ä»¶å®é™…ä¸Šéƒ½æ˜¯ä» Git ç›®å½•ä¸­çš„å‹ç¼©å¯¹è±¡æ•°æ®åº“ä¸­æå–å‡ºæ¥çš„ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥åœ¨å·¥ä½œç›®å½•ä¸­å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚ æ‰€è°“çš„æš‚å­˜åŒºåŸŸåªä¸è¿‡æ˜¯ä¸ªç®€å•çš„æ–‡ä»¶ï¼Œä¸€èˆ¬éƒ½æ”¾åœ¨ Git ç›®å½•ä¸­ã€‚æœ‰æ—¶å€™äººä»¬ä¼šæŠŠè¿™ä¸ªæ–‡ä»¶å«åšç´¢å¼•æ–‡ä»¶ï¼Œä¸è¿‡æ ‡å‡†è¯´æ³•è¿˜æ˜¯å«æš‚å­˜åŒºåŸŸã€‚ åŸºæœ¬çš„ Git å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š åœ¨å·¥ä½œç›®å½•ä¸­ä¿®æ”¹æŸäº›æ–‡ä»¶ã€‚ 2. å¯¹ä¿®æ”¹åçš„æ–‡ä»¶è¿›è¡Œå¿«ç…§ï¼Œç„¶åä¿å­˜åˆ°æš‚å­˜åŒºåŸŸã€‚ 3. æäº¤æ›´æ–°ï¼Œå°†ä¿å­˜åœ¨æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶å¿«ç…§æ°¸ä¹…è½¬å‚¨åˆ° Git ç›®å½•ä¸­ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ–‡ä»¶æ‰€å¤„çš„ä½ç½®æ¥åˆ¤æ–­çŠ¶æ€ï¼šå¦‚æœæ˜¯ Git ç›®å½•ä¸­ä¿å­˜ç€çš„ç‰¹å®šç‰ˆæœ¬æ–‡ä»¶ï¼Œå°±å±äºå·²æäº¤çŠ¶æ€ï¼›å¦‚æœä½œäº†ä¿®æ”¹å¹¶å·²æ”¾å…¥æš‚å­˜åŒºåŸŸï¼Œå°±å±äºå·²æš‚å­˜çŠ¶æ€ï¼›å¦‚æœè‡ªä¸Šæ¬¡å–å‡ºåï¼Œä½œäº†ä¿®æ”¹ä½†è¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºåŸŸï¼Œå°± æ˜¯å·²ä¿®æ”¹çŠ¶æ€ã€‚ è¯·è®°ä½ï¼Œå·¥ä½œç›®å½•ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¸å¤–ä¹è¿™ä¸¤ç§çŠ¶æ€ï¼šå·²è·Ÿè¸ªæˆ–æœªè·Ÿè¸ªã€‚å·²è·Ÿè¸ªçš„æ–‡ä»¶æ˜¯æŒ‡æœ¬æ¥å°±è¢«çº³å…¥ç‰ˆæœ¬æ§åˆ¶ç®¡ç†çš„æ–‡ä»¶ï¼Œåœ¨ä¸Šæ¬¡å¿«ç…§ä¸­æœ‰å®ƒä»¬çš„è®° å½•ï¼Œå·¥ä½œä¸€æ®µæ—¶é—´åï¼Œå®ƒä»¬çš„çŠ¶æ€å¯èƒ½æ˜¯æœªæ›´æ–°ï¼Œå·²ä¿®æ”¹æˆ–è€…å·²æ”¾å…¥æš‚å­˜åŒºã€‚è€Œæ‰€æœ‰å…¶ä»–æ–‡ä»¶éƒ½å±äºæœªè·Ÿè¸ªæ–‡ä»¶ã€‚å®ƒä»¬æ—¢æ²¡æœ‰ä¸Šæ¬¡æ›´æ–°æ—¶çš„å¿«ç…§ï¼Œä¹Ÿä¸åœ¨å½“å‰çš„æš‚å­˜ åŒºåŸŸã€‚åˆæ¬¡å…‹éš†æŸä¸ªä»“åº“æ—¶ï¼Œå·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶éƒ½å±äºå·²è·Ÿè¸ªæ–‡ä»¶ï¼Œä¸”çŠ¶æ€ä¸ºæœªä¿®æ”¹ã€‚ åœ¨ç¼–è¾‘è¿‡æŸäº›æ–‡ä»¶ä¹‹åï¼ŒGit å°†è¿™äº›æ–‡ä»¶æ ‡ä¸ºå·²ä¿®æ”¹ã€‚æˆ‘ä»¬é€æ­¥æŠŠè¿™äº›ä¿®æ”¹è¿‡çš„æ–‡ä»¶æ”¾åˆ°æš‚å­˜åŒºåŸŸï¼Œç›´åˆ°æœ€åä¸€æ¬¡æ€§æäº¤æ‰€æœ‰è¿™äº›æš‚å­˜èµ·æ¥çš„æ–‡ä»¶ï¼Œå¦‚æ­¤é‡å¤ã€‚æ‰€ä»¥ä½¿ç”¨ Git æ—¶çš„æ–‡ä»¶çŠ¶æ€å˜åŒ–å‘¨æœŸå¦‚å›¾ git åˆ†æ”¯ ä½•è°“åˆ†æ”¯ ä¸ºäº†ç†è§£ Git åˆ†æ”¯çš„å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦å›é¡¾ä¸€ä¸‹ Git æ˜¯å¦‚ä½•å‚¨å­˜æ•°æ®çš„ã€‚æˆ–è®¸ä½ è¿˜è®°å¾—ç¬¬ä¸€ç« çš„å†…å®¹ï¼ŒGit ä¿å­˜çš„ä¸æ˜¯æ–‡ä»¶å·®å¼‚æˆ–è€…å˜åŒ–é‡ï¼Œè€Œåªæ˜¯ä¸€ç³»åˆ—æ–‡ä»¶å¿«ç…§ã€‚ åœ¨ Git ä¸­æäº¤æ—¶ï¼Œä¼šä¿å­˜ä¸€ä¸ªæäº¤ï¼ˆcommitï¼‰å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«ä¸€ä¸ªæŒ‡å‘æš‚å­˜å†…å®¹å¿«ç…§çš„æŒ‡é’ˆï¼ŒåŒ…å«æœ¬æ¬¡æäº¤çš„ä½œè€…ç­‰ç›¸å…³é™„å±ä¿¡æ¯ï¼ŒåŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªæŒ‡å‘è¯¥æäº¤å¯¹ è±¡çš„çˆ¶å¯¹è±¡æŒ‡é’ˆï¼šé¦–æ¬¡æäº¤æ˜¯æ²¡æœ‰ç›´æ¥ç¥–å…ˆçš„ï¼Œæ™®é€šæäº¤æœ‰ä¸€ä¸ªç¥–å…ˆï¼Œç”±ä¸¤ä¸ªæˆ–å¤šä¸ªåˆ†æ”¯åˆå¹¶äº§ç”Ÿçš„æäº¤åˆ™æœ‰å¤šä¸ªç¥–å…ˆã€‚ ä¸ºç›´è§‚èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾åœ¨å·¥ä½œç›®å½•ä¸­æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼Œå‡†å¤‡å°†å®ƒä»¬æš‚å­˜åæäº¤ã€‚æš‚å­˜æ“ä½œä¼šå¯¹æ¯ä¸€ä¸ªæ–‡ä»¶è®¡ç®—æ ¡éªŒå’Œï¼Œç„¶åæŠŠå½“å‰ç‰ˆæœ¬çš„æ–‡ä»¶å¿«ç…§ä¿å­˜åˆ° Git ä»“åº“ä¸­ï¼ˆGit ä½¿ç”¨ blob ç±»å‹çš„å¯¹è±¡å­˜å‚¨è¿™äº›å¿«ç…§ï¼‰ï¼Œå¹¶å°†æ ¡éªŒå’ŒåŠ å…¥æš‚å­˜åŒºåŸŸï¼š $ git add README test.rb LICENSE $ git commit -m &apos;initial commit of my project&apos; å½“ä½¿ç”¨ git commit æ–°å»ºä¸€ä¸ªæäº¤å¯¹è±¡å‰ï¼ŒGit ä¼šå…ˆè®¡ç®—æ¯ä¸€ä¸ªå­ç›®å½•ï¼ˆæœ¬ä¾‹ä¸­å°±æ˜¯é¡¹ç›®æ ¹ç›®å½•ï¼‰çš„æ ¡éªŒå’Œï¼Œç„¶ååœ¨ Git ä»“åº“ä¸­å°†è¿™äº›ç›®å½•ä¿å­˜ä¸ºæ ‘ï¼ˆtreeï¼‰å¯¹è±¡ã€‚ä¹‹å Git åˆ›å»ºçš„æäº¤å¯¹è±¡ï¼Œé™¤äº†åŒ…å«ç›¸å…³æäº¤ä¿¡æ¯ä»¥å¤–ï¼Œè¿˜åŒ…å«ç€æŒ‡å‘è¿™ä¸ªæ ‘å¯¹è±¡ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰çš„æŒ‡é’ˆï¼Œå¦‚æ­¤å®ƒå°±å¯ä»¥åœ¨å°†æ¥éœ€è¦çš„æ—¶å€™ï¼Œé‡ç°æ­¤æ¬¡å¿«ç…§çš„å†…å®¹äº†ã€‚ ç°åœ¨ï¼ŒGit ä»“åº“ä¸­æœ‰äº”ä¸ªå¯¹è±¡ï¼šä¸‰ä¸ªè¡¨ç¤ºæ–‡ä»¶å¿«ç…§å†…å®¹çš„ blob å¯¹è±¡ï¼›ä¸€ä¸ªè®°å½•ç€ç›®å½•æ ‘å†…å®¹åŠå…¶ä¸­å„ä¸ªæ–‡ä»¶å¯¹åº” blob å¯¹è±¡ç´¢å¼•çš„ tree å¯¹è±¡ï¼›ä»¥åŠä¸€ä¸ªåŒ…å«æŒ‡å‘ tree å¯¹è±¡ï¼ˆæ ¹ç›®å½•ï¼‰çš„ç´¢å¼•å’Œå…¶ä»–æäº¤ä¿¡æ¯å…ƒæ•°æ®çš„ commit å¯¹è±¡ã€‚æ¦‚å¿µä¸Šæ¥è¯´ï¼Œä»“åº“ä¸­çš„å„ä¸ªå¯¹è±¡ä¿å­˜çš„æ•°æ®å’Œç›¸äº’å…³ç³»çœ‹èµ·æ¥å¦‚å›¾ï¼š ä½œäº›ä¿®æ”¹åå†æ¬¡æäº¤ï¼Œé‚£ä¹ˆè¿™æ¬¡çš„æäº¤å¯¹è±¡ä¼šåŒ…å«ä¸€ä¸ªæŒ‡å‘ä¸Šæ¬¡æäº¤å¯¹è±¡çš„æŒ‡é’ˆï¼ˆè¯‘æ³¨ï¼šå³ä¸‹å›¾ä¸­çš„ parent å¯¹è±¡ï¼‰ã€‚ä¸¤æ¬¡æäº¤åï¼Œä»“åº“å†å²ä¼šå˜æˆä¸‹å›¾ ç°åœ¨æ¥è°ˆåˆ†æ”¯ã€‚Git ä¸­çš„åˆ†æ”¯ï¼Œå…¶å®æœ¬è´¨ä¸Šä»…ä»…æ˜¯ä¸ªæŒ‡å‘ commit å¯¹è±¡çš„å¯å˜æŒ‡é’ˆã€‚Git ä¼šä½¿ç”¨ master ä½œä¸ºåˆ†æ”¯çš„é»˜è®¤åå­—ã€‚åœ¨è‹¥å¹²æ¬¡æäº¤åï¼Œä½ å…¶å®å·²ç»æœ‰äº†ä¸€ä¸ªæŒ‡å‘æœ€åä¸€æ¬¡æäº¤å¯¹è±¡çš„ master åˆ†æ”¯ï¼Œå®ƒåœ¨æ¯æ¬¡æäº¤çš„æ—¶å€™éƒ½ä¼šè‡ªåŠ¨å‘å‰ç§»åŠ¨ã€‚ Git åˆæ˜¯å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯çš„å‘¢ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯æŒ‡é’ˆã€‚æ¯”å¦‚æ–°å»ºä¸€ä¸ª testing åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ git branch å‘½ä»¤ï¼š $ git branch testing è¿™ä¼šåœ¨å½“å‰ commit å¯¹è±¡ä¸Šæ–°å»ºä¸€ä¸ªåˆ†æ”¯æŒ‡é’ˆå¦‚å›¾ é‚£ä¹ˆï¼ŒGit æ˜¯å¦‚ä½•çŸ¥é“ä½ å½“å‰åœ¨å“ªä¸ªåˆ†æ”¯ä¸Šå·¥ä½œçš„å‘¢ï¼Ÿå…¶å®ç­”æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œå®ƒä¿å­˜ç€ä¸€ä¸ªåä¸º HEAD çš„ç‰¹åˆ«æŒ‡é’ˆã€‚è¯·æ³¨æ„å®ƒå’Œä½ ç†ŸçŸ¥çš„è®¸å¤šå…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆæ¯”å¦‚ Subversion æˆ– CVSï¼‰é‡Œçš„ HEAD æ¦‚å¿µå¤§ä¸ç›¸åŒã€‚åœ¨ Git ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘ä½ æ­£åœ¨å·¥ä½œä¸­çš„æœ¬åœ°åˆ†æ”¯çš„æŒ‡é’ˆï¼ˆè¯‘æ³¨ï¼šå°† HEAD æƒ³è±¡ä¸ºå½“å‰åˆ†æ”¯çš„åˆ«åã€‚ï¼‰ã€‚è¿è¡Œgit branch å‘½ä»¤ï¼Œä»…ä»…æ˜¯å»ºç«‹äº†ä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œä½†ä¸ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°è¿™ä¸ªåˆ†æ”¯ä¸­å»ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶è¿˜åœ¨ master åˆ†æ”¯é‡Œå·¥ä½œ(å¦‚å›¾) è¦åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯ï¼Œå¯ä»¥æ‰§è¡Œ git checkout å‘½ä»¤ã€‚æˆ‘ä»¬ç°åœ¨è½¬æ¢åˆ°æ–°å»ºçš„ testing åˆ†æ”¯ $ git checkout testing è¿™æ · HEAD å°±æŒ‡å‘äº† testing åˆ†æ”¯ è¿™æ ·çš„å®ç°æ–¹å¼ä¼šç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå¥½å§ï¼Œç°åœ¨ä¸å¦¨å†æäº¤ä¸€æ¬¡ï¼š $ vim test.rb $ git commit -a -m &apos;made a change&apos; ä¸‹å›¾ å±•ç¤ºäº†æäº¤åçš„ç»“æœ éå¸¸æœ‰è¶£ï¼Œç°åœ¨ testing åˆ†æ”¯å‘å‰ç§»åŠ¨äº†ä¸€æ ¼ï¼Œè€Œ master åˆ†æ”¯ä»ç„¶æŒ‡å‘åŸå…ˆ git checkout æ—¶æ‰€åœ¨çš„ commit å¯¹è±¡ã€‚ç°åœ¨æˆ‘ä»¬å›åˆ° master åˆ†æ”¯çœ‹çœ‹ï¼š $ git checkout master ä¸‹å›¾ æ˜¾ç¤ºäº†ç»“æœã€‚ è¿™æ¡å‘½ä»¤åšäº†ä¸¤ä»¶äº‹ã€‚å®ƒæŠŠ HEAD æŒ‡é’ˆç§»å›åˆ° master åˆ†æ”¯ï¼Œå¹¶æŠŠå·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶æ¢æˆäº† master åˆ†æ”¯æ‰€æŒ‡å‘çš„å¿«ç…§å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨å¼€å§‹æ‰€åšçš„æ”¹åŠ¨ï¼Œå°†å§‹äºæœ¬é¡¹ç›®ä¸­ä¸€ä¸ªè¾ƒè€çš„ç‰ˆæœ¬ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å°† testing åˆ†æ”¯é‡Œä½œå‡ºçš„ä¿®æ”¹æš‚æ—¶å–æ¶ˆï¼Œè¿™æ ·ä½ å°±å¯ä»¥å‘å¦ä¸€ä¸ªæ–¹å‘è¿›è¡Œå¼€å‘ã€‚ æˆ‘ä»¬ä½œäº›ä¿®æ”¹åå†æ¬¡æäº¤ï¼š $ vim test.rb $ git commit -a -m &apos;made other changes&apos; ç°åœ¨æˆ‘ä»¬çš„é¡¹ç›®æäº¤å†å²äº§ç”Ÿäº†åˆ†å‰ï¼ˆå¦‚å›¾ 3-9 æ‰€ç¤ºï¼‰ï¼Œå› ä¸ºåˆšæ‰æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåˆ†æ”¯ï¼Œè½¬æ¢åˆ°å…¶ä¸­è¿›è¡Œäº†ä¸€äº›å·¥ä½œï¼Œç„¶ååˆå›åˆ°åŸæ¥çš„ä¸»åˆ†æ”¯è¿›è¡Œäº†å¦å¤–ä¸€äº›å·¥ä½œã€‚è¿™äº›æ”¹å˜åˆ†åˆ«å­¤ç«‹åœ¨ä¸åŒçš„åˆ†æ”¯é‡Œï¼šæˆ‘ä»¬å¯ä»¥ åœ¨ä¸åŒåˆ†æ”¯é‡Œåå¤åˆ‡æ¢ï¼Œå¹¶åœ¨æ—¶æœºæˆç†Ÿæ—¶æŠŠå®ƒä»¬åˆå¹¶åˆ°ä¸€èµ·ã€‚è€Œæ‰€æœ‰è¿™äº›å·¥ä½œï¼Œä»…ä»…éœ€è¦branch å’Œ checkout è¿™ä¸¤æ¡å‘½ä»¤å°±å¯ä»¥å®Œæˆã€‚ ç”±äº Git ä¸­çš„åˆ†æ”¯å®é™…ä¸Šä»…æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æŒ‡å¯¹è±¡æ ¡éªŒå’Œï¼ˆ40 ä¸ªå­—ç¬¦é•¿åº¦ SHA-1 å­—ä¸²ï¼‰çš„æ–‡ä»¶ï¼Œæ‰€ä»¥åˆ›å»ºå’Œé”€æ¯ä¸€ä¸ªåˆ†æ”¯å°±å˜å¾—éå¸¸å»‰ä»·ã€‚è¯´ç™½äº†ï¼Œæ–°å»ºä¸€ä¸ªåˆ†æ”¯å°±æ˜¯å‘ä¸€ä¸ªæ–‡ä»¶å†™å…¥ 41 ä¸ªå­—èŠ‚ï¼ˆå¤–åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ï¼‰é‚£ä¹ˆç®€å•ï¼Œå½“ç„¶ä¹Ÿå°±å¾ˆå¿«äº†ã€‚ è¿™å’Œå¤§å¤šæ•°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå½¢æˆäº†é²œæ˜å¯¹æ¯”ï¼Œå®ƒä»¬ç®¡ç†åˆ†æ”¯å¤§å¤šé‡‡å–å¤‡ä»½æ‰€æœ‰é¡¹ç›®æ–‡ä»¶åˆ°ç‰¹å®šç›®å½•çš„æ–¹å¼ï¼Œæ‰€ä»¥æ ¹æ®é¡¹ç›®æ–‡ä»¶æ•°é‡å’Œå¤§å°ä¸åŒï¼Œå¯èƒ½èŠ±è´¹çš„æ—¶é—´ ä¹Ÿä¼šæœ‰ç›¸å½“å¤§çš„å·®åˆ«ï¼Œå¿«åˆ™å‡ ç§’ï¼Œæ…¢åˆ™æ•°åˆ†é’Ÿã€‚è€Œ Git çš„å®ç°ä¸é¡¹ç›®å¤æ‚åº¦æ— å…³ï¼Œå®ƒæ°¸è¿œå¯ä»¥åœ¨å‡ æ¯«ç§’çš„æ—¶é—´å†…å®Œæˆåˆ†æ”¯çš„åˆ›å»ºå’Œåˆ‡æ¢ã€‚åŒæ—¶ï¼Œå› ä¸ºæ¯æ¬¡æäº¤æ—¶éƒ½è®°å½•äº†ç¥–å…ˆä¿¡æ¯ï¼ˆè¯‘æ³¨ï¼šå³parent å¯¹è±¡ï¼‰ï¼Œå°†æ¥è¦åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå¯»æ‰¾æ°å½“çš„åˆå¹¶åŸºç¡€ï¼ˆè¯‘æ³¨ï¼šå³å…±åŒç¥–å…ˆï¼‰çš„å·¥ä½œå…¶å®å·²ç»è‡ªç„¶è€Œç„¶åœ°æ‘†åœ¨é‚£é‡Œäº†ï¼Œæ‰€ä»¥å®ç°èµ·æ¥éå¸¸å®¹æ˜“ã€‚Git é¼“åŠ±å¼€å‘è€…é¢‘ç¹ä½¿ç”¨åˆ†æ”¯ï¼Œæ­£æ˜¯å› ä¸ºæœ‰ç€è¿™äº›ç‰¹æ€§ä½œä¿éšœ åˆ†æ”¯çš„æ–°å»ºä¸åˆå¹¶ ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„åˆ†æ”¯ä¸åˆå¹¶çš„ä¾‹å­ï¼Œå®é™…å·¥ä½œä¸­å¤§ä½“ä¹Ÿä¼šç”¨åˆ°è¿™æ ·çš„å·¥ä½œæµç¨‹ï¼š å¼€å‘æŸä¸ªç½‘ç«™ã€‚ 2. ä¸ºå®ç°æŸä¸ªæ–°çš„éœ€æ±‚ï¼Œåˆ›å»ºä¸€ä¸ªåˆ†æ”¯ã€‚ 3. åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šå¼€å±•å·¥ä½œã€‚ å‡è®¾æ­¤æ—¶ï¼Œä½ çªç„¶æ¥åˆ°ä¸€ä¸ªç”µè¯è¯´æœ‰ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜éœ€è¦ç´§æ€¥ä¿®è¡¥ï¼Œé‚£ä¹ˆå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼å¤„ç†ï¼š è¿”å›åˆ°åŸå…ˆå·²ç»å‘å¸ƒåˆ°ç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„åˆ†æ”¯ã€‚ 2. ä¸ºè¿™æ¬¡ç´§æ€¥ä¿®è¡¥å»ºç«‹ä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œå¹¶åœ¨å…¶ä¸­ä¿®å¤é—®é¢˜ã€‚ 3. é€šè¿‡æµ‹è¯•åï¼Œå›åˆ°ç”Ÿäº§æœåŠ¡å™¨æ‰€åœ¨çš„åˆ†æ”¯ï¼Œå°†ä¿®è¡¥åˆ†æ”¯åˆå¹¶è¿›æ¥ï¼Œç„¶åå†æ¨é€åˆ°ç”Ÿäº§æœåŠ¡å™¨ä¸Šã€‚ 4. åˆ‡æ¢åˆ°ä¹‹å‰å®ç°æ–°éœ€æ±‚çš„åˆ†æ”¯ï¼Œç»§ç»­å·¥ä½œã€‚ åˆ†æ”¯çš„æ–°å»ºä¸åˆ‡æ¢ é¦–å…ˆï¼Œæˆ‘ä»¬å‡è®¾ä½ æ­£åœ¨é¡¹ç›®ä¸­æ„‰å¿«åœ°å·¥ä½œï¼Œå¹¶ä¸”å·²ç»æäº¤äº†å‡ æ¬¡æ›´æ–° ç°åœ¨ï¼Œä½ å†³å®šè¦ä¿®è¡¥é—®é¢˜è¿½è¸ªç³»ç»Ÿä¸Šçš„ #53 é—®é¢˜ã€‚é¡ºå¸¦è¯´æ˜ä¸‹ï¼ŒGit å¹¶ä¸åŒä»»ä½•ç‰¹å®šçš„é—®é¢˜è¿½è¸ªç³»ç»Ÿæ‰“äº¤é“ã€‚è¿™é‡Œä¸ºäº†è¯´æ˜è¦è§£å†³çš„é—®é¢˜ï¼Œæ‰æŠŠæ–°å»ºçš„åˆ†æ”¯å–åä¸º iss53ã€‚è¦æ–°å»ºå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ï¼Œè¿è¡Œgit checkout å¹¶åŠ ä¸Š -b å‚æ•°ï¼š $ git checkout -b iss53 Switched to a new branch &quot;iss53&quot; è¿™ç›¸å½“äºæ‰§è¡Œä¸‹é¢è¿™ä¸¤æ¡å‘½ä»¤ï¼š $ git branch iss53 $ git checkout iss53 å›¾ ç¤ºæ„è¯¥å‘½ä»¤çš„æ‰§è¡Œç»“æœã€‚ æ¥ç€ä½ å¼€å§‹å°è¯•ä¿®å¤é—®é¢˜ï¼Œåœ¨æäº¤äº†è‹¥å¹²æ¬¡æ›´æ–°åï¼Œiss53 åˆ†æ”¯çš„æŒ‡é’ˆä¹Ÿä¼šéšç€å‘å‰æ¨è¿›ï¼Œå› ä¸ºå®ƒå°±æ˜¯å½“å‰åˆ†æ”¯ï¼ˆæ¢å¥è¯è¯´ï¼Œå½“å‰çš„ HEAD æŒ‡é’ˆæ­£æŒ‡å‘ iss53ï¼Œè§å›¾ ï¼‰ï¼š $ vim index.html $ git commit -a -m &apos;added a new footer [issue 53]&apos; ç°åœ¨ä½ å°±æ¥åˆ°äº†é‚£ä¸ªç½‘ç«™é—®é¢˜çš„ç´§æ€¥ç”µè¯ï¼Œéœ€è¦é©¬ä¸Šä¿®è¡¥ã€‚æœ‰äº† Git ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦åŒæ—¶å‘å¸ƒè¿™ä¸ªè¡¥ä¸å’Œ iss53 é‡Œä½œå‡ºçš„ä¿®æ”¹ï¼Œä¹Ÿä¸éœ€è¦åœ¨åˆ›å»ºå’Œå‘å¸ƒè¯¥è¡¥ä¸åˆ°æœåŠ¡å™¨ä¹‹å‰èŠ±è´¹å¤§åŠ›æ°”æ¥å¤åŸè¿™äº›ä¿®æ”¹ã€‚å”¯ä¸€éœ€è¦çš„ä»…ä»…æ˜¯åˆ‡æ¢å›master åˆ†æ”¯ã€‚ ä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œç•™å¿ƒä½ çš„æš‚å­˜åŒºæˆ–è€…å·¥ä½œç›®å½•é‡Œï¼Œé‚£äº›è¿˜æ²¡æœ‰æäº¤çš„ä¿®æ”¹ï¼Œå®ƒä¼šå’Œä½ å³å°†æ£€å‡ºçš„åˆ†æ”¯äº§ç”Ÿå†²çªä»è€Œé˜»æ­¢ Git ä¸ºä½ åˆ‡æ¢åˆ†æ”¯ã€‚åˆ‡æ¢åˆ†æ”¯çš„æ—¶å€™æœ€å¥½ä¿æŒä¸€ä¸ªæ¸…æ´çš„å·¥ä½œåŒºåŸŸã€‚ç¨åä¼šä»‹ç»å‡ ä¸ªç»•è¿‡è¿™ç§é—®é¢˜çš„åŠæ³•ï¼ˆåˆ†åˆ«å«åš stashing å’Œ commit amendingï¼‰ã€‚ç›®å‰å·²ç»æäº¤äº†æ‰€æœ‰çš„ä¿®æ”¹ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å¯ä»¥æ­£å¸¸è½¬æ¢åˆ°master åˆ†æ”¯ï¼š $ git checkout master Switched to branch &quot;master&quot; æ­¤æ—¶å·¥ä½œç›®å½•ä¸­çš„å†…å®¹å’Œä½ åœ¨è§£å†³é—®é¢˜ #53 ä¹‹å‰ä¸€æ¨¡ä¸€æ ·ï¼Œä½ å¯ä»¥é›†ä¸­ç²¾åŠ›è¿›è¡Œç´§æ€¥ä¿®è¡¥ã€‚è¿™ä¸€ç‚¹å€¼å¾—ç‰¢è®°ï¼šGit ä¼šæŠŠå·¥ä½œç›®å½•çš„å†…å®¹æ¢å¤ä¸ºæ£€å‡ºæŸåˆ†æ”¯æ—¶å®ƒæ‰€æŒ‡å‘çš„é‚£ä¸ªæäº¤å¯¹è±¡çš„å¿«ç…§ã€‚å®ƒä¼šè‡ªåŠ¨æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹æ–‡ä»¶ä»¥ç¡®ä¿ç›®å½•çš„å†…å®¹å’Œä½ å½“æ—¶æäº¤æ—¶å®Œå…¨ä¸€æ · æ¥ä¸‹æ¥ï¼Œä½ å¾—è¿›è¡Œç´§æ€¥ä¿®è¡¥ã€‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç´§æ€¥ä¿®è¡¥åˆ†æ”¯ hotfix æ¥å¼€å±•å·¥ä½œï¼Œç›´åˆ°æå®šï¼ˆè§å›¾ 3-13ï¼‰ï¼š $ git checkout -b &apos;hotfix&apos; $ vim index.html $ git commit -a -m &apos;fixed &quot; æœ‰å¿…è¦ä½œäº›æµ‹è¯•ï¼Œç¡®ä¿ä¿®è¡¥æ˜¯æˆåŠŸçš„ï¼Œç„¶åå›åˆ° master åˆ†æ”¯å¹¶æŠŠå®ƒåˆå¹¶è¿›æ¥ï¼Œç„¶åå‘å¸ƒåˆ°ç”Ÿäº§æœåŠ¡å™¨ã€‚ç”¨ git merge å‘½ä»¤æ¥è¿›è¡Œåˆå¹¶ $ git checkout master $ git merge hotfix è¯·æ³¨æ„ï¼Œåˆå¹¶æ—¶å‡ºç°äº†â€œFast forwardâ€çš„æç¤ºã€‚ç”±äºå½“å‰ master åˆ†æ”¯æ‰€åœ¨çš„æäº¤å¯¹è±¡æ˜¯è¦å¹¶å…¥çš„ hotfix åˆ†æ”¯çš„ç›´æ¥ä¸Šæ¸¸ï¼ŒGit åªéœ€æŠŠmaster åˆ†æ”¯æŒ‡é’ˆç›´æ¥å³ç§»ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœé¡ºç€ä¸€ä¸ªåˆ†æ”¯èµ°ä¸‹å»å¯ä»¥åˆ°è¾¾å¦ä¸€ä¸ªåˆ†æ”¯çš„è¯ï¼Œé‚£ä¹ˆ Git åœ¨åˆå¹¶ä¸¤è€…æ—¶ï¼Œåªä¼šç®€å•åœ°æŠŠæŒ‡é’ˆå³ç§»ï¼Œå› ä¸ºè¿™ç§å•çº¿çš„å†å²åˆ†æ”¯ä¸å­˜åœ¨ä»»ä½•éœ€è¦è§£å†³çš„åˆ†æ­§ï¼Œæ‰€ä»¥è¿™ç§åˆå¹¶è¿‡ç¨‹å¯ä»¥ç§°ä¸ºå¿«è¿›ï¼ˆFast forwardï¼‰ã€‚ ç°åœ¨æœ€æ–°çš„ä¿®æ”¹å·²ç»åœ¨å½“å‰ master åˆ†æ”¯æ‰€æŒ‡å‘çš„æäº¤å¯¹è±¡ä¸­äº†ï¼Œå¯ä»¥éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨ä¸Šå»äº†åœ¨é‚£ä¸ªè¶…çº§é‡è¦çš„ä¿®è¡¥å‘å¸ƒä»¥åï¼Œä½ æƒ³è¦å›åˆ°è¢«æ‰“æ‰°ä¹‹å‰çš„å·¥ä½œã€‚ç”±äºå½“å‰ hotfix åˆ†æ”¯å’Œ master éƒ½æŒ‡å‘ç›¸åŒçš„æäº¤å¯¹è±¡ï¼Œæ‰€ä»¥hotfix å·²ç»å®Œæˆäº†å†å²ä½¿å‘½ï¼Œå¯ä»¥åˆ æ‰äº†ã€‚ä½¿ç”¨ git branch çš„ -d é€‰é¡¹æ‰§è¡Œåˆ é™¤æ“ä½œï¼š $ git branch -d hotfix Deleted branch hotfix (3a0874c). ç°åœ¨å›åˆ°ä¹‹å‰æœªå®Œæˆçš„ #53 é—®é¢˜ä¿®å¤åˆ†æ”¯ä¸Šç»§ç»­å·¥ä½œ $ git checkout iss53 $ vim index.html $ git commit -a -m &quot;new content&quot; ä¸ç”¨æ‹…å¿ƒä¹‹å‰ hotfix åˆ†æ”¯çš„ä¿®æ”¹å†…å®¹å°šæœªåŒ…å«åˆ° iss53 ä¸­æ¥ã€‚å¦‚æœç¡®å®éœ€è¦çº³å…¥æ­¤æ¬¡ä¿®è¡¥ï¼Œå¯ä»¥ç”¨git merge master æŠŠ master åˆ†æ”¯åˆå¹¶åˆ° iss53ï¼›æˆ–è€…ç­‰ iss53 å®Œæˆä¹‹åï¼Œå†å°†iss53 åˆ†æ”¯ä¸­çš„æ›´æ–°å¹¶å…¥ master åˆ†æ”¯çš„åˆå¹¶ åœ¨é—®é¢˜ #53 ç›¸å…³çš„å·¥ä½œå®Œæˆä¹‹åï¼Œå¯ä»¥åˆå¹¶å› master åˆ†æ”¯ã€‚å®é™…æ“ä½œåŒå‰é¢åˆå¹¶ hotfix åˆ†æ”¯å·®ä¸å¤šï¼Œåªéœ€å›åˆ°master åˆ†æ”¯ï¼Œè¿è¡Œ git merge å‘½ä»¤æŒ‡å®šè¦åˆå¹¶è¿›æ¥çš„åˆ†æ”¯ï¼š $ git checkout master $ git merge iss53 è¯·æ³¨æ„ï¼Œè¿™æ¬¡åˆå¹¶æ“ä½œçš„åº•å±‚å®ç°ï¼Œå¹¶ä¸åŒäºä¹‹å‰ hotfix çš„å¹¶å…¥æ–¹å¼ã€‚å› ä¸ºè¿™æ¬¡ä½ çš„å¼€å‘å†å²æ˜¯ä»æ›´æ—©çš„åœ°æ–¹å¼€å§‹åˆ†å‰çš„ã€‚ç”±äºå½“å‰ master åˆ†æ”¯æ‰€æŒ‡å‘çš„æäº¤å¯¹è±¡ï¼ˆC4ï¼‰å¹¶ä¸æ˜¯ iss53 åˆ†æ”¯çš„ç›´æ¥ç¥–å…ˆï¼ŒGit ä¸å¾—ä¸è¿›è¡Œä¸€äº›é¢å¤–å¤„ç†ã€‚å°±æ­¤ä¾‹è€Œè¨€ï¼ŒGit ä¼šç”¨ä¸¤ä¸ªåˆ†æ”¯çš„æœ«ç«¯ï¼ˆC4 å’Œ C5ï¼‰ä»¥åŠå®ƒä»¬çš„å…±åŒç¥–å…ˆï¼ˆC2ï¼‰è¿›è¡Œä¸€æ¬¡ç®€å•çš„ä¸‰æ–¹åˆå¹¶è®¡ç®—ã€‚å›¾ 3-16 ç”¨çº¢æ¡†æ ‡å‡ºäº† Git ç”¨äºåˆå¹¶çš„ä¸‰ä¸ªæäº¤å¯¹è±¡ è¿™æ¬¡ï¼ŒGit æ²¡æœ‰ç®€å•åœ°æŠŠåˆ†æ”¯æŒ‡é’ˆå³ç§»ï¼Œè€Œæ˜¯å¯¹ä¸‰æ–¹åˆå¹¶åçš„ç»“æœé‡æ–°åšä¸€ä¸ªæ–°çš„å¿«ç…§ï¼Œå¹¶è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæŒ‡å‘å®ƒçš„æäº¤å¯¹è±¡ï¼ˆC6ï¼‰ï¼ˆè§å›¾ï¼‰ã€‚è¿™ä¸ªæäº¤å¯¹è±¡æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒæœ‰ä¸¤ä¸ªç¥–å…ˆï¼ˆC4 å’Œ C5ï¼‰ã€‚ å€¼å¾—ä¸€æçš„æ˜¯ Git å¯ä»¥è‡ªå·±è£å†³å“ªä¸ªå…±åŒç¥–å…ˆæ‰æ˜¯æœ€ä½³åˆå¹¶åŸºç¡€ï¼›è¿™å’Œ CVS æˆ– Subversionï¼ˆ1.5 ä»¥åçš„ç‰ˆæœ¬ï¼‰ä¸åŒï¼Œå®ƒä»¬éœ€è¦å¼€å‘è€…æ‰‹å·¥æŒ‡å®šåˆå¹¶åŸºç¡€ã€‚æ‰€ä»¥æ­¤ç‰¹æ€§è®© Git çš„åˆå¹¶æ“ä½œæ¯”å…¶ä»–ç³»ç»Ÿéƒ½è¦ç®€å•ä¸å°‘ æ—¢ç„¶ä¹‹å‰çš„å·¥ä½œæˆæœå·²ç»åˆå¹¶åˆ° master äº†ï¼Œé‚£ä¹ˆ iss53 ä¹Ÿå°±æ²¡ç”¨äº†ã€‚ä½ å¯ä»¥å°±æ­¤åˆ é™¤å®ƒï¼Œå¹¶åœ¨é—®é¢˜è¿½è¸ªç³»ç»Ÿé‡Œå…³é—­è¯¥é—®é¢˜ã€‚ $ git branch -d iss53 é‡åˆ°å†²çªæ—¶çš„åˆ†æ”¯åˆå¹¶ æœ‰æ—¶å€™åˆå¹¶æ“ä½œå¹¶ä¸ä¼šå¦‚æ­¤é¡ºåˆ©ã€‚å¦‚æœåœ¨ä¸åŒçš„åˆ†æ”¯ä¸­éƒ½ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€éƒ¨åˆ†ï¼ŒGit å°±æ— æ³•å¹²å‡€åœ°æŠŠä¸¤è€…åˆåˆ°ä¸€èµ·ï¼ˆè¯‘æ³¨ï¼šé€»è¾‘ä¸Šè¯´ï¼Œè¿™ç§é—®é¢˜åªèƒ½ç”±äººæ¥è£å†³ã€‚ï¼‰ã€‚å¦‚æœä½ åœ¨è§£å†³é—®é¢˜ #53 çš„è¿‡ç¨‹ä¸­ä¿®æ”¹äº†hotfix ä¸­ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œå°†å¾—åˆ°ç±»ä¼¼ä¸‹é¢çš„ç»“æœ $ git merge iss53 Auto-merging index.html CONFLICT (content): Merge conflict in index.html Automatic merge failed; fix conflicts and then commit the result. Git ä½œäº†åˆå¹¶ï¼Œä½†æ²¡æœ‰æäº¤ï¼Œå®ƒä¼šåœä¸‹æ¥ç­‰ä½ è§£å†³å†²çªã€‚è¦çœ‹çœ‹å“ªäº›æ–‡ä»¶åœ¨åˆå¹¶æ—¶å‘ç”Ÿå†²çªï¼Œå¯ä»¥ç”¨ git status æŸ¥é˜… [master*]$ git status index.html: needs merge # On branch master # Changed but not updated: # (use &quot;git add ...&quot; to update what will be committed) # (use &quot;git checkout -- ...&quot; to discard changes in working directory) # # unmerged: index.html # ä»»ä½•åŒ…å«æœªè§£å†³å†²çªçš„æ–‡ä»¶éƒ½ä¼šä»¥æœªåˆå¹¶ï¼ˆunmergedï¼‰çš„çŠ¶æ€åˆ—å‡ºã€‚Git ä¼šåœ¨æœ‰å†²çªçš„æ–‡ä»¶é‡ŒåŠ å…¥æ ‡å‡†çš„å†²çªè§£å†³æ ‡è®°ï¼Œå¯ä»¥é€šè¿‡å®ƒä»¬æ¥æ‰‹å·¥å®šä½å¹¶è§£å†³è¿™äº›å†²çªã€‚å¯ä»¥çœ‹åˆ°æ­¤æ–‡ä»¶åŒ…å«ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„éƒ¨åˆ†ï¼š &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html contact : email.support@github.com ======= please contact us at support@github.com &gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html å¯ä»¥çœ‹åˆ° ======= éš”å¼€çš„ä¸ŠåŠéƒ¨åˆ†ï¼Œæ˜¯ HEADï¼ˆå³ master åˆ†æ”¯ï¼Œåœ¨è¿è¡Œmerge å‘½ä»¤æ—¶æ‰€åˆ‡æ¢åˆ°çš„åˆ†æ”¯ï¼‰ä¸­çš„å†…å®¹ï¼Œä¸‹åŠéƒ¨åˆ†æ˜¯åœ¨ iss53 åˆ†æ”¯ä¸­çš„å†…å®¹ã€‚è§£å†³å†²çªçš„åŠæ³•æ— éæ˜¯äºŒè€…é€‰å…¶ä¸€æˆ–è€…ç”±ä½ äº²è‡ªæ•´åˆåˆ°ä¸€èµ·ã€‚æ¯”å¦‚ä½ å¯ä»¥é€šè¿‡æŠŠè¿™æ®µå†…å®¹æ›¿æ¢ä¸ºä¸‹é¢è¿™æ ·æ¥è§£å†³ please contact us at email.support@github.com è¿™ä¸ªè§£å†³æ–¹æ¡ˆå„é‡‡çº³äº†ä¸¤ä¸ªåˆ†æ”¯ä¸­çš„ä¸€éƒ¨åˆ†å†…å®¹ï¼Œè€Œä¸”æˆ‘è¿˜åˆ é™¤äº† &lt;&lt;&lt;&lt;&lt;&lt;&lt;ï¼Œ======= å’Œ &gt;&gt;&gt;&gt;&gt;&gt;&gt; è¿™äº›è¡Œã€‚åœ¨è§£å†³äº†æ‰€æœ‰æ–‡ä»¶é‡Œçš„æ‰€æœ‰å†²çªåï¼Œè¿è¡Œ git add å°†æŠŠå®ƒä»¬æ ‡è®°ä¸ºå·²è§£å†³çŠ¶æ€ï¼ˆè¯‘æ³¨ï¼šå®é™…ä¸Šå°±æ˜¯æ¥ä¸€æ¬¡å¿«ç…§ä¿å­˜åˆ°æš‚å­˜åŒºåŸŸã€‚ï¼‰ã€‚å› ä¸ºä¸€æ—¦æš‚å­˜ï¼Œå°±è¡¨ç¤ºå†²çªå·²ç»è§£å†³ã€‚å¦‚æœä½ æƒ³ç”¨ä¸€ä¸ªæœ‰å›¾å½¢ç•Œé¢çš„å·¥å…·æ¥è§£å†³è¿™äº›é—®é¢˜ï¼Œä¸å¦¨è¿è¡Œgit mergetoolï¼Œå®ƒä¼šè°ƒç”¨ä¸€ä¸ªå¯è§†åŒ–çš„åˆå¹¶å·¥å…·å¹¶å¼•å¯¼ä½ è§£å†³æ‰€æœ‰å†²çªï¼š $ git mergetool merge tool candidates: kdiff3 tkdiff xxdiff meld gvimdiff opendiff emerge vimdiff Merging the files: index.html Normal merge conflict for &apos;index.html&apos;: {local}: modified {remote}: modified Hit return to start merge resolution tool (opendiff): å¦‚æœä¸æƒ³ç”¨é»˜è®¤çš„åˆå¹¶å·¥å…·ï¼ˆGit ä¸ºæˆ‘é»˜è®¤é€‰æ‹©äº† opendiffï¼Œå› ä¸ºæˆ‘åœ¨ Mac ä¸Šè¿è¡Œäº†è¯¥å‘½ä»¤ï¼‰ï¼Œä½ å¯ä»¥åœ¨ä¸Šæ–¹â€merge tool candidatesâ€é‡Œæ‰¾åˆ°å¯ç”¨çš„åˆå¹¶å·¥å…·åˆ—è¡¨ï¼Œè¾“å…¥ä½ æƒ³ç”¨çš„å·¥å…·åã€‚æˆ‘ä»¬å°†åœ¨ç¬¬ä¸ƒç« è®¨è®ºæ€æ ·æ”¹å˜ç¯å¢ƒä¸­çš„é»˜è®¤å€¼ã€‚ é€€å‡ºåˆå¹¶å·¥å…·ä»¥åï¼ŒGit ä¼šè¯¢é—®ä½ åˆå¹¶æ˜¯å¦æˆåŠŸã€‚å¦‚æœå›ç­”æ˜¯ï¼Œå®ƒä¼šä¸ºä½ æŠŠç›¸å…³æ–‡ä»¶æš‚å­˜èµ·æ¥ï¼Œä»¥è¡¨æ˜çŠ¶æ€ä¸ºå·²è§£å†³ã€‚ å†è¿è¡Œä¸€æ¬¡ git status æ¥ç¡®è®¤æ‰€æœ‰å†²çªéƒ½å·²è§£å†³ï¼š $ git status # On branch master # Changes to be committed: # (use &quot;git reset HEAD ...&quot; to unstage) # # modified: index.html # å¦‚æœè§‰å¾—æ»¡æ„äº†ï¼Œå¹¶ä¸”ç¡®è®¤æ‰€æœ‰å†²çªéƒ½å·²è§£å†³ï¼Œä¹Ÿå°±æ˜¯è¿›å…¥äº†æš‚å­˜åŒºï¼Œå°±å¯ä»¥ç”¨ git commit æ¥å®Œæˆè¿™æ¬¡åˆå¹¶æäº¤ã€‚æäº¤çš„è®°å½•å·®ä¸å¤šæ˜¯è¿™æ ·ï¼š Merge branch &apos;iss53&apos; Conflicts: index.html # # It looks like you may be committing a MERGE. # If this is not correct, please remove the file # .git/MERGE_HEAD # and try again. # å¦‚æœæƒ³ç»™å°†æ¥çœ‹è¿™æ¬¡åˆå¹¶çš„äººä¸€äº›æ–¹ä¾¿ï¼Œå¯ä»¥ä¿®æ”¹è¯¥ä¿¡æ¯ï¼Œæä¾›æ›´å¤šåˆå¹¶ç»†èŠ‚ã€‚æ¯”å¦‚ä½ éƒ½ä½œäº†å“ªäº›æ”¹åŠ¨ï¼Œä»¥åŠè¿™ä¹ˆåšçš„åŸå› ã€‚æœ‰æ—¶å€™è£å†³å†²çªçš„ç†ç”±å¹¶ä¸ç›´æ¥æˆ–æ˜æ˜¾ï¼Œæœ‰å¿…è¦ç•¥åŠ æ³¨è§£ã€‚ åˆ†æ”¯çš„ç®¡ç† åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•åˆ›å»ºã€åˆå¹¶å’Œåˆ é™¤åˆ†æ”¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å­¦ä¹ å¦‚ä½•ç®¡ç†åˆ†æ”¯ï¼Œåœ¨æ—¥åçš„å¸¸è§„å·¥ä½œä¸­ä¼šç»å¸¸ç”¨åˆ°ä¸‹é¢ä»‹ç»çš„ç®¡ç†å‘½ä»¤ git branch å‘½ä»¤ä¸ä»…ä»…èƒ½åˆ›å»ºå’Œåˆ é™¤åˆ†æ”¯ï¼Œå¦‚æœä¸åŠ ä»»ä½•å‚æ•°ï¼Œå®ƒä¼šç»™å‡ºå½“å‰æ‰€æœ‰åˆ†æ”¯çš„æ¸…å• $ git branch iss53 * master testing æ³¨æ„çœ‹ master åˆ†æ”¯å‰çš„ * å­—ç¬¦ï¼šå®ƒè¡¨ç¤ºå½“å‰æ‰€åœ¨çš„åˆ†æ”¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç°åœ¨æäº¤æ›´æ–°ï¼Œmaster åˆ†æ”¯å°†éšç€å¼€å‘è¿›åº¦å‰ç§»ã€‚è‹¥è¦æŸ¥çœ‹å„ä¸ªåˆ†æ”¯æœ€åä¸€ä¸ªæäº¤å¯¹è±¡çš„ä¿¡æ¯ï¼Œè¿è¡Œgit branch -v $ git branch -v iss53 93b412c fix javascript issue * master 7a98805 Merge branch &apos;iss53&apos; testing 782fd34 add scott to the author list in the readmes è¦ä»è¯¥æ¸…å•ä¸­ç­›é€‰å‡ºä½ å·²ç»ï¼ˆæˆ–å°šæœªï¼‰ä¸å½“å‰åˆ†æ”¯åˆå¹¶çš„åˆ†æ”¯ï¼Œå¯ä»¥ç”¨ â€“merge å’Œ â€“no-merged é€‰é¡¹ï¼ˆGit 1.5.6 ä»¥ä¸Šç‰ˆæœ¬ï¼‰ã€‚æ¯”å¦‚ç”¨git branch â€“merge æŸ¥çœ‹å“ªäº›åˆ†æ”¯å·²è¢«å¹¶å…¥å½“å‰åˆ†æ”¯ï¼ˆè¯‘æ³¨ï¼šä¹Ÿå°±æ˜¯è¯´å“ªäº›åˆ†æ”¯æ˜¯å½“å‰åˆ†æ”¯çš„ç›´æ¥ä¸Šæ¸¸ã€‚ï¼‰ï¼š $ git branch --merged iss53 * master ä¹‹å‰æˆ‘ä»¬å·²ç»åˆå¹¶äº† iss53ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¼šçœ‹åˆ°å®ƒã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåˆ—è¡¨ä¸­æ²¡æœ‰ * çš„åˆ†æ”¯é€šå¸¸éƒ½å¯ä»¥ç”¨ git branch -d æ¥åˆ æ‰ã€‚åŸå› å¾ˆç®€å•ï¼Œæ—¢ç„¶å·²ç»æŠŠå®ƒä»¬æ‰€åŒ…å«çš„å·¥ä½œæ•´åˆåˆ°äº†å…¶ä»–åˆ†æ”¯ï¼Œåˆ æ‰ä¹Ÿä¸ä¼šæŸå¤±ä»€ä¹ˆã€‚ å¦å¤–å¯ä»¥ç”¨ git branch â€“no-merged æŸ¥çœ‹å°šæœªåˆå¹¶çš„å·¥ä½œï¼š $ git branch --no-merged testing å®ƒä¼šæ˜¾ç¤ºè¿˜æœªåˆå¹¶è¿›æ¥çš„åˆ†æ”¯ã€‚ç”±äºè¿™äº›åˆ†æ”¯ä¸­è¿˜åŒ…å«ç€å°šæœªåˆå¹¶è¿›æ¥çš„å·¥ä½œæˆæœï¼Œæ‰€ä»¥ç®€å•åœ°ç”¨ git branch -d åˆ é™¤è¯¥åˆ†æ”¯ä¼šæç¤ºé”™è¯¯ï¼Œå› ä¸ºé‚£æ ·åšä¼šä¸¢å¤±æ•°æ® $ git branch -d testing error: The branch &apos;testing&apos; is not an ancestor of your current HEAD. If you are sure you want to delete it, run &apos;git branch -D testing&apos;. ä¸è¿‡ï¼Œå¦‚æœä½ ç¡®å®æƒ³è¦åˆ é™¤è¯¥åˆ†æ”¯ä¸Šçš„æ”¹åŠ¨ï¼Œå¯ä»¥ç”¨å¤§å†™çš„åˆ é™¤é€‰é¡¹ -D å¼ºåˆ¶æ‰§è¡Œï¼Œå°±åƒä¸Šé¢æç¤ºä¿¡æ¯ä¸­ç»™å‡ºçš„é‚£æ ·ã€‚ åˆ©ç”¨åˆ†æ”¯è¿›è¡Œå¼€å‘çš„å·¥ä½œæµç¨‹ é•¿æœŸåˆ†æ”¯ ç”±äº Git ä½¿ç”¨ç®€å•çš„ä¸‰æ–¹åˆå¹¶ï¼Œæ‰€ä»¥å°±ç®—åœ¨è¾ƒé•¿ä¸€æ®µæ—¶é—´å†…ï¼Œåå¤å¤šæ¬¡æŠŠæŸä¸ªåˆ†æ”¯åˆå¹¶åˆ°å¦ä¸€åˆ†æ”¯ï¼Œä¹Ÿä¸æ˜¯ä»€ä¹ˆéš¾äº‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥åŒæ—¶æ‹¥æœ‰å¤šä¸ªå¼€æ”¾çš„åˆ†æ”¯ï¼Œæ¯ä¸ªåˆ†æ”¯ç”¨äºå®Œæˆç‰¹å®šçš„ä»»åŠ¡ï¼Œéšç€å¼€å‘çš„æ¨è¿›ï¼Œä½ å¯ä»¥éšæ—¶æŠŠæŸä¸ªç‰¹æ€§åˆ†æ”¯çš„æˆæœå¹¶åˆ°å…¶ä»–åˆ†æ”¯ä¸­ã€‚ è®¸å¤šä½¿ç”¨ Git çš„å¼€å‘è€…éƒ½å–œæ¬¢ç”¨è¿™ç§æ–¹å¼æ¥å¼€å±•å·¥ä½œï¼Œæ¯”å¦‚ä»…åœ¨ master åˆ†æ”¯ä¸­ä¿ç•™å®Œå…¨ç¨³å®šçš„ä»£ç ï¼Œå³å·²ç»å‘å¸ƒæˆ–å³å°†å‘å¸ƒçš„ä»£ç ã€‚ä¸æ­¤åŒæ—¶ï¼Œä»–ä»¬è¿˜æœ‰ä¸€ä¸ªåä¸ºdevelop æˆ– next çš„å¹³è¡Œåˆ†æ”¯ï¼Œä¸“é—¨ç”¨äºåç»­çš„å¼€å‘ï¼Œæˆ–ä»…ç”¨äºç¨³å®šæ€§æµ‹è¯• â€” å½“ç„¶å¹¶ä¸æ˜¯è¯´ä¸€å®šè¦ç»å¯¹ç¨³å®šï¼Œä¸è¿‡ä¸€æ—¦è¿›å…¥æŸç§ç¨³å®šçŠ¶æ€ï¼Œä¾¿å¯ä»¥æŠŠå®ƒåˆå¹¶åˆ°master é‡Œã€‚è¿™æ ·ï¼Œåœ¨ç¡®ä¿è¿™äº›å·²å®Œæˆçš„ç‰¹æ€§åˆ†æ”¯ï¼ˆçŸ­æœŸåˆ†æ”¯ï¼Œæ¯”å¦‚ä¹‹å‰çš„ iss53 åˆ†æ”¯ï¼‰èƒ½å¤Ÿé€šè¿‡æ‰€æœ‰æµ‹è¯•ï¼Œå¹¶ä¸”ä¸ä¼šå¼•å…¥æ›´å¤šé”™è¯¯ä¹‹åï¼Œå°±å¯ä»¥å¹¶åˆ°ä¸»å¹²åˆ†æ”¯ä¸­ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡çš„å‘å¸ƒ æœ¬è´¨ä¸Šæˆ‘ä»¬åˆšæ‰è°ˆè®ºçš„ï¼Œæ˜¯éšç€æäº¤å¯¹è±¡ä¸æ–­å³ç§»çš„æŒ‡é’ˆã€‚ç¨³å®šåˆ†æ”¯çš„æŒ‡é’ˆæ€»æ˜¯åœ¨æäº¤å†å²ä¸­è½åä¸€å¤§æˆªï¼Œè€Œå‰æ²¿åˆ†æ”¯æ€»æ˜¯æ¯”è¾ƒé å‰ æˆ–è€…æŠŠå®ƒä»¬æƒ³è±¡æˆå·¥ä½œæµæ°´çº¿ï¼Œæˆ–è®¸æ›´å¥½ç†è§£ä¸€äº›ï¼Œç»è¿‡æµ‹è¯•çš„æäº¤å¯¹è±¡é›†åˆè¢«é´é€‰åˆ°æ›´ç¨³å®šçš„æµæ°´çº¿ï¼ˆè§å›¾ ï¼‰ã€‚ ä½ å¯ä»¥ç”¨è¿™æ‹›ç»´æŠ¤ä¸åŒå±‚æ¬¡çš„ç¨³å®šæ€§ã€‚æŸäº›å¤§é¡¹ç›®è¿˜ä¼šæœ‰ä¸ª proposedï¼ˆå»ºè®®ï¼‰æˆ– puï¼ˆproposed updatesï¼Œå»ºè®®æ›´æ–°ï¼‰åˆ†æ”¯ï¼Œå®ƒåŒ…å«ç€é‚£äº›å¯èƒ½è¿˜æ²¡æœ‰æˆç†Ÿåˆ°è¿›å…¥next æˆ– master çš„å†…å®¹ã€‚è¿™ä¹ˆåšçš„ç›®çš„æ˜¯æ‹¥æœ‰ä¸åŒå±‚æ¬¡çš„ç¨³å®šæ€§ï¼šå½“è¿™äº›åˆ†æ”¯è¿›å…¥åˆ°æ›´ç¨³å®šçš„æ°´å¹³æ—¶ï¼Œå†æŠŠå®ƒä»¬åˆå¹¶åˆ°æ›´é«˜å±‚åˆ†æ”¯ä¸­å»ã€‚å†æ¬¡è¯´æ˜ä¸‹ï¼Œä½¿ç”¨å¤šä¸ªé•¿æœŸåˆ†æ”¯çš„åšæ³•å¹¶éå¿…éœ€ï¼Œä¸è¿‡ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºç‰¹å¤§å‹é¡¹ç›®æˆ–ç‰¹å¤æ‚çš„é¡¹ç›®ï¼Œè¿™ä¹ˆåšç¡®å®æ›´å®¹æ˜“ç®¡ç†ã€‚ ç‰¹æ€§åˆ†æ”¯ åœ¨ä»»ä½•è§„æ¨¡çš„é¡¹ç›®ä¸­éƒ½å¯ä»¥ä½¿ç”¨ç‰¹æ€§ï¼ˆTopicï¼‰åˆ†æ”¯ã€‚ä¸€ä¸ªç‰¹æ€§åˆ†æ”¯æ˜¯æŒ‡ä¸€ä¸ªçŸ­æœŸçš„ï¼Œç”¨æ¥å®ç°å•ä¸€ç‰¹æ€§æˆ–ä¸å…¶ç›¸å…³å·¥ä½œçš„åˆ†æ”¯ã€‚å¯èƒ½ä½ åœ¨ä»¥å‰çš„ç‰ˆæœ¬æ§ åˆ¶ç³»ç»Ÿé‡Œä»æœªåšè¿‡ç±»ä¼¼è¿™æ ·çš„äº‹æƒ…ï¼Œå› ä¸ºé€šå¸¸åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯æ¶ˆè€—å¤ªå¤§ã€‚ç„¶è€Œåœ¨ Git ä¸­ï¼Œä¸€å¤©ä¹‹å†…å»ºç«‹ã€ä½¿ç”¨ã€åˆå¹¶å†åˆ é™¤å¤šä¸ªåˆ†æ”¯æ˜¯å¸¸è§çš„äº‹ã€‚ æˆ‘ä»¬åœ¨ä¸ŠèŠ‚çš„ä¾‹å­é‡Œå·²ç»è§è¿‡è¿™ç§ç”¨æ³•äº†ã€‚æˆ‘ä»¬åˆ›å»ºäº† iss53 å’Œ hotfix è¿™ä¸¤ä¸ªç‰¹æ€§åˆ†æ”¯ï¼Œåœ¨æäº¤äº†è‹¥å¹²æ›´æ–°åï¼ŒæŠŠå®ƒä»¬åˆå¹¶åˆ°ä¸»å¹²åˆ†æ”¯ï¼Œç„¶ååˆ é™¤ã€‚è¯¥æŠ€æœ¯å…è®¸ä½ è¿…é€Ÿä¸”å®Œå…¨çš„è¿›è¡Œè¯­å¢ƒåˆ‡æ¢ â€” å› ä¸ºä½ çš„å·¥ä½œåˆ†æ•£åœ¨ä¸åŒçš„æµæ°´çº¿é‡Œï¼Œæ¯ä¸ªåˆ†æ”¯é‡Œçš„æ”¹å˜éƒ½å’Œå®ƒçš„ç›®æ ‡ç‰¹æ€§ç›¸å…³ï¼Œæµè§ˆä»£ç ä¹‹ç±»çš„äº‹æƒ…å› è€Œå˜å¾—æ›´ç®€å•äº†ã€‚ä½ å¯ä»¥æŠŠä½œå‡ºçš„æ”¹å˜ä¿æŒåœ¨ç‰¹æ€§åˆ†æ”¯ä¸­å‡  åˆ†é’Ÿï¼Œå‡ å¤©ç”šè‡³å‡ ä¸ªæœˆï¼Œç­‰å®ƒä»¬æˆç†Ÿä»¥åå†åˆå¹¶ï¼Œè€Œä¸ç”¨åœ¨ä¹å®ƒä»¬å»ºç«‹çš„é¡ºåºæˆ–è€…è¿›åº¦ã€‚ ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®é™…çš„ä¾‹å­ã€‚è¯·çœ‹å›¾ ï¼Œç”±ä¸‹å¾€ä¸Šï¼Œèµ·å…ˆæˆ‘ä»¬åœ¨ master å·¥ä½œåˆ° C1ï¼Œç„¶åå¼€å§‹ä¸€ä¸ªæ–°åˆ†æ”¯ iss91 å°è¯•ä¿®å¤ 91 å·ç¼ºé™·ï¼Œæäº¤åˆ° C6 çš„æ—¶å€™ï¼Œåˆå†’å‡ºä¸€ä¸ªè§£å†³è¯¥é—®é¢˜çš„æ–°åŠæ³•ï¼Œäºæ˜¯ä»ä¹‹å‰ C4 çš„åœ°æ–¹åˆåˆ†å‡ºä¸€ä¸ªåˆ†æ”¯iss91v2ï¼Œå¹²åˆ° C8 çš„æ—¶å€™ï¼Œåˆå›åˆ°ä¸»å¹² master ä¸­æäº¤äº† C9 å’Œ C10ï¼Œå†å›åˆ° iss91v2 ç»§ç»­å·¥ä½œï¼Œæäº¤ C11ï¼Œæ¥ç€ï¼Œåˆå†’å‡ºä¸ªä¸å¤ªç¡®å®šçš„æƒ³æ³•ï¼Œä» master çš„æœ€æ–°æäº¤ C10 å¤„å¼€äº†ä¸ªæ–°çš„åˆ†æ”¯dumbidea åšäº›è¯•éªŒã€‚ ç°åœ¨ï¼Œå‡å®šä¸¤ä»¶äº‹æƒ…ï¼šæˆ‘ä»¬æœ€ç»ˆå†³å®šä½¿ç”¨ç¬¬äºŒä¸ªè§£å†³æ–¹æ¡ˆï¼Œå³ iss91v2 ä¸­çš„åŠæ³•ï¼›å¦å¤–ï¼Œæˆ‘ä»¬æŠŠ dumbidea åˆ†æ”¯æ‹¿ç»™åŒäº‹ä»¬çœ‹äº†ä»¥åï¼Œå‘ç°å®ƒç«Ÿç„¶æ˜¯ä¸ªå¤©æ‰ä¹‹ä½œã€‚æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å‡†å¤‡æŠ›å¼ƒåŸæ¥çš„iss91 åˆ†æ”¯ï¼ˆå®é™…ä¸Šä¼šä¸¢å¼ƒ C5 å’Œ C6ï¼‰ï¼Œç›´æ¥åœ¨ä¸»å¹²ä¸­å¹¶å…¥å¦å¤–ä¸¤ä¸ªåˆ†æ”¯ã€‚æœ€ç»ˆçš„æäº¤å†å²å°†å˜æˆå›¾ è¿™æ · è¯·åŠ¡å¿…ç‰¢è®°è¿™äº›åˆ†æ”¯å…¨éƒ¨éƒ½æ˜¯æœ¬åœ°åˆ†æ”¯ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚å½“ä½ åœ¨ä½¿ç”¨åˆ†æ”¯åŠåˆå¹¶çš„æ—¶å€™ï¼Œä¸€åˆ‡éƒ½æ˜¯åœ¨ä½ è‡ªå·±çš„ Git ä»“åº“ä¸­è¿›è¡Œçš„ â€” å®Œå…¨ä¸æ¶‰åŠä¸æœåŠ¡å™¨çš„äº¤äº’ è¿œç¨‹åˆ†æ”¯ è¿œç¨‹åˆ†æ”¯ï¼ˆremote branchï¼‰æ˜¯å¯¹è¿œç¨‹ä»“åº“ä¸­çš„åˆ†æ”¯çš„ç´¢å¼•ã€‚å®ƒä»¬æ˜¯ä¸€äº›æ— æ³•ç§»åŠ¨çš„æœ¬åœ°åˆ†æ”¯ï¼›åªæœ‰åœ¨ Git è¿›è¡Œç½‘ç»œäº¤äº’æ—¶æ‰ä¼šæ›´æ–°ã€‚è¿œç¨‹åˆ†æ”¯å°±åƒæ˜¯ä¹¦ç­¾ï¼Œæé†’ç€ä½ ä¸Šæ¬¡è¿æ¥è¿œç¨‹ä»“åº“æ—¶ä¸Šé¢å„åˆ†æ”¯çš„ä½ç½®ã€‚ æˆ‘ä»¬ç”¨ (è¿œç¨‹ä»“åº“å)/(åˆ†æ”¯å) è¿™æ ·çš„å½¢å¼è¡¨ç¤ºè¿œç¨‹åˆ†æ”¯ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³çœ‹çœ‹ä¸Šæ¬¡åŒ origin ä»“åº“é€šè®¯æ—¶master çš„æ ·å­ï¼Œå°±åº”è¯¥æŸ¥çœ‹ origin/master åˆ†æ”¯ã€‚å¦‚æœä½ å’ŒåŒä¼´ä¸€èµ·ä¿®å¤æŸä¸ªé—®é¢˜ï¼Œä½†ä»–ä»¬å…ˆæ¨é€äº†ä¸€ä¸ªiss53 åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œè™½ç„¶ä½ å¯èƒ½ä¹Ÿæœ‰ä¸€ä¸ªæœ¬åœ°çš„ iss53 åˆ†æ”¯ï¼Œä½†æŒ‡å‘æœåŠ¡å™¨ä¸Šæœ€æ–°æ›´æ–°çš„å´åº”è¯¥æ˜¯ origin/iss53 åˆ†æ”¯ã€‚ å¯èƒ½æœ‰ç‚¹ä¹±ï¼Œæˆ‘ä»¬ä¸å¦¨ä¸¾ä¾‹è¯´æ˜ã€‚å‡è®¾ä½ ä»¬å›¢é˜Ÿæœ‰ä¸ªåœ°å€ä¸º git.ourcompany.com çš„ Git æœåŠ¡å™¨ã€‚å¦‚æœä½ ä»è¿™é‡Œå…‹éš†ï¼ŒGit ä¼šè‡ªåŠ¨ä¸ºä½ å°†æ­¤è¿œç¨‹ä»“åº“å‘½åä¸ºoriginï¼Œå¹¶ä¸‹è½½å…¶ä¸­æ‰€æœ‰çš„æ•°æ®ï¼Œå»ºç«‹ä¸€ä¸ªæŒ‡å‘å®ƒçš„ master åˆ†æ”¯çš„æŒ‡é’ˆï¼Œåœ¨æœ¬åœ°å‘½åä¸º origin/masterï¼Œä½†ä½ æ— æ³•åœ¨æœ¬åœ°æ›´æ”¹å…¶æ•°æ®ã€‚æ¥ç€ï¼ŒGit å»ºç«‹ä¸€ä¸ªå±äºä½ è‡ªå·±çš„æœ¬åœ°master åˆ†æ”¯ï¼Œå§‹äº origin ä¸Š master åˆ†æ”¯ç›¸åŒçš„ä½ç½®ï¼Œä½ å¯ä»¥å°±æ­¤å¼€å§‹å·¥ä½œ ä¸€æ¬¡ Git å…‹éš†ä¼šå»ºç«‹ä½ è‡ªå·±çš„æœ¬åœ°åˆ†æ”¯ master å’Œè¿œç¨‹åˆ†æ”¯ origin/masterï¼Œå®ƒä»¬éƒ½æŒ‡å‘ origin/master åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤ã€‚ å¦‚æœä½ åœ¨æœ¬åœ° master åˆ†æ”¯åšäº†äº›æ”¹åŠ¨ï¼Œä¸æ­¤åŒæ—¶ï¼Œå…¶ä»–äººå‘ git.ourcompany.com æ¨é€äº†ä»–ä»¬çš„æ›´æ–°ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¸Šçš„master åˆ†æ”¯å°±ä¼šå‘å‰æ¨è¿›ï¼Œè€Œäºæ­¤åŒæ—¶ï¼Œä½ åœ¨æœ¬åœ°çš„æäº¤å†å²æ­£æœå‘ä¸åŒæ–¹å‘å‘å±•ã€‚ä¸è¿‡åªè¦ä½ ä¸å’ŒæœåŠ¡å™¨é€šè®¯ï¼Œä½ çš„ origin/master æŒ‡é’ˆä»ç„¶ä¿æŒåŸä½ä¸ä¼šç§»åŠ¨ å¯ä»¥è¿è¡Œ git fetch origin æ¥åŒæ­¥è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æ•°æ®åˆ°æœ¬åœ°ã€‚è¯¥å‘½ä»¤é¦–å…ˆæ‰¾åˆ° origin æ˜¯å“ªä¸ªæœåŠ¡å™¨ï¼ˆæœ¬ä¾‹ä¸ºgit.ourcompany.comï¼‰ï¼Œä»ä¸Šé¢è·å–ä½ å°šæœªæ‹¥æœ‰çš„æ•°æ®ï¼Œæ›´æ–°ä½ æœ¬åœ°çš„æ•°æ®åº“ï¼Œç„¶åæŠŠ origin/master çš„æŒ‡é’ˆç§»åˆ°å®ƒæœ€æ–°çš„ä½ç½®ä¸Š git fetch å‘½ä»¤ä¼šæ›´æ–° remote ç´¢å¼• ä¸ºäº†æ¼”ç¤ºæ‹¥æœ‰å¤šä¸ªè¿œç¨‹åˆ†æ”¯ï¼ˆåœ¨ä¸åŒçš„è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼‰çš„é¡¹ç›®æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘ä»¬å‡è®¾ä½ è¿˜æœ‰å¦ä¸€ä¸ªä»…ä¾›ä½ çš„æ•æ·å¼€å‘å°ç»„ä½¿ç”¨çš„å†…éƒ¨æœåŠ¡å™¨ git.team1.ourcompany.comã€‚å¯ä»¥ç”¨ç¬¬äºŒç« ä¸­æåˆ°çš„git remote add å‘½ä»¤æŠŠå®ƒåŠ ä¸ºå½“å‰é¡¹ç›®çš„è¿œç¨‹åˆ†æ”¯ä¹‹ä¸€ã€‚æˆ‘ä»¬æŠŠå®ƒå‘½åä¸º teamoneï¼Œä»¥ä¾¿ä»£æ›¿åŸå§‹çš„ Git åœ°å€ æŠŠå¦ä¸€ä¸ªæœåŠ¡å™¨åŠ ä¸ºè¿œç¨‹ä»“åº“ ç°åœ¨ä½ å¯ä»¥ç”¨ git fetch teamone æ¥è·å–å°ç»„æœåŠ¡å™¨ä¸Šä½ è¿˜æ²¡æœ‰çš„æ•°æ®äº†ã€‚ç”±äºå½“å‰è¯¥æœåŠ¡å™¨ä¸Šçš„å†…å®¹æ˜¯ä½  origin æœåŠ¡å™¨ä¸Šçš„å­é›†ï¼ŒGit ä¸ä¼šä¸‹è½½ä»»ä½•æ•°æ®ï¼Œè€Œåªæ˜¯ç®€å•åœ°åˆ›å»ºä¸€ä¸ªåä¸ºteamone/master çš„åˆ†æ”¯ï¼ŒæŒ‡å‘ teamone æœåŠ¡å™¨ä¸Š master åˆ†æ”¯æ‰€åœ¨çš„æäº¤å¯¹è±¡31b8e ä½ åœ¨æœ¬åœ°æœ‰äº†ä¸€ä¸ªæŒ‡å‘ teamone æœåŠ¡å™¨ä¸Š master åˆ†æ”¯çš„ç´¢å¼•ã€‚ æ¨é€æœ¬åœ°åˆ†æ”¯ è¦æƒ³å’Œå…¶ä»–äººåˆ†äº«æŸä¸ªæœ¬åœ°åˆ†æ”¯ï¼Œä½ éœ€è¦æŠŠå®ƒæ¨é€åˆ°ä¸€ä¸ªä½ æ‹¥æœ‰å†™æƒé™çš„è¿œç¨‹ä»“åº“ã€‚ä½ çš„æœ¬åœ°åˆ†æ”¯ä¸ä¼šè¢«è‡ªåŠ¨åŒæ­¥åˆ°ä½ å¼•å…¥çš„è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œé™¤éä½ æ˜ç¡®æ‰§è¡Œæ¨é€æ“ä½œã€‚æ¢å¥è¯è¯´ï¼Œå¯¹äºæ— æ„åˆ†äº«çš„åˆ†æ”¯ï¼Œä½ å°½ç®¡ä¿ç•™ä¸ºç§äººåˆ†æ”¯å¥½äº†ï¼Œè€Œåªæ¨é€é‚£äº›ååŒå·¥ä½œè¦ç”¨åˆ°çš„ç‰¹æ€§åˆ†æ”¯ã€‚ å¦‚æœä½ æœ‰ä¸ªå« serverfix çš„åˆ†æ”¯éœ€è¦å’Œä»–äººä¸€èµ·å¼€å‘ï¼Œå¯ä»¥è¿è¡Œ git push (è¿œç¨‹ä»“åº“å) (åˆ†æ”¯å) $ git push origin serverfix Counting objects: 20, done. Compressing objects: 100% (14/14), done. Writing objects: 100% (15/15), 1.74 KiB, done. Total 15 (delta 5), reused 0 (delta 0) To git@github.com:schacon/simplegit.git * [new branch] serverfix -&gt; serverfix å…¶å®æœ‰ç‚¹åƒæ¡æ·å¾„ã€‚Git è‡ªåŠ¨æŠŠ serverfix åˆ†æ”¯åæ‰©å±•ä¸º refs/heads/serverfix:refs/heads/serverfixï¼Œæ„ä¸ºâ€œå–å‡ºæˆ‘åœ¨æœ¬åœ°çš„ serverfix åˆ†æ”¯ï¼Œæ¨é€åˆ°è¿œç¨‹ä»“åº“çš„ serverfix åˆ†æ”¯ä¸­å»â€ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬ä¹ç« è¿›ä¸€æ­¥ä»‹ç»refs/heads/ éƒ¨åˆ†çš„ç»†èŠ‚ï¼Œä¸è¿‡ä¸€èˆ¬ä½¿ç”¨çš„æ—¶å€™éƒ½å¯ä»¥çœç•¥å®ƒã€‚ä¹Ÿå¯ä»¥è¿è¡Œ git push origin serverfix:serferfix æ¥å®ç°ç›¸åŒçš„æ•ˆæœï¼Œå®ƒçš„æ„æ€æ˜¯â€œä¸Šä¼ æˆ‘æœ¬åœ°çš„ serverfix åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ä¸­å»ï¼Œä»æ—§ç§°å®ƒä¸º serverfix åˆ†æ”¯â€ã€‚é€šè¿‡æ­¤è¯­æ³•ï¼Œä½ å¯ä»¥æŠŠæœ¬åœ°åˆ†æ”¯æ¨é€åˆ°æŸä¸ªå‘½åä¸åŒçš„è¿œç¨‹åˆ†æ”¯ï¼šè‹¥æƒ³æŠŠè¿œç¨‹åˆ†æ”¯å«ä½œawesomebranchï¼Œå¯ä»¥ç”¨ git push origin serverfix:awesomebranch æ¥æ¨é€æ•°æ®ã€‚ æ¥ä¸‹æ¥ï¼Œå½“ä½ çš„åä½œè€…å†æ¬¡ä»æœåŠ¡å™¨ä¸Šè·å–æ•°æ®æ—¶ï¼Œä»–ä»¬å°†å¾—åˆ°ä¸€ä¸ªæ–°çš„è¿œç¨‹åˆ†æ”¯ origin/serverfix $ git fetch origin remote: Counting objects: 20, done. remote: Compressing objects: 100% (14/14), done. remote: Total 15 (delta 5), reused 0 (delta 0) Unpacking objects: 100% (15/15), done. From git@github.com:schacon/simplegit * [new branch] serverfix -&gt; origin/serverfix å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ fetch æ“ä½œä¸‹è½½å¥½æ–°çš„è¿œç¨‹åˆ†æ”¯ä¹‹åï¼Œä½ ä»ç„¶æ— æ³•åœ¨æœ¬åœ°ç¼–è¾‘è¯¥è¿œç¨‹ä»“åº“ä¸­çš„åˆ†æ”¯ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œä½ ä¸ä¼šæœ‰ä¸€ä¸ªæ–°çš„serverfix åˆ†æ”¯ï¼Œæœ‰çš„åªæ˜¯ä¸€ä¸ªä½ æ— æ³•ç§»åŠ¨çš„ origin/serverfix æŒ‡é’ˆã€‚ å¦‚æœè¦æŠŠè¯¥å†…å®¹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼Œå¯ä»¥è¿è¡Œ git merge origin/serverfixã€‚å¦‚æœæƒ³è¦ä¸€ä»½è‡ªå·±çš„ serverfix æ¥å¼€å‘ï¼Œå¯ä»¥åœ¨è¿œç¨‹åˆ†æ”¯çš„åŸºç¡€ä¸Šåˆ†åŒ–å‡ºä¸€ä¸ªæ–°çš„åˆ†æ”¯æ¥ï¼š $ git checkout -b serverfix origin/serverfix Branch serverfix set up to track remote branch refs/remotes/origin/serverfix. Switched to a new branch â€œserverfixâ€ è¿™ä¼šåˆ‡æ¢åˆ°æ–°å»ºçš„ serverfix æœ¬åœ°åˆ†æ”¯ï¼Œå…¶å†…å®¹åŒè¿œç¨‹åˆ†æ”¯ origin/serverfix ä¸€è‡´ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨é‡Œé¢ç»§ç»­å¼€å‘äº†ã€‚ è·Ÿè¸ªè¿œç¨‹åˆ†æ”¯ ä»è¿œç¨‹åˆ†æ”¯ checkout å‡ºæ¥çš„æœ¬åœ°åˆ†æ”¯ï¼Œç§°ä¸ºè·Ÿè¸ªåˆ†æ”¯(tracking branch)ã€‚è·Ÿè¸ªåˆ†æ”¯æ˜¯ä¸€ç§å’Œè¿œç¨‹åˆ†æ”¯æœ‰ç›´æ¥è”ç³»çš„æœ¬åœ°åˆ†æ”¯ã€‚åœ¨è·Ÿè¸ªåˆ†æ”¯é‡Œè¾“å…¥git pushï¼ŒGit ä¼šè‡ªè¡Œæ¨æ–­åº”è¯¥å‘å“ªä¸ªæœåŠ¡å™¨çš„å“ªä¸ªåˆ†æ”¯æ¨é€æ•°æ®ã€‚åè¿‡æ¥ï¼Œåœ¨è¿™äº›åˆ†æ”¯é‡Œè¿è¡Œ git pull ä¼šè·å–æ‰€æœ‰è¿œç¨‹ç´¢å¼•ï¼Œå¹¶æŠŠå®ƒä»¬çš„æ•°æ®éƒ½åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯ä¸­æ¥ã€‚ åœ¨å…‹éš†ä»“åº“æ—¶ï¼ŒGit é€šå¸¸ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåä¸º master çš„åˆ†æ”¯æ¥è·Ÿè¸ª origin/masterã€‚è¿™æ­£æ˜¯git push å’Œ git pull ä¸€å¼€å§‹å°±èƒ½æ­£å¸¸å·¥ä½œçš„åŸå› ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°è®¾å®šä¸ºå…¶å®ƒè·Ÿè¸ªåˆ†æ”¯ï¼Œæ¯”å¦‚origin ä¸Šé™¤äº† master ä¹‹å¤–çš„å…¶å®ƒåˆ†æ”¯ã€‚åˆšæ‰æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†è¿™æ ·çš„ä¸€ä¸ªä¾‹å­ï¼šgit checkout -b [åˆ†æ”¯å] [è¿œç¨‹å]/[åˆ†æ”¯å]ã€‚å¦‚æœä½ æœ‰ 1.6.2 ä»¥ä¸Šç‰ˆæœ¬çš„ Gitï¼Œè¿˜å¯ä»¥ç”¨â€“track é€‰é¡¹ç®€åŒ– $ git checkout --track origin/serverfix Branch serverfix set up to track remote branch refs/remotes/origin/serverfix. Switched to a new branch &quot;serverfix&quot; è¦ä¸ºæœ¬åœ°åˆ†æ”¯è®¾å®šä¸åŒäºè¿œç¨‹åˆ†æ”¯çš„åå­—ï¼Œåªéœ€åœ¨å‰ä¸ªç‰ˆæœ¬çš„å‘½ä»¤é‡Œæ¢ä¸ªåå­—ï¼š $ git checkout -b sf origin/serverfix Branch sf set up to track remote branch refs/remotes/origin/serverfix. Switched to a new branch &quot;sf&quot; ç°åœ¨ä½ çš„æœ¬åœ°åˆ†æ”¯ sf ä¼šè‡ªåŠ¨å‘ origin/serverfix æ¨é€å’ŒæŠ“å–æ•°æ®äº†ã€‚ åˆ é™¤è¿œç¨‹åˆ†æ”¯ å¦‚æœä¸å†éœ€è¦æŸä¸ªè¿œç¨‹åˆ†æ”¯äº†ï¼Œæ¯”å¦‚æå®šäº†æŸä¸ªç‰¹æ€§å¹¶æŠŠå®ƒåˆå¹¶è¿›äº†è¿œç¨‹çš„ master åˆ†æ”¯ï¼ˆæˆ–ä»»ä½•å…¶ä»–å­˜æ”¾ç¨³å®šä»£ç çš„åœ°æ–¹ï¼‰ï¼Œå¯ä»¥ç”¨è¿™ä¸ªéå¸¸æ— å˜å¤´çš„è¯­æ³•æ¥åˆ é™¤å®ƒï¼šgit push [è¿œç¨‹å] :[åˆ†æ”¯å]ã€‚å¦‚æœæƒ³åœ¨æœåŠ¡å™¨ä¸Šåˆ é™¤serverfix åˆ†æ”¯ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ $ git push origin :serverfix To git@github.com:schacon/simplegit.git - [deleted] serverfix å’šï¼æœåŠ¡å™¨ä¸Šçš„åˆ†æ”¯æ²¡äº†ã€‚ä½ æœ€å¥½ç‰¹åˆ«ç•™å¿ƒè¿™ä¸€é¡µï¼Œå› ä¸ºä½ ä¸€å®šä¼šç”¨åˆ°é‚£ä¸ªå‘½ä»¤ï¼Œè€Œä¸”ä½ å¾ˆå¯èƒ½ä¼šå¿˜æ‰å®ƒçš„è¯­æ³•ã€‚æœ‰ç§æ–¹ä¾¿è®°å¿†è¿™æ¡å‘½ä»¤çš„æ–¹æ³•ï¼šè®°ä½æˆ‘ä»¬ä¸ä¹…å‰è§è¿‡çš„ git push [è¿œç¨‹å] [æœ¬åœ°åˆ†æ”¯]:[è¿œç¨‹åˆ†æ”¯] è¯­æ³•ï¼Œå¦‚æœçœç•¥ [æœ¬åœ°åˆ†æ”¯]ï¼Œé‚£å°±ç­‰äºæ˜¯åœ¨è¯´â€œåœ¨è¿™é‡Œæå–ç©ºç™½ç„¶åæŠŠå®ƒå˜æˆ[è¿œç¨‹åˆ†æ”¯]â€ åˆ†æ”¯çš„è¡åˆ æŠŠä¸€ä¸ªåˆ†æ”¯æ•´åˆåˆ°å¦ä¸€ä¸ªåˆ†æ”¯çš„åŠæ³•æœ‰ä¸¤ç§ï¼šmerge å’Œ rebaseï¼ˆè¯‘æ³¨ï¼šrebase çš„ç¿»è¯‘æš‚å®šä¸ºâ€œè¡åˆâ€ï¼Œå¤§å®¶çŸ¥é“å°±å¯ä»¥äº†ã€‚ï¼‰ã€‚åœ¨æœ¬ç« æˆ‘ä»¬ä¼šå­¦ä¹ ä»€ä¹ˆæ˜¯è¡åˆï¼Œå¦‚ä½•ä½¿ç”¨è¡åˆï¼Œä¸ºä»€ä¹ˆè¡åˆæ“ä½œå¦‚æ­¤å¯Œæœ‰é­…åŠ›ï¼Œä»¥åŠæˆ‘ä»¬åº”è¯¥åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨è¡åˆã€‚ åŸºæœ¬çš„è¡åˆæ“ä½œ è¯·å›é¡¾ä¹‹å‰æœ‰å…³åˆå¹¶çš„ä¸€èŠ‚ï¼ˆè§å›¾ï¼‰ï¼Œä½ ä¼šçœ‹åˆ°å¼€å‘è¿›ç¨‹åˆ†å‰åˆ°ä¸¤ä¸ªä¸åŒåˆ†æ”¯ï¼Œåˆå„è‡ªæäº¤äº†æ›´æ–°ã€‚ ä¹‹å‰ä»‹ç»è¿‡ï¼Œæœ€å®¹æ˜“çš„æ•´åˆåˆ†æ”¯çš„æ–¹æ³•æ˜¯ merge å‘½ä»¤ï¼Œå®ƒä¼šæŠŠä¸¤ä¸ªåˆ†æ”¯æœ€æ–°çš„å¿«ç…§ï¼ˆC3 å’Œ C4ï¼‰ä»¥åŠäºŒè€…æœ€æ–°çš„å…±åŒç¥–å…ˆï¼ˆC2ï¼‰è¿›è¡Œä¸‰æ–¹åˆå¹¶ï¼Œåˆå¹¶çš„ç»“æœæ˜¯äº§ç”Ÿä¸€ä¸ªæ–°çš„æäº¤å¯¹è±¡ï¼ˆC5ï¼‰ å…¶å®ï¼Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªé€‰æ‹©ï¼šä½ å¯ä»¥æŠŠåœ¨ C3 é‡Œäº§ç”Ÿçš„å˜åŒ–è¡¥ä¸åœ¨ C4 çš„åŸºç¡€ä¸Šé‡æ–°æ‰“ä¸€éã€‚åœ¨ Git é‡Œï¼Œè¿™ç§æ“ä½œå«åšè¡åˆï¼ˆrebaseï¼‰ã€‚æœ‰äº† rebase å‘½ä»¤ï¼Œå°±å¯ä»¥æŠŠåœ¨ä¸€ä¸ªåˆ†æ”¯é‡Œæäº¤çš„æ”¹å˜ç§»åˆ°å¦ä¸€ä¸ªåˆ†æ”¯é‡Œé‡æ”¾ä¸€é åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿è¡Œ $ git checkout experiment $ git rebase master First, rewinding head to replay your work on top of it... Applying: added staged command å®ƒçš„åŸç†æ˜¯å›åˆ°ä¸¤ä¸ªåˆ†æ”¯æœ€è¿‘çš„å…±åŒç¥–å…ˆï¼Œæ ¹æ®å½“å‰åˆ†æ”¯ï¼ˆä¹Ÿå°±æ˜¯è¦è¿›è¡Œè¡åˆçš„åˆ†æ”¯ experimentï¼‰åç»­çš„å†æ¬¡æäº¤å¯¹è±¡ï¼ˆè¿™é‡Œåªæœ‰ä¸€ä¸ª C3ï¼‰ï¼Œç”Ÿæˆä¸€ç³»åˆ—æ–‡ä»¶è¡¥ä¸ï¼Œç„¶åä»¥åŸºåº•åˆ†æ”¯ï¼ˆä¹Ÿå°±æ˜¯ä¸»å¹²åˆ†æ”¯masterï¼‰æœ€åä¸€ä¸ªæäº¤å¯¹è±¡ï¼ˆC4ï¼‰ä¸ºæ–°çš„å‡ºå‘ç‚¹ï¼Œé€ä¸ªåº”ç”¨ä¹‹å‰å‡†å¤‡å¥½çš„è¡¥ä¸æ–‡ä»¶ï¼Œæœ€åä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„åˆå¹¶æäº¤å¯¹è±¡ï¼ˆC3â€™ï¼‰ï¼Œä»è€Œæ”¹å†™ experiment çš„æäº¤å†å²ï¼Œä½¿å®ƒæˆä¸º master åˆ†æ”¯çš„ç›´æ¥ä¸‹æ¸¸ï¼Œ ç°åœ¨å›åˆ° master åˆ†æ”¯ï¼Œè¿›è¡Œä¸€æ¬¡å¿«è¿›åˆå¹¶ ç°åœ¨çš„ C3â€™ å¯¹åº”çš„å¿«ç…§ï¼Œå…¶å®å’Œæ™®é€šçš„ä¸‰æ–¹åˆå¹¶ï¼Œå³ä¸Šä¸ªä¾‹å­ä¸­çš„ C5 å¯¹åº”çš„å¿«ç…§å†…å®¹ä¸€æ¨¡ä¸€æ ·äº†ã€‚è™½ç„¶æœ€åæ•´åˆå¾—åˆ°çš„ç»“æœæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œä½†è¡åˆèƒ½äº§ç”Ÿä¸€ä¸ªæ›´ä¸ºæ•´æ´çš„æäº¤å†å²ã€‚å¦‚æœè§†å¯Ÿä¸€ä¸ªè¡åˆè¿‡çš„åˆ†æ”¯çš„å†å²è®°å½•ï¼Œçœ‹èµ·æ¥ä¼šæ›´ æ¸…æ¥šï¼šä»¿ä½›æ‰€æœ‰ä¿®æ”¹éƒ½æ˜¯åœ¨ä¸€æ ¹çº¿ä¸Šå…ˆåè¿›è¡Œçš„ï¼Œå°½ç®¡å®é™…ä¸Šå®ƒä»¬åŸæœ¬æ˜¯åŒæ—¶å¹¶è¡Œå‘ç”Ÿçš„ã€‚ ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨è¡åˆçš„ç›®çš„ï¼Œæ˜¯æƒ³è¦å¾—åˆ°ä¸€ä¸ªèƒ½åœ¨è¿œç¨‹åˆ†æ”¯ä¸Šå¹²å‡€åº”ç”¨çš„è¡¥ä¸ â€” æ¯”å¦‚æŸäº›é¡¹ç›®ä½ ä¸æ˜¯ç»´æŠ¤è€…ï¼Œä½†æƒ³å¸®ç‚¹å¿™çš„è¯ï¼Œæœ€å¥½ç”¨è¡åˆï¼šå…ˆåœ¨è‡ªå·±çš„ä¸€ä¸ªåˆ†æ”¯é‡Œè¿›è¡Œå¼€å‘ï¼Œå½“å‡†å¤‡å‘ä¸»é¡¹ç›®æäº¤è¡¥ä¸çš„æ—¶å€™ï¼Œæ ¹æ®æœ€æ–°çš„origin/master è¿›è¡Œä¸€æ¬¡è¡åˆæ“ä½œç„¶åå†æäº¤ï¼Œè¿™æ ·ç»´æŠ¤è€…å°±ä¸éœ€è¦åšä»»ä½•æ•´åˆå·¥ä½œï¼ˆè¯‘æ³¨ï¼šå®é™…ä¸Šæ˜¯æŠŠè§£å†³åˆ†æ”¯è¡¥ä¸åŒæœ€æ–°ä¸»å¹²ä»£ç ä¹‹é—´å†²çªçš„è´£ä»»ï¼ŒåŒ–è½¬ä¸ºç”±æäº¤è¡¥ä¸çš„äººæ¥è§£å†³ã€‚ï¼‰ï¼Œåªéœ€æ ¹æ®ä½ æä¾›çš„ä»“åº“åœ°å€ä½œä¸€æ¬¡å¿«è¿›åˆå¹¶ï¼Œæˆ–è€…ç›´æ¥é‡‡çº³ä½ æäº¤çš„è¡¥ä¸ã€‚ è¯·æ³¨æ„ï¼Œåˆå¹¶ç»“æœä¸­æœ€åä¸€æ¬¡æäº¤æ‰€æŒ‡å‘çš„å¿«ç…§ï¼Œæ— è®ºæ˜¯é€šè¿‡è¡åˆï¼Œè¿˜æ˜¯ä¸‰æ–¹åˆå¹¶ï¼Œéƒ½ä¼šå¾—åˆ°ç›¸åŒçš„å¿«ç…§å†…å®¹ï¼Œåªä¸è¿‡æäº¤å†å²ä¸åŒç½¢äº†ã€‚è¡åˆæ˜¯æŒ‰ç…§æ¯è¡Œçš„ä¿®æ”¹æ¬¡åºé‡æ¼”ä¸€éä¿®æ”¹ï¼Œè€Œåˆå¹¶æ˜¯æŠŠæœ€ç»ˆç»“æœåˆåœ¨ä¸€èµ·ã€‚ æœ‰è¶£çš„è¡åˆ è¡åˆä¹Ÿå¯ä»¥æ”¾åˆ°å…¶ä»–åˆ†æ”¯è¿›è¡Œï¼Œå¹¶ä¸ä¸€å®šéå¾—æ ¹æ®åˆ†åŒ–ä¹‹å‰çš„åˆ†æ”¯ã€‚ä¸‹å›¾ ï¼Œæˆ‘ä»¬ä¸ºäº†ç»™æœåŠ¡å™¨ç«¯ä»£ç æ·»åŠ ä¸€äº›åŠŸèƒ½è€Œåˆ›å»ºäº†ç‰¹æ€§åˆ†æ”¯ serverï¼Œç„¶åæäº¤ C3 å’Œ C4ã€‚ç„¶ååˆä» C3 çš„åœ°æ–¹å†å¢åŠ ä¸€ä¸ªclient åˆ†æ”¯æ¥å¯¹å®¢æˆ·ç«¯ä»£ç è¿›è¡Œä¸€äº›ç›¸åº”ä¿®æ”¹ï¼Œæ‰€ä»¥æäº¤äº† C8 å’Œ C9ã€‚æœ€åï¼Œåˆå›åˆ° server åˆ†æ”¯æäº¤äº† C10ã€‚ å‡è®¾åœ¨æ¥ä¸‹æ¥çš„ä¸€æ¬¡è½¯ä»¶å‘å¸ƒä¸­ï¼Œæˆ‘ä»¬å†³å®šå…ˆæŠŠå®¢æˆ·ç«¯çš„ä¿®æ”¹å¹¶åˆ°ä¸»çº¿ä¸­ï¼Œè€Œæš‚ç¼“å¹¶å…¥æœåŠ¡ç«¯è½¯ä»¶çš„ä¿®æ”¹ï¼ˆå› ä¸ºè¿˜éœ€è¦è¿›ä¸€æ­¥æµ‹è¯•ï¼‰ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠåŸºäº server åˆ†æ”¯è€Œé master åˆ†æ”¯çš„æ”¹å˜ï¼ˆå³ C8 å’Œ C9ï¼‰ï¼Œè·³è¿‡ server ç›´æ¥æ”¾åˆ°master åˆ†æ”¯ä¸­é‡æ¼”ä¸€éï¼Œä½†è¿™éœ€è¦ç”¨ git rebase çš„ â€“onto é€‰é¡¹æŒ‡å®šæ–°çš„åŸºåº•åˆ†æ”¯masterï¼š $ git rebase --onto master server client è¿™å¥½æ¯”åœ¨è¯´ï¼šâ€œå–å‡º client åˆ†æ”¯ï¼Œæ‰¾å‡º client åˆ†æ”¯å’Œ server åˆ†æ”¯çš„å…±åŒç¥–å…ˆä¹‹åçš„å˜åŒ–ï¼Œç„¶åæŠŠå®ƒä»¬åœ¨master ä¸Šé‡æ¼”ä¸€éâ€ã€‚æ˜¯ä¸æ˜¯æœ‰ç‚¹å¤æ‚ï¼Ÿä¸è¿‡å®ƒçš„ç»“æœå¦‚å›¾ æ‰€ç¤ºï¼Œéå¸¸é…·ï¼ˆè¯‘æ³¨ï¼šè™½ç„¶ client é‡Œçš„ C8, C9 åœ¨ C3 ä¹‹åï¼Œä½†è¿™ä»…è¡¨æ˜æ—¶é—´ä¸Šçš„å…ˆåï¼Œè€Œéåœ¨ C3 ä¿®æ”¹çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥æ”¹åŠ¨ï¼Œå› ä¸ºserver å’Œ client è¿™ä¸¤ä¸ªåˆ†æ”¯å¯¹åº”çš„ä»£ç åº”è¯¥æ˜¯ä¸¤å¥—æ–‡ä»¶ï¼Œè™½ç„¶è¿™ä¹ˆè¯´ä¸æ˜¯å¾ˆä¸¥æ ¼ï¼Œä½†åº”ç†è§£ä¸ºåœ¨ C3 æ—¶é—´ç‚¹ä¹‹åï¼Œå¯¹å¦å¤–çš„æ–‡ä»¶æ‰€åšçš„ C8ï¼ŒC9 ä¿®æ”¹ï¼Œæ”¾åˆ°ä¸»å¹²é‡æ¼”ã€‚ ç°åœ¨å¯ä»¥å¿«è¿› master åˆ†æ”¯äº†ï¼š $ git checkout master $ git merge client ç°åœ¨æˆ‘ä»¬å†³å®šæŠŠ server åˆ†æ”¯çš„å˜åŒ–ä¹ŸåŒ…å«è¿›æ¥ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠ server åˆ†æ”¯è¡åˆåˆ° masterï¼Œè€Œä¸ç”¨æ‰‹å·¥åˆ‡æ¢åˆ° server åˆ†æ”¯åå†æ‰§è¡Œè¡åˆæ“ä½œ â€” git rebase [ä¸»åˆ†æ”¯] [ç‰¹æ€§åˆ†æ”¯] å‘½ä»¤ä¼šå…ˆå–å‡ºç‰¹æ€§åˆ†æ”¯serverï¼Œç„¶ååœ¨ä¸»åˆ†æ”¯ master ä¸Šé‡æ¼” $ git rebase master server äºæ˜¯ï¼Œserver çš„è¿›åº¦åº”ç”¨åˆ° master çš„åŸºç¡€ä¸Šï¼Œå¦‚å›¾ ç„¶åå°±å¯ä»¥å¿«è¿›ä¸»å¹²åˆ†æ”¯ master äº†ï¼š $ git checkout master $ git merge server ç°åœ¨ client å’Œ server åˆ†æ”¯çš„å˜åŒ–éƒ½å·²ç»é›†æˆåˆ°ä¸»å¹²åˆ†æ”¯æ¥äº†ï¼Œå¯ä»¥åˆ æ‰å®ƒä»¬äº†ã€‚æœ€ç»ˆæˆ‘ä»¬çš„æäº¤å†å²ä¼šå˜æˆå›¾ $ git branch -d client $ git branch -d server è¡åˆçš„é£é™© å‘ƒï¼Œå¥‡å¦™çš„è¡åˆä¹Ÿå¹¶éå®Œç¾æ— ç¼ºï¼Œè¦ç”¨å®ƒå¾—éµå®ˆä¸€æ¡å‡†åˆ™ï¼š ä¸€æ—¦åˆ†æ”¯ä¸­çš„æäº¤å¯¹è±¡å‘å¸ƒåˆ°å…¬å…±ä»“åº“ï¼Œå°±åƒä¸‡ä¸è¦å¯¹è¯¥åˆ†æ”¯è¿›è¡Œè¡åˆæ“ä½œã€‚å¦‚æœä½ éµå¾ªè¿™æ¡é‡‘ç§‘ç‰å¾‹ï¼Œå°±ä¸ä¼šå‡ºå·®é”™ã€‚å¦åˆ™ï¼Œäººæ°‘ç¾¤ä¼—ä¼šä»‡æ¨ä½ ï¼Œä½ çš„æœ‹å‹å’Œå®¶äººä¹Ÿä¼šå˜²ç¬‘ä½ ï¼Œå”¾å¼ƒä½ ã€‚ åœ¨è¿›è¡Œè¡åˆçš„æ—¶å€™ï¼Œå®é™…ä¸ŠæŠ›å¼ƒäº†ä¸€äº›ç°å­˜çš„æäº¤å¯¹è±¡è€Œåˆ›é€ äº†ä¸€äº›ç±»ä¼¼ä½†ä¸åŒçš„æ–°çš„æäº¤å¯¹è±¡ã€‚å¦‚æœä½ æŠŠåŸæ¥åˆ†æ”¯ä¸­çš„æäº¤å¯¹è±¡å‘å¸ƒå‡ºå»ï¼Œå¹¶ä¸”å…¶ä»–äººæ›´æ–°ä¸‹è½½ååœ¨å…¶åŸºç¡€ä¸Šå¼€å±•å·¥ä½œï¼Œè€Œç¨åä½ åˆç”¨git rebase æŠ›å¼ƒè¿™äº›æäº¤å¯¹è±¡ï¼ŒæŠŠæ–°çš„é‡æ¼”åçš„æäº¤å¯¹è±¡å‘å¸ƒå‡ºå»çš„è¯ï¼Œä½ çš„åˆä½œè€…å°±ä¸å¾—ä¸é‡æ–°åˆå¹¶ä»–ä»¬çš„å·¥ä½œï¼Œè¿™æ ·å½“ä½ å†æ¬¡ä»ä»–ä»¬é‚£é‡Œè·å–å†…å®¹æ—¶ï¼Œæäº¤å†å²å°±ä¼šå˜å¾—ä¸€å›¢ç³Ÿã€‚ ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€ä¸ªå®é™…ä¾‹å­æ¥è¯´æ˜ä¸ºä»€ä¹ˆå…¬å¼€çš„è¡åˆä¼šå¸¦æ¥é—®é¢˜ã€‚å‡è®¾ä½ ä»ä¸€ä¸ªä¸­å¤®æœåŠ¡å™¨å…‹éš†ç„¶ååœ¨å®ƒçš„åŸºç¡€ä¸Šæäº†ä¸€äº›å¼€å‘ï¼Œæäº¤å†å²ç±»ä¼¼å›¾ ç°åœ¨ï¼ŒæŸäººåœ¨ C1 çš„åŸºç¡€ä¸Šåšäº†äº›æ”¹å˜ï¼Œå¹¶åˆå¹¶ä»–è‡ªå·±çš„åˆ†æ”¯å¾—åˆ°ç»“æœ C6ï¼Œæ¨é€åˆ°ä¸­å¤®æœåŠ¡å™¨ã€‚å½“ä½ æŠ“å–å¹¶åˆå¹¶è¿™äº›æ•°æ®åˆ°ä½ æœ¬åœ°çš„å¼€å‘åˆ†æ”¯ä¸­åï¼Œä¼šå¾—åˆ°åˆå¹¶ç»“æœ C7ï¼Œå†å²æäº¤ä¼šå˜æˆå›¾ æ¥ä¸‹æ¥ï¼Œé‚£ä¸ªæ¨é€ C6 ä¸Šæ¥çš„äººå†³å®šç”¨è¡åˆå–ä»£ä¹‹å‰çš„åˆå¹¶æ“ä½œï¼›ç»§è€Œåˆç”¨ git push â€“force è¦†ç›–äº†æœåŠ¡å™¨ä¸Šçš„å†å²ï¼Œå¾—åˆ° C4â€™ã€‚è€Œä¹‹åå½“ä½ å†ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æœ€æ–°æäº¤åï¼Œä¼šå¾—åˆ°ï¼š ä¸‹è½½æ›´æ–°åéœ€è¦åˆå¹¶ï¼Œä½†æ­¤æ—¶è¡åˆäº§ç”Ÿçš„æäº¤å¯¹è±¡ C4â€™ çš„ SHA-1 æ ¡éªŒå€¼å’Œä¹‹å‰ C4 å®Œå…¨ä¸åŒï¼Œæ‰€ä»¥ Git ä¼šæŠŠå®ƒä»¬å½“ä½œæ–°çš„æäº¤å¯¹è±¡å¤„ç†ï¼Œè€Œå®é™…ä¸Šæ­¤åˆ»ä½ çš„æäº¤å†å² C7 ä¸­æ—©å·²ç»åŒ…å«äº† C4 çš„ä¿®æ”¹å†…å®¹ï¼Œäºæ˜¯åˆå¹¶æ“ä½œä¼šæŠŠ C7 å’Œ C4â€™ åˆå¹¶ä¸º C8 C8 è¿™ä¸€æ­¥çš„åˆå¹¶æ˜¯è¿Ÿæ—©ä¼šå‘ç”Ÿçš„ï¼Œå› ä¸ºåªæœ‰è¿™æ ·ä½ æ‰èƒ½å’Œå…¶ä»–åä½œè€…æäº¤çš„å†…å®¹ä¿æŒåŒæ­¥ã€‚è€Œåœ¨ C8 ä¹‹åï¼Œä½ çš„æäº¤å†å²é‡Œå°±ä¼šåŒæ—¶åŒ…å« C4 å’Œ C4â€™ï¼Œä¸¤è€…æœ‰ç€ä¸åŒçš„ SHA-1 æ ¡éªŒå€¼ï¼Œå¦‚æœç”¨git log æŸ¥çœ‹å†å²ï¼Œä¼šçœ‹åˆ°ä¸¤ä¸ªæäº¤æ‹¥æœ‰ç›¸åŒçš„ä½œè€…æ—¥æœŸä¸è¯´æ˜ï¼Œä»¤äººè´¹è§£ã€‚è€Œæ›´ç³Ÿçš„æ˜¯ï¼Œå½“ä½ æŠŠè¿™æ ·çš„å†å²æ¨é€åˆ°æœåŠ¡å™¨åï¼Œä¼šå†æ¬¡æŠŠè¿™äº›è¡åˆåçš„æäº¤å¼•å…¥åˆ°ä¸­å¤®æœåŠ¡ å™¨ï¼Œè¿›ä¸€æ­¥å›°æ‰°å…¶ä»–äººï¼ˆè¯‘æ³¨ï¼šè¿™ä¸ªä¾‹å­ä¸­ï¼Œå‡ºé—®é¢˜çš„è´£ä»»æ–¹æ˜¯é‚£ä¸ªå‘å¸ƒäº† C6 ååˆç”¨è¡åˆå‘å¸ƒ C4â€™ çš„äººï¼Œå…¶ä»–äººä¼šå› æ­¤åé¦ˆåŒé‡å†å²åˆ°å…±äº«ä¸»å¹²ï¼Œä»è€Œæ··æ·†å¤§å®¶çš„è§†å¬ã€‚ï¼‰ã€‚ å¦‚æœæŠŠè¡åˆå½“æˆä¸€ç§åœ¨æ¨é€ä¹‹å‰æ¸…ç†æäº¤å†å²çš„æ‰‹æ®µï¼Œè€Œä¸”ä»…ä»…è¡åˆé‚£äº›å°šæœªå…¬å¼€çš„æäº¤å¯¹è±¡ï¼Œå°±æ²¡é—®é¢˜ã€‚å¦‚æœè¡åˆé‚£äº›å·²ç»å…¬å¼€çš„æäº¤å¯¹è±¡ï¼Œå¹¶ä¸”å·²ç»æœ‰äººåŸºäºè¿™äº›æäº¤å¯¹è±¡å¼€å±•äº†åç»­å¼€å‘å·¥ä½œçš„è¯ï¼Œå°±ä¼šå‡ºç°å«äººæ²®ä¸§çš„éº»çƒ¦ã€‚ ###æœåŠ¡å™¨ä¸Šçš„git çœç•¥ ###gitå‘½ä»¤ Git æä¾›äº†ä¸€ä¸ªå«åš git config çš„å·¥å…·ï¼ˆè¯‘æ³¨ï¼šå®é™…æ˜¯ git-config å‘½ä»¤ï¼Œåªä¸è¿‡å¯ä»¥é€šè¿‡ git åŠ ä¸€ä¸ªåå­—æ¥å‘¼å«æ­¤å‘½ä»¤ã€‚ï¼‰ï¼Œä¸“é—¨ç”¨æ¥é…ç½®æˆ–è¯»å–ç›¸åº”çš„å·¥ä½œç¯å¢ƒå˜é‡ã€‚è€Œæ­£æ˜¯ç”±è¿™äº›ç¯å¢ƒå˜é‡ï¼Œå†³å®šäº† Git åœ¨å„ä¸ªç¯èŠ‚çš„å…·ä½“å·¥ä½œæ–¹å¼å’Œè¡Œä¸ºã€‚è¿™äº›å˜é‡å¯ä»¥å­˜æ”¾åœ¨ä»¥ä¸‹ä¸‰ä¸ªä¸åŒçš„åœ°æ–¹ï¼š /etc/gitconfig æ–‡ä»¶ï¼šç³»ç»Ÿä¸­å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æ™®éé€‚ç”¨çš„é…ç½®ã€‚è‹¥ä½¿ç”¨ git config æ—¶ç”¨--system é€‰é¡¹ï¼Œè¯»å†™çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ã€‚ ~/.gitconfig æ–‡ä»¶ï¼šç”¨æˆ·ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶åªé€‚ç”¨äºè¯¥ç”¨æˆ·ã€‚è‹¥ä½¿ç”¨ git config æ—¶ç”¨--global é€‰é¡¹ï¼Œè¯»å†™çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ã€‚ å½“å‰é¡¹ç›®çš„ git ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯å·¥ä½œç›®å½•ä¸­çš„ .git/config æ–‡ä»¶ï¼‰ï¼šè¿™é‡Œçš„é…ç½®ä»…ä»…é’ˆå¯¹å½“å‰é¡¹ç›®æœ‰æ•ˆã€‚æ¯ä¸€ä¸ªçº§åˆ«çš„é…ç½®éƒ½ä¼šè¦†ç›–ä¸Šå±‚çš„ç›¸åŒé…ç½®ï¼Œæ‰€ä»¥.git/config é‡Œçš„é…ç½®ä¼šè¦†ç›–/etc/gitconfig ä¸­çš„åŒåå˜é‡ã€‚ git config â€“list è¦æ£€æŸ¥å·²æœ‰çš„é…ç½®ä¿¡æ¯ git config â€“global user.name â€œJohn Doeâ€ é…ç½®ç”¨æˆ·å git config â€“global user.email johndoe@example.com é…ç½®é‚®ä»¶ git config â€“global core.editor emacs æ–‡æœ¬ç¼–è¾‘å™¨ git config â€“global merge.tool vimdiff é…ç½®å·®å¼‚æ€§åˆ†æå·¥å…·ï¼ˆGit å¯ä»¥ç†è§£ kdiff3ï¼Œtkdiffï¼Œmeldï¼Œxxdiffï¼Œemergeï¼Œvimdiffï¼Œgvimdiffï¼Œecmergeï¼Œå’Œ opendiff ç­‰åˆå¹¶å·¥å…·çš„è¾“å‡ºä¿¡æ¯ã€‚ï¼‰ git config user.name æŸ¥çœ‹ç”¨æˆ·å git help config æŸ¥çœ‹git configçš„æ–‡æ¡£ git â€“help æŸ¥çœ‹gitä½¿ç”¨æ–‡æ¡£ man git æŸ¥çœ‹git æ–‡æ¡£ git help æŸ¥çœ‹gitä½¿ç”¨æ–‡æ¡£ git init åœ¨å·¥ä½œç›®å½•ä¸­åˆå§‹åŒ–æ–°ä»“åº“ï¼ˆåˆå§‹åŒ–åï¼Œåœ¨å½“å‰ç›®å½•ä¸‹ä¼šå‡ºç°ä¸€ä¸ªåä¸º .git çš„ç›®å½•ï¼‰ git add git add &lt;æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹&gt; å¯ä»¥ç”¨å®ƒå¼€å§‹è·Ÿè¸ªæ–°æ–‡ä»¶ï¼Œæˆ–è€…æŠŠå·²è·Ÿè¸ªçš„æ–‡ä»¶æ”¾åˆ°æš‚å­˜åŒºï¼Œè¿˜èƒ½ç”¨äºåˆå¹¶æ—¶æŠŠæœ‰å†²çªçš„æ–‡ä»¶æ ‡è®°ä¸ºå·²è§£å†³çŠ¶æ€ç­‰ï¼‰æ½œå°è¯å°±æ˜¯æŠŠç›®æ ‡æ–‡ä»¶å¿«ç…§æ”¾å…¥æš‚å­˜åŒºåŸŸï¼‰ git commit -m â€˜initial project versionâ€™ æäº¤æ–‡ä»¶ git clone git://github.com/schacon/grit.git å…‹éš†æ–‡ä»¶åˆ°å½“å‰æ–‡ä»¶å¤¹ git clone git://github.com/schacon/grit.git mygrit å…‹éš†æ–‡ä»¶åˆ°å½“å‰æ–‡ä»¶å¤¹å¹¶å°†æ–‡ä»¶å¤¹å‘½åä¸º myfrit git status æ£€æŸ¥å½“å‰æ–‡ä»¶çŠ¶æ€ cat .gitignore .[oa] ~ ç¬¬ä¸€è¡Œå‘Šè¯‰ Git å¿½ç•¥æ‰€æœ‰ä»¥ .o æˆ– .a ç»“å°¾çš„æ–‡ä»¶ã€‚ç¬¬äºŒè¡Œå‘Šè¯‰ Git å¿½ç•¥æ‰€æœ‰ä»¥æ³¢æµªç¬¦ï¼ˆ~ï¼‰ç»“å°¾çš„æ–‡ä»¶ ï¼ˆå¯ä»¥æ·»åŠ å¤šä¸ªå¿½ç•¥æ–‡ä»¶åŒ¹é…ï¼Œä¹‹é—´ç”¨ç©ºæ ¼ç©ºå¼€ï¼‰ 12345æ–‡ä»¶ .gitignore çš„æ ¼å¼è§„èŒƒå¦‚ä¸‹ï¼šæ‰€æœ‰ç©ºè¡Œæˆ–è€…ä»¥æ³¨é‡Šç¬¦å· ï¼ƒ å¼€å¤´çš„è¡Œéƒ½ä¼šè¢« Git å¿½ç•¥ã€‚å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ glob æ¨¡å¼åŒ¹é…ã€‚ * åŒ¹é…æ¨¡å¼æœ€åè·Ÿåæ–œæ ï¼ˆ/ï¼‰è¯´æ˜è¦å¿½ç•¥çš„æ˜¯ç›®å½•ã€‚ * è¦å¿½ç•¥æŒ‡å®šæ¨¡å¼ä»¥å¤–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥åœ¨æ¨¡å¼å‰åŠ ä¸ŠæƒŠå¹å·ï¼ˆ!ï¼‰å–åã€‚æ‰€è°“çš„ glob æ¨¡å¼æ˜¯æŒ‡ shell æ‰€ä½¿ç”¨çš„ç®€åŒ–äº†çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ˜Ÿå·ï¼ˆ*ï¼‰åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦ï¼›[abc] åŒ¹é…ä»»ä½•ä¸€ä¸ªåˆ—åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦ï¼ˆè¿™ä¸ªä¾‹å­è¦ä¹ˆåŒ¹é…ä¸€ä¸ª aï¼Œè¦ä¹ˆåŒ¹é…ä¸€ä¸ª bï¼Œè¦ä¹ˆåŒ¹é…ä¸€ä¸ª cï¼‰ï¼›é—®å·ï¼ˆ?ï¼‰åªåŒ¹é…ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼›å¦‚æœåœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨çŸ­åˆ’çº¿åˆ†éš”ä¸¤ä¸ªå­—ç¬¦ï¼Œè¡¨ç¤ºæ‰€æœ‰åœ¨è¿™ä¸¤ä¸ªå­—ç¬¦èŒƒå›´å†…çš„éƒ½å¯ä»¥åŒ¹é…ï¼ˆæ¯”å¦‚[0-9] è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ 0 åˆ° 9 çš„æ•°å­—ï¼‰ã€‚ git diff æŸ¥çœ‹å°šæœªæš‚å­˜çš„æ–‡ä»¶æ›´æ–°äº†å“ªäº›éƒ¨åˆ† git diff â€“cached å·²ç»æš‚å­˜èµ·æ¥çš„æ–‡ä»¶å’Œä¸Šæ¬¡æäº¤æ—¶çš„å¿«ç…§ä¹‹é—´çš„å·®å¼‚ ä¾‹å¦‚ vim read git add read ///è¿™ç¬¬ä¸€ä¸ªæ–°ç”Ÿäº§çš„é—®é¢˜æäº¤åˆ°git ç¼“å­˜åŒºåŸŸäº† vim read æ‰“å¼€read è¾“å…¥æ–‡å­—abc git add read ///ç¬¬äºŒæ¬¡ä¿å­˜å¿«ç…§ vim read å†æ¬¡æ‰“å¼€read è¾“å…¥æ–‡å­—efg ï¼ˆç°åœ¨æ–‡å­—é—®abcdefï¼‰ git diff è¿™æ—¶å€™è¾“å‡ºçš„ç»“æœæ˜¯ diff --git a/README b/README index 40bae04..f74d0d3 100644 --- a/README +++ b/README @@ -1 +1 @@ -abc +abcdef æ¯”è¾ƒçš„æ˜¯æœªæäº¤çš„æ–‡ä»¶ä¸ç¼“å­˜åŒºçš„æ–‡ä»¶æ¯”è¾ƒï¼ˆä¸ªäººç†è§£ï¼‰ git diff --cached è¿™æ—¶å€™è¾“å‡ºçš„ç»“æœæ˜¯ diff --git a/README b/README new file mode 100644 index 0000000..40bae04 --- /dev/null +++ b/README @@ -0,0 +1 @@ +abc æ¯”è¾ƒçš„æ˜¯ç¼“å­˜åŒºæœ€åä¸¤æ¬¡çš„æ¯”è¾ƒ ï¼ˆä¸ªäººç†è§£ï¼‰ git commit å°†æš‚å­˜æ–‡ä»¶æäº¤ å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤çš„æäº¤æ¶ˆæ¯åŒ…å«æœ€åä¸€æ¬¡è¿è¡Œ git status çš„è¾“å‡ºï¼Œæ”¾åœ¨æ³¨é‡Šè¡Œé‡Œï¼Œå¦å¤–å¼€å¤´è¿˜æœ‰ä¸€ç©ºè¡Œï¼Œä¾›ä½ è¾“å…¥æäº¤è¯´æ˜ã€‚ä½ å®Œå…¨å¯ä»¥å»æ‰è¿™äº›æ³¨é‡Šè¡Œï¼Œä¸è¿‡ç•™ç€ä¹Ÿæ²¡å…³ç³»ï¼Œå¤šå°‘èƒ½å¸®ä½ å›æƒ³èµ·è¿™æ¬¡æ›´æ–°çš„å†…å®¹æœ‰å“ªäº›ã€‚é€€å‡ºç¼–è¾‘å™¨æ—¶ï¼ŒGit ä¼šä¸¢æ‰æ³¨é‡Šè¡Œï¼Œå°†è¯´æ˜å†…å®¹å’Œæœ¬æ¬¡æ›´æ–°æäº¤åˆ°ä»“åº“ã€‚ git commit -m â€œæäº¤è¯´æ˜â€ -m å‚æ•°åè·Ÿæäº¤è¯´æ˜çš„æ–¹å¼ï¼Œåœ¨ä¸€è¡Œå‘½ä»¤ä¸­æäº¤æ›´æ–° git commit -a è‡ªåŠ¨æŠŠæ‰€æœ‰å·²ç»è·Ÿè¸ªè¿‡çš„æ–‡ä»¶æš‚å­˜èµ·æ¥ä¸€å¹¶æäº¤ï¼Œä»è€Œè·³è¿‡ git add æ­¥éª¤ git rm ä»å·²è·Ÿè¸ªæ–‡ä»¶æ¸…å•ä¸­ç§»é™¤ï¼ˆç¡®åˆ‡åœ°è¯´ï¼Œæ˜¯ä»æš‚å­˜åŒºåŸŸç§»é™¤ï¼‰ï¼Œç„¶åæäº¤ã€‚ git rm -f åˆ é™¤ä¹‹å‰ä¿®æ”¹è¿‡å¹¶ä¸”å·²ç»æ”¾åˆ°æš‚å­˜åŒºåŸŸçš„è¯ï¼Œåˆ™å¿…é¡»è¦ç”¨å¼ºåˆ¶åˆ é™¤é€‰é¡¹ -fï¼ˆè¯‘æ³¨ï¼šå³ force çš„é¦–å­—æ¯ï¼‰ï¼Œä»¥é˜²è¯¯åˆ é™¤æ–‡ä»¶åä¸¢å¤±ä¿®æ”¹çš„å†…å®¹ git rm â€“cached readme.txt å¦å¤–ä¸€ç§æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬æƒ³æŠŠæ–‡ä»¶ä» Git ä»“åº“ä¸­åˆ é™¤ï¼ˆäº¦å³ä»æš‚å­˜åŒºåŸŸç§»é™¤ï¼‰ï¼Œä½†ä»ç„¶å¸Œæœ›ä¿ç•™åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ã€‚æ¢å¥è¯è¯´ï¼Œä»…æ˜¯ä»è·Ÿè¸ªæ¸…å•ä¸­åˆ é™¤ã€‚æ¯”å¦‚ä¸€äº›å¤§å‹æ—¥å¿—æ–‡ä»¶æˆ–è€…ä¸€å †.a ç¼–è¯‘æ–‡ä»¶ï¼Œä¸å°å¿ƒçº³å…¥ä»“åº“åï¼Œè¦ç§»é™¤è·Ÿè¸ªä½†ä¸åˆ é™¤æ–‡ä»¶ï¼Œä»¥ä¾¿ç¨ååœ¨ .gitignore æ–‡ä»¶ä¸­è¡¥ä¸Šï¼Œç”¨ â€“cached é€‰é¡¹å³å¯ git rm log/*.log åé¢å¯ä»¥åˆ—å‡ºæ–‡ä»¶æˆ–è€…ç›®å½•çš„åå­—ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ glob æ¨¡å¼ git mv file_from file_to ç§»åŠ¨æ–‡ä»¶ å…¶å®ï¼Œè¿è¡Œ git mv å°±ç›¸å½“äºè¿è¡Œäº†ä¸‹é¢ä¸‰æ¡å‘½ä»¤ï¼š $ mv README.txt README $ git rm README.txt $ git add README git log æŸ¥çœ‹æäº¤å†å² git log -p -2 -p é€‰é¡¹å±•å¼€æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„å†…å®¹å·®å¼‚ï¼Œç”¨ -2 åˆ™ä»…æ˜¾ç¤ºæœ€è¿‘çš„ä¸¤æ¬¡æ›´æ–° git commit â€“amend æœ‰æ—¶å€™æˆ‘ä»¬æäº¤å®Œäº†æ‰å‘ç°æ¼æ‰äº†å‡ ä¸ªæ–‡ä»¶æ²¡æœ‰åŠ ï¼Œæˆ–è€…æäº¤ä¿¡æ¯å†™é”™äº†ã€‚æƒ³è¦æ’¤æ¶ˆåˆšæ‰çš„æäº¤æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ â€“amend é€‰é¡¹é‡æ–°æäº¤ï¼ˆä¿®æ”¹æäº¤ä¿¡æ¯ï¼‰ git reset HEAD benchmarks.rb å–æ¶ˆå·²ç»æš‚å­˜çš„æ–‡ä»¶ git checkout â€“ benchmarks.rb å–æ¶ˆå¯¹æ–‡ä»¶çš„ä¿®æ”¹ git remote æŸ¥çœ‹å½“å‰çš„è¿œç¨‹åº“ git remote -v æŸ¥çœ‹å½“å‰çš„è¿œç¨‹åº“,æ˜¾ç¤ºå¯¹åº”çš„å…‹éš†åœ°å€ è¿œç¨‹æ“ä½œ git remote add [shortname] [url] è¦æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªç®€å•çš„åå­—ï¼Œä»¥ä¾¿å°†æ¥å¼•ç”¨ï¼ˆåœ¨æˆ‘çœ‹æ¥ï¼Œå°±æ˜¯å’Œè¿œç¨‹ä»“åº“å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œç»™å‘½åäº†ä¸€ä¸ªåˆ«åã€‚ç½‘ä¸Šè¯´çš„è¿·è¿·ç³Šç³Šçš„ï¼‰ git fetch pb åˆ°è¿œç¨‹ä»“åº“ä¸­æ‹‰å–æ‰€æœ‰ä½ æœ¬åœ°ä»“åº“ä¸­è¿˜æ²¡æœ‰çš„æ•°æ®ï¼Œè¿è¡Œå®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨æœ¬åœ°è®¿é—®è¯¥è¿œç¨‹ä»“åº“ä¸­çš„æ‰€æœ‰åˆ†æ”¯ å¦‚æœæ˜¯å…‹éš†äº†ä¸€ä¸ªä»“åº“ï¼Œæ­¤å‘½ä»¤ä¼šè‡ªåŠ¨å°†è¿œç¨‹ä»“åº“å½’äº origin åä¸‹ã€‚æ‰€ä»¥ï¼Œgit fetch origin ä¼šæŠ“å–ä»ä½ ä¸Šæ¬¡å…‹éš†ä»¥æ¥åˆ«äººä¸Šä¼ åˆ°æ­¤è¿œç¨‹ä»“åº“ä¸­çš„æ‰€æœ‰æ›´æ–°ï¼ˆæˆ–æ˜¯ä¸Šæ¬¡ fetch ä»¥æ¥åˆ«äººæäº¤çš„æ›´æ–°ï¼‰ã€‚æœ‰ä¸€ç‚¹å¾ˆé‡è¦ï¼Œéœ€è¦è®°ä½ï¼Œfetch å‘½ä»¤åªæ˜¯å°†è¿œç«¯çš„æ•°æ®æ‹‰åˆ°æœ¬åœ°ä»“åº“ï¼Œå¹¶ä¸è‡ªåŠ¨åˆå¹¶åˆ°å½“å‰å·¥ä½œåˆ†æ”¯ï¼Œåªæœ‰å½“ä½ ç¡®å®å‡†å¤‡å¥½äº†ï¼Œæ‰èƒ½æ‰‹å·¥åˆå¹¶ã€‚ å¦‚æœè®¾ç½®äº†æŸä¸ªåˆ†æ”¯ç”¨äºè·Ÿè¸ªæŸä¸ªè¿œç«¯ä»“åº“çš„åˆ†æ”¯ï¼ˆå‚è§ä¸‹èŠ‚åŠç¬¬ä¸‰ç« çš„å†…å®¹ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ git pull å‘½ä»¤è‡ªåŠ¨æŠ“å–æ•°æ®ä¸‹æ¥ï¼Œç„¶åå°†è¿œç«¯åˆ†æ”¯è‡ªåŠ¨åˆå¹¶åˆ°æœ¬åœ°ä»“åº“ä¸­å½“å‰åˆ†æ”¯ã€‚åœ¨æ—¥å¸¸å·¥ä½œä¸­æˆ‘ä»¬ç»å¸¸è¿™ä¹ˆç”¨ï¼Œæ—¢å¿«ä¸”å¥½ã€‚å®é™…ä¸Šï¼Œé»˜è®¤æƒ…å†µä¸‹git clone å‘½ä»¤æœ¬è´¨ä¸Šå°±æ˜¯è‡ªåŠ¨åˆ›å»ºäº†æœ¬åœ°çš„ master åˆ†æ”¯ç”¨äºè·Ÿè¸ªè¿œç¨‹ä»“åº“ä¸­çš„ master åˆ†æ”¯ï¼ˆå‡è®¾è¿œç¨‹ä»“åº“ç¡®å®æœ‰ master åˆ†æ”¯ï¼‰ã€‚æ‰€ä»¥ä¸€èˆ¬æˆ‘ä»¬è¿è¡Œgit pullï¼Œç›®çš„éƒ½æ˜¯è¦ä»åŸå§‹å…‹éš†çš„è¿œç«¯ä»“åº“ä¸­æŠ“å–æ•°æ®åï¼Œåˆå¹¶åˆ°å·¥ä½œç›®å½•ä¸­çš„å½“å‰åˆ†æ”¯ã€‚ git push [remote-name] [branch-name] å°†æœ¬åœ°ä»“åº“ä¸­çš„æ•°æ®æ¨é€åˆ°è¿œç¨‹ä»“åº“ è¦æŠŠæœ¬åœ°çš„ master åˆ†æ”¯æ¨é€åˆ°origin æœåŠ¡å™¨ä¸Šï¼ˆå†æ¬¡è¯´æ˜ä¸‹ï¼Œå…‹éš†æ“ä½œä¼šè‡ªåŠ¨ä½¿ç”¨é»˜è®¤çš„ master å’Œ origin åå­—ï¼‰ï¼Œå¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š $ git push origin master åªæœ‰åœ¨æ‰€å…‹éš†çš„æœåŠ¡å™¨ä¸Šæœ‰å†™æƒé™ï¼Œæˆ–è€…åŒä¸€æ—¶åˆ»æ²¡æœ‰å…¶ä»–äººåœ¨æ¨æ•°æ®ï¼Œè¿™æ¡å‘½ä»¤æ‰ä¼šå¦‚æœŸå®Œæˆä»»åŠ¡ã€‚å¦‚æœåœ¨ä½ æ¨æ•°æ®å‰ï¼Œå·²ç»æœ‰å…¶ä»–äººæ¨é€äº†è‹¥å¹²æ›´æ–°ï¼Œé‚£ ä½ çš„æ¨é€æ“ä½œå°±ä¼šè¢«é©³å›ã€‚ä½ å¿…é¡»å…ˆæŠŠä»–ä»¬çš„æ›´æ–°æŠ“å–åˆ°æœ¬åœ°ï¼Œåˆå¹¶åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œç„¶åæ‰å¯ä»¥å†æ¬¡æ¨é€ã€‚ git remote show [remote-name] æŸ¥çœ‹æŸä¸ªè¿œç¨‹ä»“åº“çš„è¯¦ç»†ä¿¡æ¯ git remote rename [pb] [paul] å¯¹è¿œç¨‹ä»“åº“çš„é‡å‘½å å°†pbé‡å‘½åä¸ºpaul git remote rm paul åˆ é™¤paulè¿œç«¯ä»“åº“è¿æ¥ 2.6 æ‰“æ ‡ç­¾ (è¿™ä¸ªæˆ‘ç”¨çš„ä¸å¤šæš‚æ—¶ä¸å¼„è¿™ä¸ªäº†) git tag åˆ—å‡ºç°æœ‰æ ‡ç­¾ git tag -a v1.4 -m â€˜my version 1.4â€™ åˆ›å»ºä¸€ä¸ªå«é™„æ³¨ç±»å‹çš„æ ‡ç­¾éå¸¸ç®€å•ï¼Œç”¨ -a è€Œ -m é€‰é¡¹åˆ™æŒ‡å®šäº†å¯¹åº”çš„æ ‡ç­¾è¯´æ˜ git branch testing æ–°å»ºä¸€ä¸ª testing åˆ†æ”¯ git checkout testing åˆ‡æ¢testingåˆ†æ”¯ git checkout -b iss53 æ–°å»ºå¹¶åˆ‡æ¢åˆ°iss53åˆ†æ”¯ git merge hotfix å°†hotfixåˆ†æ”¯mergeåˆ°å½“å‰åˆ†æ”¯ $ git branch -d iss53 åˆ é™¤åˆ†æ”¯ git branch æŸ¥çœ‹åˆ†æ”¯ git branch -v è‹¥è¦æŸ¥çœ‹å„ä¸ªåˆ†æ”¯æœ€åä¸€ä¸ªæäº¤å¯¹è±¡çš„ä¿¡æ¯ git branch â€“merged ç­›é€‰å‡ºå·²ç»ä¸å½“å‰åˆ†æ”¯åˆå¹¶çš„åˆ†æ”¯ git branch â€“no-merged ç­›é€‰å‡ºå·²ç»ä¸å½“å‰åˆ†æ”¯æœªåˆå¹¶çš„åˆ†æ”¯ git checkout â€“track è·Ÿè¸ªåˆ†æ”¯ git push [è¿œç¨‹å] :[åˆ†æ”¯å] åˆ é™¤åˆ†æ”¯*git rebase master å°†åˆ†æ”¯è¡ç”Ÿåˆ°masterä¸Š ####å‚è€ƒé“¾æ¥ï¼š git - ç®€æ˜“æŒ‡å— git - åŸç†æ¯”è¾ƒæ¸…æ™° #####å»¶ä¼¸è¿æ¥ gitè¯¦è§£ä¹‹ä¸€ gitè¯¦è§£ä¹‹äºŒ Gitè¯¦è§£ä¹‹ä¸‰ Gitåˆ†æ”¯ Gitè¯¦è§£ä¹‹å›› æœåŠ¡å™¨ä¸Šçš„Git Gitè¯¦è§£ä¹‹äº” åˆ†å¸ƒå¼Git Gitè¯¦è§£ä¹‹å…­ Gitå·¥å…· Gitè¯¦è§£ä¹‹ä¸ƒ è‡ªå®šä¹‰Git Gitè¯¦è§£ä¹‹å…« Gitä¸å…¶ä»–ç³»ç»Ÿ Gitè¯¦è§£ä¹‹ä¹ Gitå†…éƒ¨åŸç†","tags":[]},{"title":"rakeåœ¨octopressä¸­çš„ä½¿ç”¨å‘½ä»¤ä»‹ç»","date":"2015-08-04T08:23:23.000Z","path":"2015/08/04/2015-08-04-rakezai-octopresszhong-de-shi-yong-ming-ling-jie-shao/","text":"åˆšå¼€å§‹æ¥è§¦octopress ï¼Œå¯¹rakeå‘½ä»¤ä½¿ç”¨çš„è¾ƒå°‘ï¼Œç‰¹åœ¨æ­¤è®°å½•ï¼Œè®°å½•æ¯ä¸ªå‘½ä»¤çš„ä½œç”¨ã€‚ ##å‘½ä»¤ rake generate å°† /octopress/source/_posts ç›®å½•ä¸‹çš„ .markdown æ–‡ä»¶ ç¿»è¯‘æˆhtmlç½‘é¡µ rake preview ç”Ÿæˆæœ¬åœ°ç½‘é¡µæœåŠ¡å™¨ï¼Œç«¯å£å·4000 http://localhost:4000 rake deploy å°†æœ¬åœ°çš„_deploy ä¿®æ”¹çš„æ–‡ä»¶æäº¤åˆ° githubä¸Šé¢å»ã€‚ rake new_post[â€˜æ–°çš„åšå®¢åå­—â€™] åœ¨ octopress/source/_posts ç›®å½•ä¸‹åˆ›å»ºåšå®¢ï¼Œåå­—ä¸ºã€Šæ–°çš„åšå®¢åå­—ã€‹","tags":[]},{"title":"makedownçš„ç®€å•ä½¿ç”¨","date":"2015-08-03T03:52:07.000Z","path":"2015/08/03/2015-8-3-markdown/","text":"çºªè¦ç”±äºè¦ç”¨markdownå†™åšå®¢å¹¶è¿›è¡Œæ’ç‰ˆï¼Œæ‰€ä»¥æš‚æ—¶å…ˆç®€å•çš„å­¦ä¹ ä½¿ç”¨ä¸‹ã€‚ ç¼–è¾‘è½¯ä»¶ Mou link markdownè¯­è¨€ç¼–è¾‘è½¯ä»¶. è¯­æ³•çºªè¦####æ®µè½ã€æ ‡é¢˜ã€åŒºå—ä»£ç  ä¸€ä¸ªæ®µè½æ˜¯ç”±ä¸€ä¸ªä»¥ä¸Šçš„è¿æ¥çš„è¡Œå¥ç»„æˆï¼Œè€Œä¸€ä¸ªä»¥ä¸Šçš„ç©ºè¡Œåˆ™ä¼šåˆ’åˆ†å‡ºä¸åŒçš„æ®µè½ï¼ˆç©ºè¡Œçš„å®šä¹‰æ˜¯æ˜¾ç¤ºä¸Šçœ‹èµ·æ¥åƒæ˜¯ç©ºè¡Œï¼Œå°±è¢«è§†ä¸ºç©ºè¡Œï¼Œä¾‹å¦‚æœ‰ä¸€è¡Œåªæœ‰ç©ºç™½å’Œ tabï¼Œé‚£è¯¥è¡Œä¹Ÿä¼šè¢«è§†ä¸ºç©ºè¡Œï¼‰ï¼Œä¸€èˆ¬çš„æ®µè½ä¸éœ€è¦ç”¨ç©ºç™½æˆ–æ¢è¡Œç¼©è¿›ã€‚ Markdown æ”¯æŒä¸¤ç§æ ‡é¢˜çš„è¯­æ³•ï¼ŒSetext å’Œ atx å½¢å¼ã€‚Setext å½¢å¼æ˜¯ç”¨åº•çº¿çš„å½¢å¼ï¼Œåˆ©ç”¨ = ï¼ˆæœ€é«˜é˜¶æ ‡é¢˜ï¼‰å’Œ - ï¼ˆç¬¬äºŒé˜¶æ ‡é¢˜ï¼‰ï¼ŒAtx å½¢å¼åœ¨è¡Œé¦–æ’å…¥ 1 åˆ° 6 ä¸ª # ï¼Œå¯¹åº”åˆ°æ ‡é¢˜ 1 åˆ° 6 é˜¶ã€‚ åŒºå—å¼•ç”¨åˆ™ä½¿ç”¨ email å½¢å¼çš„ â€˜&gt;â€™ è§’æ‹¬å· å¸¸ç”¨è¯­æ³•ï¼š è¾“å‡ºåçš„æ•ˆæœ Markdown å¿«æ·é”® æ˜¯å¦å¥½ç”¨ H1 # Heading H2 ## Heading Ctrl/âŒ˜ + H ä¸å¥½ç”¨ H3 ### Heading Ctrl/âŒ˜ + H (x2) ä¸å¥½ç”¨ Blockquote &gt; quote Ctrl + Q å¥½ç”¨ Markdown è¯­æ³•: A First Level Header ==================== A Second Level Header --------------------- Now is the time for all good men to come to the aid of their country. This is just a regular paragraph. The quick brown fox jumped over the lazy dog&apos;s back. ### Header 3 &gt; This is a blockquote. &gt; &gt; This is the second paragraph in the blockquote. &gt; &gt; ## This is an H2 in a blockquote è¾“å‡º HTML ä¸ºï¼š &lt;h1&gt;A First Level Header&lt;/h1&gt; &lt;h2&gt;A Second Level Header&lt;/h2&gt; &lt;p&gt;Now is the time for all good men to come to the aid of their country. This is just a regular paragraph.&lt;/p&gt; &lt;p&gt;The quick brown fox jumped over the lazy dog&apos;s back.&lt;/p&gt; &lt;h3&gt;Header 3&lt;/h3&gt; &lt;blockquote&gt; &lt;p&gt;This is a blockquote.&lt;/p&gt; &lt;p&gt;This is the second paragraph in the blockquote.&lt;/p&gt; &lt;h2&gt;This is an H2 in a blockquote&lt;/h2&gt; &lt;/blockquote&gt; æ³¨é‡Šï¼š å¦‚æœä½ åœ¨é¡¹ç›®ä¹‹é—´æ’å…¥ç©ºè¡Œï¼Œé‚£é¡¹ç›®çš„å†…å®¹ä¼šç”¨ &lt;p&gt; åŒ…èµ·æ¥ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªé¡¹ç›®å†…æ”¾ä¸Šå¤šä¸ªæ®µè½ï¼Œåªè¦åœ¨å®ƒå‰é¢ç¼©æ’ 4 ä¸ªç©ºç™½æˆ– 1 ä¸ª tab ã€‚ å¦‚æœè¦å»ºç«‹ä¸€ä¸ªå·²ç»æ ¼å¼åŒ–å¥½çš„ä»£ç åŒºå—ï¼Œåªè¦æ¯è¡Œéƒ½ç¼©è¿› 4 ä¸ªç©ºæ ¼æˆ–æ˜¯ä¸€ä¸ª tab å°±å¯ä»¥äº†ï¼Œè€Œ &amp;ã€&lt; å’Œ &gt; ä¹Ÿä¸€æ ·ä¼šè‡ªåŠ¨è½¬æˆ HTML å®ä½“ ####ä¿®è¾å’Œå¼ºè°ƒ Markdown ä½¿ç”¨æ˜Ÿå·å’Œåº•çº¿æ¥æ ‡è®°éœ€è¦å¼ºè°ƒçš„åŒºæ®µã€‚ å¸¸ç”¨è¯­æ³•ï¼š è¾“å‡ºåçš„æ•ˆæœ Markdown å¿«æ·é”® æ˜¯å¦å¥½ç”¨ Bold text âŒ˜ + Bï¼ˆmacï¼‰ å¥½ç”¨ Emphasize text âŒ˜ + Iï¼ˆmacï¼‰ å¥½ç”¨ Strike-through #text Ctrl + Alt + U ä¸å¥½ç”¨ Blockquote &gt; quote Ctrl + Q Markdown è¯­æ³•: Some of these words *are emphasized*. Some of these words _are emphasized also_. Use two asterisks for **strong emphasis**. Or, if you prefer, __use two underscores instead__. è¾“å‡º HTML ä¸º: &lt;p&gt;Some of these words &lt;em&gt;are emphasized&lt;/em&gt;. Some of these words &lt;em&gt;are emphasized also&lt;/em&gt;.&lt;/p&gt; &lt;p&gt;Use two asterisks for &lt;strong&gt;strong emphasis&lt;/strong&gt;. Or, if you prefer, &lt;strong&gt;use two underscores instead&lt;/strong&gt;.&lt;/p&gt; ####åˆ—è¡¨æ— åºåˆ—è¡¨ä½¿ç”¨æ˜Ÿå·ã€åŠ å·å’Œå‡å·æ¥åšä¸ºåˆ—è¡¨çš„é¡¹ç›®æ ‡è®°ï¼Œè¿™äº›ç¬¦å·æ˜¯éƒ½å¯ä»¥ä½¿ç”¨çš„. å¸¸ç”¨è¯­æ³•ï¼š è¾“å‡ºåçš„æ•ˆæœ Markdown å¿«æ·é”® æ˜¯å¦å¥½ç”¨ List * item Ctrl + L å¥½ç”¨ List + item List - item List 1 item æ˜Ÿå· * Candy. * Gum. * Booze. åŠ å· + Candy. + Gum. + Booze. å’Œå‡å· - Candy. - Gum. - Booze. éƒ½ä¼šè¾“å‡º HTML ä¸ºï¼š &lt;ul&gt; &lt;li&gt;Candy.&lt;/li&gt; &lt;li&gt;Gum.&lt;/li&gt; &lt;li&gt;Booze.&lt;/li&gt; &lt;/ul&gt; æœ‰åºçš„åˆ—è¡¨åˆ™æ˜¯ä½¿ç”¨ä¸€èˆ¬çš„æ•°å­—æ¥ç€ä¸€ä¸ªè‹±æ–‡å¥ç‚¹ä½œä¸ºé¡¹ç›®æ ‡è®° 1. Red 2. Green 3. Blue è¾“å‡º HTML ä¸ºï¼š &lt;ol&gt; &lt;li&gt;Red&lt;/li&gt; &lt;li&gt;Green&lt;/li&gt; &lt;li&gt;Blue&lt;/li&gt; &lt;/ol&gt; ####é“¾æ¥ Markdown æ”¯æ´ä¸¤ç§å½¢å¼çš„é“¾æ¥è¯­æ³•ï¼š è¡Œå†… å’Œ å‚è€ƒ ä¸¤ç§å½¢å¼ï¼Œä¸¤ç§éƒ½æ˜¯ä½¿ç”¨è§’æ‹¬å·æ¥æŠŠæ–‡å­—è½¬æˆè¿ç»“ã€‚ å¸¸ç”¨è¯­æ³• è¾“å‡ºåçš„æ•ˆæœ Markdown å¿«æ·é”® Link title è¡Œå†…å½¢å¼æ˜¯ç›´æ¥åœ¨åé¢ç”¨æ‹¬å·ç›´æ¥æ¥ä¸Šé“¾æ¥ï¼š This is an [example link](http://example.com/). è¾“å‡º HTML ä¸º &lt;p&gt;This is an &lt;a href=&quot;http://example.com/&quot;&gt;example link&lt;/a&gt;.&lt;/p&gt; ä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ€§çš„åŠ ä¸Š title å±æ€§ï¼š This is an [example link](http://example.com/ &quot;With a Title&quot;). è¾“å‡º HTML ä¸º &lt;p&gt;This is an &lt;a href=&quot;http://example.com/&quot; title=&quot;With a Title&quot;&gt;example link&lt;/a&gt;.&lt;/p&gt; å‚è€ƒå½¢å¼çš„é“¾æ¥è®©ä½ å¯ä»¥ä¸ºé“¾æ¥å®šä¸€ä¸ªåç§°ï¼Œä¹‹åä½ å¯ä»¥åœ¨æ–‡ä»¶çš„å…¶ä»–åœ°æ–¹å®šä¹‰è¯¥é“¾æ¥çš„å†…å®¹ï¼š I get 10 times more traffic from [Google][1] than from[Yahoo][2] or [MSN][3]. [1]: http://google.com/ &quot;Google&quot; [2]: http://search.yahoo.com/ &quot;Yahoo Search&quot; [3]: http://search.msn.com/ &quot;MSN Search&quot; è¾“å‡º HTML ä¸ºï¼š &lt;p&gt;I get 10 times more traffic from &lt;a href=&quot;http://google.com/&quot;title=&quot;Google&quot;&gt;Google&lt;/a&gt; than from &lt;a href=&quot;http://search.yahoo.com/&quot;title=&quot;Yahoo Search&quot;&gt;Yahoo&lt;/a&gt; or &lt;a href=&quot;http://search.msn.com/&quot;title=&quot;MSN Search&quot;&gt;MSN&lt;/a&gt;.&lt;/p&gt; title å±æ€§æ˜¯é€‰æ‹©æ€§çš„ï¼Œé“¾æ¥åç§°å¯ä»¥ç”¨å­—æ¯ã€æ•°å­—å’Œç©ºæ ¼ï¼Œä½†æ˜¯ä¸åˆ†å¤§å°å†™ï¼š I start my morning with a cup of coffee and [The New York Times][NY Times]. [ny times]: http://www.nytimes.com/ è¾“å‡º HTML ä¸ºï¼š &lt;p&gt;I start my morning with a cup of coffee and&lt;a href=&quot;http://www.nytimes.com/&quot;&gt;The New York Times&lt;/a&gt;.&lt;/p&gt; ####ä»£ç  å¸¸ç”¨è¯­æ³• è¾“å‡ºåçš„æ•ˆæœ Markdown å¿«æ·é”® æ˜¯å¦å¥½ç”¨ Inline Code code âŒ˜ + K å¥½ç”¨ åœ¨ä¸€èˆ¬çš„æ®µè½æ–‡å­—ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨åå¼•å· ` æ¥æ ‡è®°ä»£ç åŒºæ®µï¼ŒåŒºæ®µå†…çš„ &amp;ã€&lt; å’Œ &gt; éƒ½ä¼šè¢«è‡ªåŠ¨çš„è½¬æ¢æˆ HTML å®ä½“ï¼Œè¿™é¡¹ç‰¹æ€§è®©ä½ å¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨ä»£ç åŒºæ®µå†…æ’å…¥ HTML ç ï¼š I strongly recommend against using any `&lt;blink&gt;` tags.I wish SmartyPants used named entities like `&amp;mdash;`instead of decimal-encoded entites like `&amp;#8212;`. è¾“å‡º HTML ä¸ºï¼š &lt;p&gt;I strongly recommend against using any&lt;code&gt;&amp;lt;blink&amp;gt;&lt;/code&gt; tags.&lt;/p&gt;&lt;p&gt;I wish SmartyPants used named entities like&lt;code&gt;&amp;amp;mdash;&lt;/code&gt; instead of decimal-encodedentites like &lt;code&gt;&amp;amp;#8212;&lt;/code&gt;.&lt;/p&gt; ###å›¾ç‰‡ å›¾ç‰‡çš„è¯­æ³•å’Œé“¾æ¥å¾ˆåƒã€‚ è¡Œå†…å½¢å¼ï¼ˆtitle æ˜¯é€‰æ‹©æ€§çš„ï¼‰ï¼š ![alt text](/images/email.png &quot;Title&quot;) ç»“æœ å‚è€ƒå½¢å¼ï¼š ![alt text][id] [id]: /images/email.png &quot;Title&quot; ç»“æœ æç¤ºï¼šgithubå¼•ç”¨å›¾ç‰‡èµ„æºåº”è¯¥æ”¾åœ¨octopress/source/images/ tablemarkdown ç”Ÿæˆtable å¯ä»¥ç›´æ¥ç”¨htmlæ ‡ç­¾ ç›¸å¯¹æ¯”è¾ƒéº»çƒ¦ ï¼ˆgithub ä¸æ”¯æŒè¡¨æ ¼ï¼‰ &lt;table border=4 width=250 align=center bordercolor=red&gt; &lt;tr&gt; &lt;td&gt;åŒ—äº¬ &lt;/td&gt; &lt;td&gt;é›¾éœ¾ &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;æ·±åœ³ &lt;/td&gt; &lt;td&gt;æš´é›¨ &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; åªæœ‰width èµ·ä½œç”¨ å“åº”çš„æ•ˆæœ åŒ—äº¬ é›¾éœ¾ æ·±åœ³ æš´é›¨ ####æ–‡æœ¬æ ·å¼ é“¾æ¥ :Title åŠ ç²— :Bold æ–œä½“å­— :Italics åˆ é™¤çº¿ :text é«˜äº® :==text== æ®µè½ : æ®µè½ä¹‹é—´ç©ºä¸€è¡Œ æ¢è¡Œç¬¦ : ä¸€è¡Œç»“æŸæ—¶è¾“å…¥ä¸¤ä¸ªç©ºæ ¼ åˆ—è¡¨ :* æ·»åŠ æ˜Ÿå·æˆä¸ºä¸€ä¸ªæ–°çš„åˆ—è¡¨é¡¹ã€‚ å¼•ç”¨ :&gt; å¼•ç”¨å†…å®¹ å†…åµŒä»£ç  : alert(&#39;Hello World&#39;); ç”»æ°´å¹³çº¿ (HR) :â€”â€”â€“ #####å‚è€ƒé“¾æ¥ï¼š http://wowubuntu.com/markdown/basic.html markdownç™¾åº¦ç™¾ç§‘","tags":[]},{"title":"åšå®¢çš„ç¬¬ä¸€å¤©","date":"2015-07-31T03:52:07.000Z","path":"2015/07/31/2015-08-03-åšå®¢ç¬¬ä¸€å¤©/","text":"#æ–°çš„ä¸€å¤©æ–°çš„å¼€å§‹ã€‚åªæœ‰ä¸æ–­çš„å­¦ä¹ ä¸æ–­çš„ç§¯ç´¯æ‰èƒ½å¼ºå¤§è‡ªå·±ã€‚åŠ æ²¹ã€‚","tags":[]}]